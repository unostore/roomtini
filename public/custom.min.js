(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})})(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function p(){var e=s();e!==o&&(o=e,r.trigger(i))}var r=e(t),i="orientationchange",s,o,u,a,f={0:!0,180:!0},l,c,h;if(e.support.orientation){l=t.innerWidth||r.width(),c=t.innerHeight||r.height(),h=50,u=l>c&&l-c>h,a=f[t.orientation];if(u&&a||!u&&!a)f={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;o=s(),r.bind("throttledresize",p)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",p)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=s=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=f[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(e,this),function(e,t,n,r){function T(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function N(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=T(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function C(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function k(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function L(){g=!1}function A(){g=!0}function O(){E=0,v.length=0,m=!1,A()}function M(){L()}function _(){D(),c=setTimeout(function(){c=0,O()},e.vmouse.resetTimerDuration)}function D(){c&&(clearTimeout(c),c=0)}function P(t,n,r){var i;if(r&&r[t]||!r&&k(n.target,t))i=N(n,t),e(n.target).trigger(i);return i}function H(t){var n=e.data(t.target,s),r;!m&&(!E||E!==n)&&(r=P("v"+t.type,t),r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function B(t){var n=T(t).touches,r,i,o;n&&n.length===1&&(r=t.target,i=C(r),i.hasVirtualBinding&&(E=w++,e.data(r,s,E),D(),M(),d=!1,o=T(t).touches[0],h=o.pageX,p=o.pageY,P("vmouseover",t,i),P("vmousedown",t,i)))}function j(e){if(g)return;d||P("vmousecancel",e,C(e.target)),d=!0,_()}function F(t){if(g)return;var n=T(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=C(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&P("vmousecancel",t,s),P("vmousemove",t,s),_()}function I(e){if(g)return;A();var t=C(e.target),n,r;P("vmouseup",e,t),d||(n=P("vclick",e,t),n&&n.isDefaultPrevented()&&(r=T(e).changedTouches[0],v.push({touchID:E,x:r.clientX,y:r.clientY}),m=!0)),P("vmouseout",e,t),d=!1,_()}function q(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function R(){}function U(t){var n=t.substr(1);return{setup:function(){q(this)||e.data(this,i,{});var r=e.data(this,i);r[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,H),e(this).bind(n,R),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",B).bind("touchend",I).bind("touchmove",F).bind("scroll",j))},teardown:function(){--l[t],l[t]||b.unbind(n,H),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",B).unbind("touchmove",F).unbind("touchend",I).unbind("scroll",j));var r=e(this),s=e.data(this,i);s&&(s[t]=!1),r.unbind(n,R),q(this)||r.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S,x;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(x=0;x<o.length;x++)e.event.special[o[x]]=U(o[x]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function l(t,n,i,s){var o=i.type;i.type=n,s?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=o}var i=e(n),s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})},teardown:function(){e(this).unbind(o)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(s){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),!r&&o===e.target?l(t,"tap",e):r&&e.preventDefault()}r=!1;if(s.which&&s.which!==1)return!1;var o=s.target,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),l(t,"taphold",e.Event("taphold",{target:o}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),i.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,s=e.clientY;if(e.pageY===0&&Math.floor(s)>Math.floor(e.pageY)||e.pageX===0&&Math.floor(i)>Math.floor(e.pageX))i-=n,s-=r;else if(s<e.pageY-r||i<e.pageX-n)i=e.pageX-n,s=e.pageY-r;return{x:i,y:s}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,i){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return l(r,"swipe",e.Event("swipe",{target:i,swipestart:t,swipestop:n}),!0),l(r,s,e.Event(s,{target:i,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),s={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=s,s.start=function(t){if(e.event.special.swipe.eventInProgress)return;e.event.special.swipe.eventInProgress=!0;var r,o=e.event.special.swipe.start(t),u=t.target,l=!1;s.move=function(t){if(!o||t.isDefaultPrevented())return;r=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(o,r,n,u),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(o.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()},s.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,i.off(f,s.move),s.move=null},i.on(f,s.move).one(a,s.stop)},r.on(u,s.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,t.length===0&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(u,n.start),n.move&&i.off(f,n.move),n.stop&&i.off(a,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)});jQuery(document).ready(function($){var MqM=768,MqL=1024;var faqsSections=$(".cd-faq-group"),faqTrigger=$(".cd-faq-trigger"),faqsContainer=$(".cd-faq-items"),faqsCategoriesContainer=$(".cd-faq-categories"),faqsCategories=faqsCategoriesContainer.find("a"),closeFaqsContainer=$(".cd-close-panel");faqsCategories.on("click",function(event){event.preventDefault();var selectedHref=$(this).attr("href"),target=$(selectedHref);if($(window).width()<MqM){faqsContainer.scrollTop(0).addClass("slide-in").children("ul").removeClass("selected").end().children(selectedHref).addClass("selected");closeFaqsContainer.addClass("move-left");$("body").addClass("cd-overlay").addClass("hhidden");console.log("low res",$(window).width())}else{$("body,html").animate({scrollTop:target.offset().top-30},600)}});$("body").bind("click touchstart",function(event){if($(event.target).is("body.cd-overlay")||$(event.target).is(".cd-close-panel")){closePanel(event);$("body").removeClass("hhidden")}});faqsContainer.on("swiperight",function(event){closePanel(event)});faqTrigger.on("click",function(event){event.preventDefault();$(this).next(".cd-faq-content").slideToggle(200).end().parent("li").toggleClass("content-visible")});$(window).on("scroll",function(){if($(window).width()>MqL){!window.requestAnimationFrame?updateCategory():window.requestAnimationFrame(updateCategory)}});$(window).on("resize",function(){if($(window).width()<=MqL){faqsCategoriesContainer.removeClass("is-fixed").css({"-moz-transform":"translateY(0)","-webkit-transform":"translateY(0)","-ms-transform":"translateY(0)","-o-transform":"translateY(0)",transform:"translateY(0)"})}if(faqsCategoriesContainer.hasClass("is-fixed")){faqsCategoriesContainer.css({left:faqsContainer.offset().left})}});function closePanel(e){e.preventDefault();faqsContainer.removeClass("slide-in").find("li").show();closeFaqsContainer.removeClass("move-left");$("body").removeClass("cd-overlay")}function updateCategory(){updateCategoryPosition();updateSelectedCategory()}function updateCategoryPosition(){var top=$(".cd-faq").offset().top,height=jQuery(".cd-faq").height()-jQuery(".cd-faq-categories").height(),margin=$("#header").hasClass("sticky-header")?100:20;if(top-margin<=$(window).scrollTop()&&top-margin+height>$(window).scrollTop()){var leftValue=faqsCategoriesContainer.offset().left,widthValue=faqsCategoriesContainer.width();faqsCategoriesContainer.addClass("is-fixed").css({left:leftValue,top:margin,"-moz-transform":"translateZ(0)","-webkit-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)"})}else if(top-margin+height<=$(window).scrollTop()){var delta=top-margin+height-$(window).scrollTop();faqsCategoriesContainer.css({"-moz-transform":"translateZ(0) translateY("+delta+"px)","-webkit-transform":"translateZ(0) translateY("+delta+"px)","-ms-transform":"translateZ(0) translateY("+delta+"px)","-o-transform":"translateZ(0) translateY("+delta+"px)",transform:"translateZ(0) translateY("+delta+"px)"})}else{faqsCategoriesContainer.removeClass("is-fixed").css({left:0,top:0})}}function updateSelectedCategory(){faqsSections.each(function(){var actual=$(this),margin=parseInt($(".cd-faq-title").eq(1).css("marginTop").replace("px","")),activeCategory=$('.cd-faq-categories a[href="#'+actual.attr("id")+'"]'),topSection=activeCategory.parent("li").is(":first-child")?0:Math.round(actual.offset().top);if(topSection-30<=$(window).scrollTop()&&Math.round(actual.offset().top)+actual.height()+margin-30>$(window).scrollTop()){activeCategory.addClass("selected")}else{activeCategory.removeClass("selected")}})}});var $=jQuery.noConflict();$.fn.inlineStyle=function(prop){return this.prop("style")[$.camelCase(prop)]};$.fn.doOnce=function(func){this.length&&func.apply(this);return this};if($().infinitescroll){$.extend($.infinitescroll.prototype,{_setup_portfolioinfiniteitemsloader:function infscr_setup_portfolioinfiniteitemsloader(){var opts=this.options,instance=this;$(opts.nextSelector).click(function(e){if(e.which==1&&!e.metaKey&&!e.shiftKey){e.preventDefault();instance.retrieve()}});instance.options.loading.start=function(opts){opts.loading.msg.appendTo(opts.loading.selector).show(opts.loading.speed,function(){instance.beginAjax(opts)})}},_showdonemsg_portfolioinfiniteitemsloader:function infscr_showdonemsg_portfolioinfiniteitemsloader(){var opts=this.options,instance=this;opts.loading.msg.find("img").hide().parent().find("div").html(opts.loading.finishedMsg).animate({opacity:1},2e3,function(){$(this).parent().fadeOut("normal")});$(opts.navSelector).fadeOut("normal");opts.errorCallback.call($(opts.contentSelector)[0],"done")}})}else{console.log("Infinite Scroll not defined.")}(function(){var lastTime=0;var vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}})();function debounce(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this;args=arguments;timestamp=new Date;var later=function(){var last=new Date-timestamp;if(last<wait){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate)result=func.apply(context,args)}};var callNow=immediate&&!timeout;if(!timeout){timeout=setTimeout(later,wait)}if(callNow)result=func.apply(context,args);return result}}var requesting=false;var killRequesting=debounce(function(){requesting=false},100);function onScrollSliderParallax(){if(!requesting){requesting=true;requestAnimationFrame(function(){SEMICOLON.slider.sliderParallax();SEMICOLON.slider.sliderElementsFade()})}killRequesting()}var SEMICOLON=SEMICOLON||{};(function($){"use strict";SEMICOLON.initialize={init:function(){SEMICOLON.initialize.responsiveClasses();SEMICOLON.initialize.imagePreload(".portfolio-item:not(:has(.fslider)) img");SEMICOLON.initialize.stickyElements();SEMICOLON.initialize.goToTop();SEMICOLON.initialize.lazyLoad();SEMICOLON.initialize.fullScreen();SEMICOLON.initialize.verticalMiddle();SEMICOLON.initialize.lightbox();SEMICOLON.initialize.resizeVideos();SEMICOLON.initialize.imageFade();SEMICOLON.initialize.pageTransition();SEMICOLON.initialize.dataResponsiveClasses();SEMICOLON.initialize.dataResponsiveHeights();$(".fslider").addClass("preloader2")},responsiveClasses:function(){if(typeof jRespond==="undefined"){console.log("responsiveClasses: jRespond not Defined.");return true}var jRes=jRespond([{label:"smallest",enter:0,exit:479},{label:"handheld",enter:480,exit:767},{label:"tablet",enter:768,exit:991},{label:"laptop",enter:992,exit:1199},{label:"desktop",enter:1200,exit:1e4}]);jRes.addFunc([{breakpoint:"desktop",enter:function(){$body.addClass("device-lg")},exit:function(){$body.removeClass("device-lg")}},{breakpoint:"laptop",enter:function(){$body.addClass("device-md")},exit:function(){$body.removeClass("device-md")}},{breakpoint:"tablet",enter:function(){$body.addClass("device-sm")},exit:function(){$body.removeClass("device-sm")}},{breakpoint:"handheld",enter:function(){$body.addClass("device-xs")},exit:function(){$body.removeClass("device-xs")}},{breakpoint:"smallest",enter:function(){$body.addClass("device-xxs")},exit:function(){$body.removeClass("device-xxs")}}])},imagePreload:function(selector,parameters){var params={delay:250,transition:400,easing:"linear"};$.extend(params,parameters);$(selector).each(function(){var image=$(this);image.css({visibility:"hidden",opacity:0,display:"block"});image.wrap('<span class="preloader" />');image.one("load",function(evt){$(this).delay(params.delay).css({visibility:"visible"}).animate({opacity:1},params.transition,params.easing,function(){$(this).unwrap('<span class="preloader" />')})}).each(function(){if(this.complete)$(this).trigger("load")})})},verticalMiddle:function(){if($verticalMiddleEl.length>0){$verticalMiddleEl.each(function(){var element=$(this),verticalMiddleH=element.outerHeight(),headerHeight=$header.outerHeight();if(element.parents("#slider").length>0&&!element.hasClass("ignore-header")){if($header.hasClass("transparent-header")&&($body.hasClass("device-lg")||$body.hasClass("device-md"))){verticalMiddleH=verticalMiddleH-70;if($slider.next("#header").length>0){verticalMiddleH=verticalMiddleH+headerHeight}}}if($body.hasClass("device-xs")||$body.hasClass("device-xxs")){if(element.parents(".full-screen").length&&!element.parents(".force-full-screen").length){if(element.children(".col-padding").length>0){element.css({position:"relative",top:"0",width:"auto",marginTop:"0"}).addClass("clearfix")}else{element.css({position:"relative",top:"0",width:"auto",marginTop:"0",paddingTop:"60px",paddingBottom:"60px"}).addClass("clearfix")}}else{element.css({position:"absolute",top:"50%",width:"100%",paddingTop:"0",paddingBottom:"0",marginTop:-(verticalMiddleH/2)+"px"})}}else{element.css({position:"absolute",top:"50%",width:"100%",paddingTop:"0",paddingBottom:"0",marginTop:-(verticalMiddleH/2)+"px"})}})}},stickyElements:function(){if($siStickyEl.length>0){var siStickyH=$siStickyEl.outerHeight();$siStickyEl.css({marginTop:-(siStickyH/2)+"px"})}if($dotsMenuEl.length>0){var opmdStickyH=$dotsMenuEl.outerHeight();$dotsMenuEl.css({marginTop:-(opmdStickyH/2)+"px"})}},goToTop:function(){var elementScrollSpeed=$goToTopEl.attr("data-speed"),elementScrollEasing=$goToTopEl.attr("data-easing");if(!elementScrollSpeed){elementScrollSpeed=700}if(!elementScrollEasing){elementScrollEasing="easeOutQuad"}$goToTopEl.click(function(){$("body,html").stop(true).animate({scrollTop:0},Number(elementScrollSpeed),elementScrollEasing);return false})},goToTopScroll:function(){var elementMobile=$goToTopEl.attr("data-mobile"),elementOffset=$goToTopEl.attr("data-offset");if(!elementOffset){elementOffset=450}if(elementMobile!="true"&&($body.hasClass("device-xs")||$body.hasClass("device-xxs"))){return true}if($window.scrollTop()>Number(elementOffset)){$goToTopEl.fadeIn()}else{$goToTopEl.fadeOut()}},fullScreen:function(){if($fullScreenEl.length>0){$fullScreenEl.each(function(){var element=$(this),scrHeight=window.innerHeight?window.innerHeight:$window.height(),negativeHeight=element.attr("data-negative-height");if(element.attr("id")=="slider"){var sliderHeightOff=$slider.offset().top;scrHeight=scrHeight-sliderHeightOff;if(element.find(".slider-parallax-inner").length>0){var transformVal=element.find(".slider-parallax-inner").css("transform"),transformX=transformVal.match(/-?[\d\.]+/g);if(!transformX){var transformXvalue=0}else{var transformXvalue=transformX[5]}scrHeight=(window.innerHeight?window.innerHeight:$window.height())+Number(transformXvalue)-sliderHeightOff}if($("#slider.with-header").next("#header:not(.transparent-header)").length>0&&($body.hasClass("device-lg")||$body.hasClass("device-md"))){var headerHeightOff=$header.outerHeight();scrHeight=scrHeight-headerHeightOff}}if(element.parents(".full-screen").length>0){scrHeight=element.parents(".full-screen").height()}if($body.hasClass("device-xs")||$body.hasClass("device-xxs")){if(!element.hasClass("force-full-screen")){scrHeight="auto"}}if(negativeHeight){scrHeight=scrHeight-Number(negativeHeight)}element.css("height",scrHeight);if(element.attr("id")=="slider"&&!element.hasClass("canvas-slider-grid")){if(element.has(".swiper-slide")){element.find(".swiper-slide").css("height",scrHeight)}}})}},maxHeight:function(){if($commonHeightEl.length>0){if($commonHeightEl.hasClass("customjs")){return true}$commonHeightEl.each(function(){var element=$(this);if(element.find(".common-height").length>0){SEMICOLON.initialize.commonHeight(element.find(".common-height:not(.customjs)"))}SEMICOLON.initialize.commonHeight(element)})}},commonHeight:function(element){var maxHeight=0;element.children("[class*=col-]").each(function(){var element=$(this).children();if(element.hasClass("max-height")){maxHeight=element.outerHeight()}else{if(element.outerHeight()>maxHeight)maxHeight=element.outerHeight()}});element.children("[class*=col-]").each(function(){$(this).height(maxHeight)})},testimonialsGrid:function(){if($testimonialsGridEl.length>0){if($body.hasClass("device-sm")||$body.hasClass("device-md")||$body.hasClass("device-lg")){var maxHeight=0;$testimonialsGridEl.each(function(){$(this).find("li > .testimonial").each(function(){if($(this).height()>maxHeight){maxHeight=$(this).height()}});$(this).find("li").height(maxHeight);maxHeight=0})}else{$testimonialsGridEl.find("li").css({height:"auto"})}}},lightbox:function(){if(!$().magnificPopup){console.log("lightbox: Magnific Popup not Defined.");return true}var $lightboxImageEl=$('[data-lightbox="image"]'),$lightboxGalleryEl=$('[data-lightbox="gallery"]'),$lightboxIframeEl=$('[data-lightbox="iframe"]'),$lightboxInlineEl=$('[data-lightbox="inline"]'),$lightboxAjaxEl=$('[data-lightbox="ajax"]'),$lightboxAjaxGalleryEl=$('[data-lightbox="ajax-gallery"]');if($lightboxImageEl.length>0){$lightboxImageEl.magnificPopup({type:"image",closeOnContentClick:true,closeBtnInside:false,fixedContentPos:true,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:true}})}if($lightboxGalleryEl.length>0){$lightboxGalleryEl.each(function(){var element=$(this);if(element.find('a[data-lightbox="gallery-item"]').parent(".clone").hasClass("clone")){element.find('a[data-lightbox="gallery-item"]').parent(".clone").find('a[data-lightbox="gallery-item"]').attr("data-lightbox","")}if(element.find('a[data-lightbox="gallery-item"]').parents(".cloned").hasClass("cloned")){element.find('a[data-lightbox="gallery-item"]').parents(".cloned").find('a[data-lightbox="gallery-item"]').attr("data-lightbox","")}element.magnificPopup({delegate:'a[data-lightbox="gallery-item"]',type:"image",closeOnContentClick:true,closeBtnInside:false,fixedContentPos:true,mainClass:"mfp-no-margins mfp-fade",image:{verticalFit:true},gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]}})})}if($lightboxIframeEl.length>0){$lightboxIframeEl.magnificPopup({disableOn:600,type:"iframe",removalDelay:160,preloader:false,fixedContentPos:false})}if($lightboxInlineEl.length>0){$lightboxInlineEl.magnificPopup({type:"inline",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:false,fixedContentPos:true,overflowY:"scroll"})}if($lightboxAjaxEl.length>0){$lightboxAjaxEl.magnificPopup({type:"ajax",closeBtnInside:false,callbacks:{ajaxContentAdded:function(mfpResponse){SEMICOLON.widget.loadFlexSlider();SEMICOLON.initialize.resizeVideos();SEMICOLON.widget.masonryThumbs()},open:function(){$body.addClass("ohidden")},close:function(){$body.removeClass("ohidden")}}})}if($lightboxAjaxGalleryEl.length>0){$lightboxAjaxGalleryEl.magnificPopup({delegate:'a[data-lightbox="ajax-gallery-item"]',type:"ajax",closeBtnInside:false,gallery:{enabled:true,preload:0,navigateByImgClick:false},callbacks:{ajaxContentAdded:function(mfpResponse){SEMICOLON.widget.loadFlexSlider();SEMICOLON.initialize.resizeVideos();SEMICOLON.widget.masonryThumbs()},open:function(){$body.addClass("ohidden")},close:function(){$body.removeClass("ohidden")}}})}},modal:function(){if(!$().magnificPopup){console.log("modal: Magnific Popup not Defined.");return true}var $modal=$(".modal-on-load:not(.customjs)");if($modal.length>0){$modal.each(function(){var element=$(this),elementTarget=element.attr("data-target"),elementTargetValue=elementTarget.split("#")[1],elementDelay=element.attr("data-delay"),elementTimeout=element.attr("data-timeout"),elementAnimateIn=element.attr("data-animate-in"),elementAnimateOut=element.attr("data-animate-out");if(!element.hasClass("enable-cookie")){$.removeCookie(elementTargetValue)}if(element.hasClass("enable-cookie")){var elementCookie=$.cookie(elementTargetValue);if(typeof elementCookie!=="undefined"&&elementCookie=="0"){return true}}if(!elementDelay){elementDelay=1500}else{elementDelay=Number(elementDelay)+1500}var t=setTimeout(function(){$.magnificPopup.open({items:{src:elementTarget},type:"inline",mainClass:"mfp-no-margins mfp-fade",closeBtnInside:false,fixedContentPos:true,removalDelay:500,callbacks:{open:function(){if(elementAnimateIn!=""){$(elementTarget).addClass(elementAnimateIn+" animated")}},beforeClose:function(){if(elementAnimateOut!=""){$(elementTarget).removeClass(elementAnimateIn).addClass(elementAnimateOut)}},afterClose:function(){if(elementAnimateIn!=""||elementAnimateOut!=""){$(elementTarget).removeClass(elementAnimateIn+" "+elementAnimateOut+" animated")}if(element.hasClass("enable-cookie")){$.cookie(elementTargetValue,"0")}}}},0)},Number(elementDelay));if(elementTimeout!=""){var to=setTimeout(function(){$.magnificPopup.close()},Number(elementDelay)+Number(elementTimeout))}})}},resizeVideos:function(){if(!$().fitVids){console.log("resizeVideos: FitVids not Defined.");return true}$("#content,#footer,#slider:not(.revslider-wrap),.landing-offer-media,.portfolio-ajax-modal,.mega-menu-column").fitVids({customSelector:"iframe[src^='http://www.dailymotion.com/embed'], iframe[src*='maps.google.com'], iframe[src*='google.com/maps']",ignore:".no-fv"})},imageFade:function(){$(".image_fade").hover(function(){$(this).filter(":not(:animated)").animate({opacity:.8},400)},function(){$(this).animate({opacity:1},400)})},blogTimelineEntries:function(){$(".post-timeline.grid-2").find(".entry").each(function(){var position=$(this).inlineStyle("left");if(position=="0px"){$(this).removeClass("alt")}else{$(this).addClass("alt")}$(this).find(".entry-timeline").fadeIn()})},pageTransition:function(){if($body.hasClass("no-transition")){return true}if(!$().animsition){$body.addClass("no-transition");console.log("pageTransition: Animsition not Defined.");return true}window.onpageshow=function(event){if(event.persisted){window.location.reload()}};var animationIn=$body.attr("data-animation-in"),animationOut=$body.attr("data-animation-out"),durationIn=$body.attr("data-speed-in"),durationOut=$body.attr("data-speed-out"),loaderTimeOut=$body.attr("data-loader-timeout"),loaderStyle=$body.attr("data-loader"),loaderColor=$body.attr("data-loader-color"),loaderStyleHtml=$body.attr("data-loader-html"),loaderBgStyle="",loaderBorderStyle="",loaderBgClass="",loaderBorderClass="",loaderBgClass2="",loaderBorderClass2="";if(!animationIn){animationIn="fadeIn"}if(!animationOut){animationOut="fadeOut"}if(!durationIn){durationIn=1500}if(!durationOut){durationOut=800}if(!loaderStyleHtml){loaderStyleHtml='<div class="css3-spinner-bounce1"></div><div class="css3-spinner-bounce2"></div><div class="css3-spinner-bounce3"></div>'}if(!loaderTimeOut){loaderTimeOut=false}else{loaderTimeOut=Number(loaderTimeOut)}if(loaderColor){if(loaderColor=="theme"){loaderBgClass=" bgcolor";loaderBorderClass=" border-color";loaderBgClass2=' class="bgcolor"';loaderBorderClass2=' class="border-color"'}else{loaderBgStyle=' style="background-color:'+loaderColor+';"';loaderBorderStyle=' style="border-color:'+loaderColor+';"'}loaderStyleHtml='<div class="css3-spinner-bounce1'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-bounce2'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-bounce3'+loaderBgClass+'"'+loaderBgStyle+"></div>"}if(loaderStyle=="2"){loaderStyleHtml='<div class="css3-spinner-flipper'+loaderBgClass+'"'+loaderBgStyle+"></div>"}else if(loaderStyle=="3"){loaderStyleHtml='<div class="css3-spinner-double-bounce1'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-double-bounce2'+loaderBgClass+'"'+loaderBgStyle+"></div>"}else if(loaderStyle=="4"){loaderStyleHtml='<div class="css3-spinner-rect1'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-rect2'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-rect3'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-rect4'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-rect5'+loaderBgClass+'"'+loaderBgStyle+"></div>"}else if(loaderStyle=="5"){loaderStyleHtml='<div class="css3-spinner-cube1'+loaderBgClass+'"'+loaderBgStyle+'></div><div class="css3-spinner-cube2'+loaderBgClass+'"'+loaderBgStyle+"></div>"}else if(loaderStyle=="6"){loaderStyleHtml='<div class="css3-spinner-scaler'+loaderBgClass+'"'+loaderBgStyle+"></div>"}else if(loaderStyle=="7"){loaderStyleHtml='<div class="css3-spinner-grid-pulse"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="8"){loaderStyleHtml='<div class="css3-spinner-clip-rotate"><div'+loaderBorderClass2+loaderBorderStyle+"></div></div>"}else if(loaderStyle=="9"){loaderStyleHtml='<div class="css3-spinner-ball-rotate"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="10"){loaderStyleHtml='<div class="css3-spinner-zig-zag"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="11"){loaderStyleHtml='<div class="css3-spinner-triangle-path"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="12"){loaderStyleHtml='<div class="css3-spinner-ball-scale-multiple"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="13"){loaderStyleHtml='<div class="css3-spinner-ball-pulse-sync"><div'+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div><div"+loaderBgClass2+loaderBgStyle+"></div></div>"}else if(loaderStyle=="14"){loaderStyleHtml='<div class="css3-spinner-scale-ripple"><div'+loaderBorderClass2+loaderBorderStyle+"></div><div"+loaderBorderClass2+loaderBorderStyle+"></div><div"+loaderBorderClass2+loaderBorderStyle+"></div></div>"}$wrapper.animsition({inClass:animationIn,outClass:animationOut,inDuration:Number(durationIn),outDuration:Number(durationOut),linkElement:'#primary-menu ul li a:not([target="_blank"]):not([href*="#"]):not([data-lightbox]):not([href^="mailto"]):not([href^="tel"]):not([href^="sms"]):not([href^="call"])',loading:true,loadingParentElement:"body",loadingClass:"css3-spinner",loadingHtml:loaderStyleHtml,unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],
overlay:false,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",timeOut:loaderTimeOut})},lazyLoad:function(){var lazyLoadEl=$("[data-lazyload]");if(lazyLoadEl.length>0){lazyLoadEl.each(function(){var element=$(this),elementImg=element.attr("data-lazyload");element.attr("src","images/blank.svg").css({background:"url(images/preloader.gif) no-repeat center center #FFF"});element.appear(function(){element.css({background:"none"}).removeAttr("width").removeAttr("height").attr("src",elementImg)},{accX:0,accY:120},"easeInCubic")})}},topScrollOffset:function(){var topOffsetScroll=0;if(($body.hasClass("device-lg")||$body.hasClass("device-md"))&&!SEMICOLON.isMobile.any()){if($header.hasClass("sticky-header")){if($pagemenu.hasClass("dots-menu")){topOffsetScroll=100}else{topOffsetScroll=144}}else{if($pagemenu.hasClass("dots-menu")){topOffsetScroll=140}else{topOffsetScroll=184}}if(!$pagemenu.length){if($header.hasClass("sticky-header")){topOffsetScroll=100}else{topOffsetScroll=140}}}else{topOffsetScroll=40}return topOffsetScroll},defineColumns:function(element){var column=4;if(element.hasClass("portfolio-full")){if(element.hasClass("portfolio-3"))column=3;else if(element.hasClass("portfolio-5"))column=5;else if(element.hasClass("portfolio-6"))column=6;else column=4;if($body.hasClass("device-sm")&&(column==4||column==5||column==6)){column=3}else if($body.hasClass("device-xs")&&(column==3||column==4||column==5||column==6)){column=2}else if($body.hasClass("device-xxs")){column=1}}else if(element.hasClass("masonry-thumbs")){var lgCol=element.attr("data-lg-col"),mdCol=element.attr("data-md-col"),smCol=element.attr("data-sm-col"),xsCol=element.attr("data-xs-col"),xxsCol=element.attr("data-xxs-col");if(element.hasClass("col-2"))column=2;else if(element.hasClass("col-3"))column=3;else if(element.hasClass("col-5"))column=5;else if(element.hasClass("col-6"))column=6;else column=4;if($body.hasClass("device-lg")){if(lgCol){column=Number(lgCol)}}else if($body.hasClass("device-md")){if(mdCol){column=Number(mdCol)}}else if($body.hasClass("device-sm")){if(smCol){column=Number(smCol)}}else if($body.hasClass("device-xs")){if(xsCol){column=Number(xsCol)}}else if($body.hasClass("device-xxs")){if(xxsCol){column=Number(xxsCol)}}}return column},setFullColumnWidth:function(element){if(!$().isotope){console.log("setFullColumnWidth: Isotope not Defined.");return true}element.css({width:""});if(element.hasClass("portfolio-full")){var columns=SEMICOLON.initialize.defineColumns(element);var containerWidth=element.width();if(containerWidth==Math.floor(containerWidth/columns)*columns){containerWidth=containerWidth-1}var postWidth=Math.floor(containerWidth/columns);if($body.hasClass("device-xxs")){var deviceSmallest=1}else{var deviceSmallest=0}element.find(".portfolio-item").each(function(index){if(deviceSmallest==0&&$(this).hasClass("wide")){var elementSize=postWidth*2}else{var elementSize=postWidth}$(this).css({width:elementSize+"px"})})}else if(element.hasClass("masonry-thumbs")){var columns=SEMICOLON.initialize.defineColumns(element),containerWidth=element.innerWidth();if(containerWidth==windowWidth){containerWidth=windowWidth*1.004;element.css({width:containerWidth+"px"})}var postWidth=containerWidth/columns;postWidth=Math.floor(postWidth);if(postWidth*columns>=containerWidth){element.css({"margin-right":"-1px"})}element.children("a").css({width:postWidth+"px"});var firstElementWidth=element.find("a:eq(0)").outerWidth();element.isotope({masonry:{columnWidth:firstElementWidth}});var bigImageNumbers=element.attr("data-big");if(bigImageNumbers){bigImageNumbers=bigImageNumbers.split(",");var bigImageNumber="",bigi="";for(bigi=0;bigi<bigImageNumbers.length;bigi++){bigImageNumber=Number(bigImageNumbers[bigi])-1;element.find("a:eq("+bigImageNumber+")").css({width:firstElementWidth*2+"px"})}var t=setTimeout(function(){element.isotope("layout")},1e3)}}},aspectResizer:function(){var $aspectResizerEl=$(".aspect-resizer");if($aspectResizerEl.length>0){$aspectResizerEl.each(function(){var element=$(this),elementW=element.inlineStyle("width"),elementH=element.inlineStyle("height"),elementPW=element.parent().innerWidth()})}},dataResponsiveClasses:function(){var $dataClassXxs=$("[data-class-xxs]"),$dataClassXs=$("[data-class-xs]"),$dataClassSm=$("[data-class-sm]"),$dataClassMd=$("[data-class-md]"),$dataClassLg=$("[data-class-lg]");if($dataClassXxs.length>0){$dataClassXxs.each(function(){var element=$(this),elementClass=element.attr("data-class-xxs"),elementClassDelete=element.attr("data-class-xs")+" "+element.attr("data-class-sm")+" "+element.attr("data-class-md")+" "+element.attr("data-class-lg");if($body.hasClass("device-xxs")){element.removeClass(elementClassDelete);element.addClass(elementClass)}})}if($dataClassXs.length>0){$dataClassXs.each(function(){var element=$(this),elementClass=element.attr("data-class-xs"),elementClassDelete=element.attr("data-class-xxs")+" "+element.attr("data-class-sm")+" "+element.attr("data-class-md")+" "+element.attr("data-class-lg");if($body.hasClass("device-xs")){element.removeClass(elementClassDelete);element.addClass(elementClass)}})}if($dataClassSm.length>0){$dataClassSm.each(function(){var element=$(this),elementClass=element.attr("data-class-sm"),elementClassDelete=element.attr("data-class-xxs")+" "+element.attr("data-class-xs")+" "+element.attr("data-class-md")+" "+element.attr("data-class-lg");if($body.hasClass("device-sm")){element.removeClass(elementClassDelete);element.addClass(elementClass)}})}if($dataClassMd.length>0){$dataClassMd.each(function(){var element=$(this),elementClass=element.attr("data-class-md"),elementClassDelete=element.attr("data-class-xxs")+" "+element.attr("data-class-xs")+" "+element.attr("data-class-sm")+" "+element.attr("data-class-lg");if($body.hasClass("device-md")){element.removeClass(elementClassDelete);element.addClass(elementClass)}})}if($dataClassLg.length>0){$dataClassLg.each(function(){var element=$(this),elementClass=element.attr("data-class-lg"),elementClassDelete=element.attr("data-class-xxs")+" "+element.attr("data-class-xs")+" "+element.attr("data-class-sm")+" "+element.attr("data-class-md");if($body.hasClass("device-lg")){element.removeClass(elementClassDelete);element.addClass(elementClass)}})}},dataResponsiveHeights:function(){var $dataHeightXxs=$("[data-height-xxs]"),$dataHeightXs=$("[data-height-xs]"),$dataHeightSm=$("[data-height-sm]"),$dataHeightMd=$("[data-height-md]"),$dataHeightLg=$("[data-height-lg]");if($dataHeightXxs.length>0){$dataHeightXxs.each(function(){var element=$(this),elementHeight=element.attr("data-height-xxs");if($body.hasClass("device-xxs")){if(elementHeight!=""){element.css("height",elementHeight)}}})}if($dataHeightXs.length>0){$dataHeightXs.each(function(){var element=$(this),elementHeight=element.attr("data-height-xs");if($body.hasClass("device-xs")){if(elementHeight!=""){element.css("height",elementHeight)}}})}if($dataHeightSm.length>0){$dataHeightSm.each(function(){var element=$(this),elementHeight=element.attr("data-height-sm");if($body.hasClass("device-sm")){if(elementHeight!=""){element.css("height",elementHeight)}}})}if($dataHeightMd.length>0){$dataHeightMd.each(function(){var element=$(this),elementHeight=element.attr("data-height-md");if($body.hasClass("device-md")){if(elementHeight!=""){element.css("height",elementHeight)}}})}if($dataHeightLg.length>0){$dataHeightLg.each(function(){var element=$(this),elementHeight=element.attr("data-height-lg");if($body.hasClass("device-lg")){if(elementHeight!=""){element.css("height",elementHeight)}}})}},stickFooterOnSmall:function(){var windowH=$window.height(),wrapperH=$wrapper.height();if(!$body.hasClass("sticky-footer")&&$footer.length>0&&$wrapper.has("#footer")){if(windowH>wrapperH){$footer.css({"margin-top":windowH-wrapperH})}}},stickyFooter:function(){if($body.hasClass("sticky-footer")&&$footer.length>0&&($body.hasClass("device-lg")||$body.hasClass("device-md"))){var stickyFooter=$footer.outerHeight();$content.css({"margin-bottom":stickyFooter})}else{$content.css({"margin-bottom":0})}}};SEMICOLON.header={init:function(){SEMICOLON.header.superfish();SEMICOLON.header.menufunctions();SEMICOLON.header.fullWidthMenu();SEMICOLON.header.overlayMenu();SEMICOLON.header.stickyMenu();SEMICOLON.header.stickyPageMenu();SEMICOLON.header.sideHeader();SEMICOLON.header.sidePanel();SEMICOLON.header.onePageScroll();SEMICOLON.header.onepageScroller();SEMICOLON.header.logo();SEMICOLON.header.topsearch();SEMICOLON.header.topcart()},superfish:function(){if($body.hasClass("device-lg")||$body.hasClass("device-md")){$("#primary-menu ul ul, #primary-menu ul .mega-menu-content").css("display","block");SEMICOLON.header.menuInvert();$("#primary-menu ul ul, #primary-menu ul .mega-menu-content").css("display","")}if(!$().superfish){$body.addClass("no-superfish");console.log("superfish: Superfish not Defined.");return true}$("body:not(.side-header) #primary-menu > ul, body:not(.side-header) #primary-menu > div > ul:not(.dropdown-menu), .top-links > ul").superfish({popUpSelector:"ul,.mega-menu-content,.top-link-section",delay:250,speed:350,animation:{opacity:"show"},animationOut:{opacity:"hide"},cssArrows:false,onShow:function(){var megaMenuContent=$(this);if(megaMenuContent.find(".owl-carousel.customjs").length>0){megaMenuContent.find(".owl-carousel").removeClass("customjs");SEMICOLON.widget.carousel()}if(megaMenuContent.hasClass("mega-menu-content")&&megaMenuContent.find(".widget").length>0){if($body.hasClass("device-lg")||$body.hasClass("device-md")){setTimeout(function(){SEMICOLON.initialize.commonHeight(megaMenuContent)},200)}else{megaMenuContent.children().height("")}}}});$("body.side-header #primary-menu > ul").superfish({popUpSelector:"ul",delay:250,speed:350,animation:{opacity:"show",height:"show"},animationOut:{opacity:"hide",height:"hide"},cssArrows:false})},menuInvert:function(){$("#primary-menu .mega-menu-content, #primary-menu ul ul").each(function(index,element){var $menuChildElement=$(element),menuChildOffset=$menuChildElement.offset(),menuChildWidth=$menuChildElement.width(),menuChildLeft=menuChildOffset.left;if(windowWidth-(menuChildWidth+menuChildLeft)<0){$menuChildElement.addClass("menu-pos-invert")}})},menufunctions:function(){$("#primary-menu ul li:has(ul)").addClass("sub-menu");$(".top-links ul li:has(ul) > a, #primary-menu.with-arrows > ul > li:has(ul) > a > div, #primary-menu.with-arrows > div > ul > li:has(ul) > a > div, #page-menu nav ul li:has(ul) > a > div").append('<i class="icon-angle-down"></i>');$(".top-links > ul").addClass("clearfix");if($body.hasClass("device-lg")||$body.hasClass("device-md")){$("#primary-menu.sub-title > ul > li").hover(function(){$(this).prev().css({backgroundImage:"none"})},function(){$(this).prev().css({backgroundImage:'url("images/icons/menu-divider.png")'})});$("#primary-menu.sub-title").children("ul").children(".current").prev().css({backgroundImage:"none"})}if(SEMICOLON.isMobile.Android()){$("#primary-menu ul li.sub-menu").children("a").on("touchstart",function(e){if(!$(this).parent("li.sub-menu").hasClass("sfHover")){e.preventDefault()}})}if(SEMICOLON.isMobile.Windows()){if($().superfish){$("#primary-menu > ul, #primary-menu > div > ul,.top-links > ul").superfish("destroy").addClass("windows-mobile-menu")}else{$("#primary-menu > ul, #primary-menu > div > ul,.top-links > ul").addClass("windows-mobile-menu");console.log("menufunctions: Superfish not defined.")}$("#primary-menu ul li:has(ul)").append('<a href="#" class="wn-submenu-trigger"><i class="icon-angle-down"></i></a>');$("#primary-menu ul li.sub-menu").children("a.wn-submenu-trigger").click(function(e){$(this).parent().toggleClass("open");$(this).parent().find("> ul, > .mega-menu-content").stop(true,true).toggle();return false})}},fullWidthMenu:function(){if($body.hasClass("stretched")){if($header.find(".container-fullwidth").length>0){$(".mega-menu .mega-menu-content").css({width:$wrapper.width()-120})}if($header.hasClass("full-header")){$(".mega-menu .mega-menu-content").css({width:$wrapper.width()-60})}}else{if($header.find(".container-fullwidth").length>0){$(".mega-menu .mega-menu-content").css({width:$wrapper.width()-120})}if($header.hasClass("full-header")){$(".mega-menu .mega-menu-content").css({width:$wrapper.width()-80})}}},overlayMenu:function(){if($body.hasClass("overlay-menu")){var overlayMenuItem=$("#primary-menu").children("ul").children("li"),overlayMenuItemHeight=overlayMenuItem.outerHeight(),overlayMenuItemTHeight=overlayMenuItem.length*overlayMenuItemHeight,firstItemOffset=($window.height()-overlayMenuItemTHeight)/2;$("#primary-menu").children("ul").children("li:first-child").css({"margin-top":firstItemOffset+"px"})}},stickyMenu:function(headerOffset){if($window.scrollTop()>headerOffset){if($body.hasClass("device-lg")||$body.hasClass("device-md")){$("body:not(.side-header) #header:not(.no-sticky)").addClass("sticky-header");if(!$headerWrap.hasClass("force-not-dark")){$headerWrap.removeClass("not-dark")}SEMICOLON.header.stickyMenuClass()}else if($body.hasClass("device-xs")||$body.hasClass("device-xxs")||$body.hasClass("device-sm")){if($body.hasClass("sticky-responsive-menu")){$("#header:not(.no-sticky)").addClass("responsive-sticky-header");SEMICOLON.header.stickyMenuClass()}}}else{SEMICOLON.header.removeStickyness()}},stickyPageMenu:function(pageMenuOffset){if($window.scrollTop()>pageMenuOffset){if($body.hasClass("device-lg")||$body.hasClass("device-md")){$("#page-menu:not(.dots-menu,.no-sticky)").addClass("sticky-page-menu")}else if($body.hasClass("device-xs")||$body.hasClass("device-xxs")||$body.hasClass("device-sm")){if($body.hasClass("sticky-responsive-pagemenu")){$("#page-menu:not(.dots-menu,.no-sticky)").addClass("sticky-page-menu")}}}else{$("#page-menu:not(.dots-menu,.no-sticky)").removeClass("sticky-page-menu")}},removeStickyness:function(){if($header.hasClass("sticky-header")){$("body:not(.side-header) #header:not(.no-sticky)").removeClass("sticky-header");$header.removeClass().addClass(oldHeaderClasses);$headerWrap.removeClass().addClass(oldHeaderWrapClasses);if(!$headerWrap.hasClass("force-not-dark")){$headerWrap.removeClass("not-dark")}SEMICOLON.slider.swiperSliderMenu();SEMICOLON.slider.revolutionSliderMenu()}if($header.hasClass("responsive-sticky-header")){$("body.sticky-responsive-menu #header").removeClass("responsive-sticky-header")}if(($body.hasClass("device-xs")||$body.hasClass("device-xxs")||$body.hasClass("device-sm"))&&typeof responsiveMenuClasses==="undefined"){$header.removeClass().addClass(oldHeaderClasses);$headerWrap.removeClass().addClass(oldHeaderWrapClasses);if(!$headerWrap.hasClass("force-not-dark")){$headerWrap.removeClass("not-dark")}}},sideHeader:function(){$("#header-trigger").click(function(){$("body.open-header").toggleClass("side-header-open");return false})},sidePanel:function(){$(".side-panel-trigger").click(function(){$body.toggleClass("side-panel-open");if($body.hasClass("device-touch")){$body.toggleClass("ohidden")}return false})},onePageScroll:function(){if($onePageMenuEl.length>0){var onePageSpeed=$onePageMenuEl.attr("data-speed"),onePageOffset=$onePageMenuEl.attr("data-offset"),onePageEasing=$onePageMenuEl.attr("data-easing");if(!onePageSpeed){onePageSpeed=1e3}if(!onePageEasing){onePageEasing="easeOutQuad"}$onePageMenuEl.find("a[data-href]").click(function(){var element=$(this),divScrollToAnchor=element.attr("data-href"),divScrollSpeed=element.attr("data-speed"),divScrollOffset=element.attr("data-offset"),divScrollEasing=element.attr("data-easing");if($(divScrollToAnchor).length>0){if(!onePageOffset){var onePageOffsetG=SEMICOLON.initialize.topScrollOffset()}else{var onePageOffsetG=onePageOffset}if(!divScrollSpeed){divScrollSpeed=onePageSpeed}if(!divScrollOffset){divScrollOffset=onePageOffsetG}if(!divScrollEasing){divScrollEasing=onePageEasing}if($onePageMenuEl.hasClass("no-offset")){divScrollOffset=0}onePageGlobalOffset=Number(divScrollOffset);$onePageMenuEl.find("li").removeClass("current");$onePageMenuEl.find('a[data-href="'+divScrollToAnchor+'"]').parent("li").addClass("current");if(windowWidth<768||$body.hasClass("overlay-menu")){if($("#primary-menu").find("ul.mobile-primary-menu").length>0){$("#primary-menu > ul.mobile-primary-menu, #primary-menu > div > ul.mobile-primary-menu").toggleClass("show",false)}else{$("#primary-menu > ul, #primary-menu > div > ul").toggleClass("show",false)}$pagemenu.toggleClass("pagemenu-active",false)}$("html,body").stop(true).animate({scrollTop:$(divScrollToAnchor).offset().top-Number(divScrollOffset)},Number(divScrollSpeed),divScrollEasing);onePageGlobalOffset=Number(divScrollOffset)}return false})}},onepageScroller:function(){$onePageMenuEl.find("li").removeClass("current");$onePageMenuEl.find('a[data-href="#'+SEMICOLON.header.onePageCurrentSection()+'"]').parent("li").addClass("current")},onePageCurrentSection:function(){var currentOnePageSection="home",headerHeight=$headerWrap.outerHeight();if($body.hasClass("side-header")){headerHeight=0}$pageSectionEl.each(function(index){var h=$(this).offset().top;var y=$window.scrollTop();var offsetScroll=headerHeight+onePageGlobalOffset;if(y+offsetScroll>=h&&y<h+$(this).height()&&$(this).attr("id")!=currentOnePageSection){currentOnePageSection=$(this).attr("id")}});return currentOnePageSection},logo:function(){if(($header.hasClass("dark")||$body.hasClass("dark"))&&!$headerWrap.hasClass("not-dark")){if(defaultDarkLogo){defaultLogo.find("img").attr("src",defaultDarkLogo)}if(retinaDarkLogo){retinaLogo.find("img").attr("src",retinaDarkLogo)}}else{if(defaultLogoImg){defaultLogo.find("img").attr("src",defaultLogoImg)}if(retinaLogoImg){retinaLogo.find("img").attr("src",retinaLogoImg)}}if($header.hasClass("sticky-header")){if(defaultStickyLogo){defaultLogo.find("img").attr("src",defaultStickyLogo)}if(retinaStickyLogo){retinaLogo.find("img").attr("src",retinaStickyLogo)}}if($body.hasClass("device-xs")||$body.hasClass("device-xxs")){if(defaultMobileLogo){defaultLogo.find("img").attr("src",defaultMobileLogo)}if(retinaMobileLogo){retinaLogo.find("img").attr("src",retinaMobileLogo)}}},stickyMenuClass:function(){if(stickyMenuClasses){var newClassesArray=stickyMenuClasses.split(/ +/)}else{var newClassesArray=""}var noOfNewClasses=newClassesArray.length;if(noOfNewClasses>0){var i=0;for(i=0;i<noOfNewClasses;i++){if(newClassesArray[i]=="not-dark"){$header.removeClass("dark");$headerWrap.addClass("not-dark")}else if(newClassesArray[i]=="dark"){$headerWrap.removeClass("not-dark force-not-dark");if(!$header.hasClass(newClassesArray[i])){$header.addClass(newClassesArray[i])}}else if(!$header.hasClass(newClassesArray[i])){$header.addClass(newClassesArray[i])}}}},responsiveMenuClass:function(){if($body.hasClass("device-xs")||$body.hasClass("device-xxs")||$body.hasClass("device-sm")){if(responsiveMenuClasses){var newClassesArray=responsiveMenuClasses.split(/ +/)}else{var newClassesArray=""}var noOfNewClasses=newClassesArray.length;if(noOfNewClasses>0){var i=0;for(i=0;i<noOfNewClasses;i++){if(newClassesArray[i]=="not-dark"){$header.removeClass("dark");$headerWrap.addClass("not-dark")}else if(newClassesArray[i]=="dark"){$headerWrap.removeClass("not-dark force-not-dark");if(!$header.hasClass(newClassesArray[i])){$header.addClass(newClassesArray[i])}}else if(!$header.hasClass(newClassesArray[i])){$header.addClass(newClassesArray[i])}}}SEMICOLON.header.logo()}},topsocial:function(){if($topSocialEl.length>0){if($body.hasClass("device-md")||$body.hasClass("device-lg")){$topSocialEl.show();$topSocialEl.find("a").css({width:40});$topSocialEl.find(".ts-text").each(function(){var $clone=$(this).clone().css({visibility:"hidden",display:"inline-block","font-size":"13px","font-weight":"bold"}).appendTo($body),cloneWidth=$clone.innerWidth()+52;$(this).parent("a").attr("data-hover-width",cloneWidth);$clone.remove()});$topSocialEl.find("a").hover(function(){if($(this).find(".ts-text").length>0){$(this).css({width:$(this).attr("data-hover-width")})}},function(){$(this).css({width:40})})}else{$topSocialEl.show();$topSocialEl.find("a").css({width:40});$topSocialEl.find("a").each(function(){var topIconTitle=$(this).find(".ts-text").text();$(this).attr("title",topIconTitle)});$topSocialEl.find("a").hover(function(){$(this).css({width:40})},function(){$(this).css({width:40})});if($body.hasClass("device-xxs")){$topSocialEl.hide();$topSocialEl.slice(0,8).show()}}}},topsearch:function(){$(document).on("click",function(event){if(!$(event.target).closest("#top-search").length){$body.toggleClass("top-search-open",false)}if(!$(event.target).closest("#top-cart").length){$topCart.toggleClass("top-cart-open",false)}if(!$(event.target).closest("#page-menu").length){$pagemenu.toggleClass("pagemenu-active",false)}if(!$(event.target).closest("#side-panel").length){$body.toggleClass("side-panel-open",false)}if(!$(event.target).closest("#primary-menu.mobile-menu-off-canvas > ul").length){$("#primary-menu.mobile-menu-off-canvas > ul").toggleClass("show",false)}if(!$(event.target).closest("#primary-menu.mobile-menu-off-canvas > div > ul").length){$("#primary-menu.mobile-menu-off-canvas > div > ul").toggleClass("show",false)}});$("#top-search-trigger").click(function(e){$body.toggleClass("top-search-open");$topCart.toggleClass("top-cart-open",false);$("#primary-menu > ul, #primary-menu > div > ul").toggleClass("show",false);$pagemenu.toggleClass("pagemenu-active",false);if($body.hasClass("top-search-open")){$topSearch.find("input").focus()}e.stopPropagation();e.preventDefault()})},topcart:function(){$("#top-cart-trigger").click(function(e){$pagemenu.toggleClass("pagemenu-active",false);$topCart.toggleClass("top-cart-open");e.stopPropagation();e.preventDefault()})}};SEMICOLON.slider={init:function(){SEMICOLON.slider.sliderParallaxDimensions();SEMICOLON.slider.sliderRun();SEMICOLON.slider.sliderParallax();SEMICOLON.slider.sliderElementsFade();SEMICOLON.slider.captionPosition()},sliderParallaxDimensions:function(){if($sliderParallaxEl.find(".slider-parallax-inner").length<1){return true}if($body.hasClass("device-lg")||$body.hasClass("device-md")||$body.hasClass("device-sm")){var parallaxElHeight=$sliderParallaxEl.outerHeight(),parallaxElWidth=$sliderParallaxEl.outerWidth();if($sliderParallaxEl.hasClass("revslider-wrap")||$sliderParallaxEl.find(".carousel-widget").length>0){parallaxElHeight=$sliderParallaxEl.find(".slider-parallax-inner").children().first().outerHeight();$sliderParallaxEl.height(parallaxElHeight)}$sliderParallaxEl.find(".slider-parallax-inner").height(parallaxElHeight);if($body.hasClass("side-header")){$sliderParallaxEl.find(".slider-parallax-inner").width(parallaxElWidth)}if(!$body.hasClass("stretched")){parallaxElWidth=$wrapper.outerWidth();$sliderParallaxEl.find(".slider-parallax-inner").width(parallaxElWidth)}}else{$sliderParallaxEl.find(".slider-parallax-inner").css({width:"",height:""})}if(swiperSlider!=""){swiperSlider.update(true)}},sliderRun:function(){if(typeof Swiper==="undefined"){console.log("sliderRun: Swiper not Defined.");return true}if($slider.hasClass("customjs")){return true}if($slider.hasClass("swiper_wrapper")){var element=$slider.filter(".swiper_wrapper"),elementDirection=element.attr("data-direction"),elementSpeed=element.attr("data-speed"),elementAutoPlay=element.attr("data-autoplay"),elementLoop=element.attr("data-loop"),elementEffect=element.attr("data-effect"),elementGrabCursor=element.attr("data-grab"),slideNumberTotal=element.find("#slide-number-total"),slideNumberCurrent=element.find("#slide-number-current"),sliderVideoAutoPlay=element.attr("data-video-autoplay");if(!elementSpeed){elementSpeed=300}if(!elementDirection){elementDirection="horizontal"}if(elementAutoPlay){elementAutoPlay=Number(elementAutoPlay)}if(elementLoop=="true"){elementLoop=true}else{elementLoop=false}if(!elementEffect){elementEffect="slide"}if(elementGrabCursor=="false"){elementGrabCursor=false}else{elementGrabCursor=true}if(sliderVideoAutoPlay=="false"){sliderVideoAutoPlay=false}else{sliderVideoAutoPlay=true}if(element.find(".swiper-pagination").length>0){var elementPagination=".swiper-pagination",elementPaginationClickable=true}else{var elementPagination="",elementPaginationClickable=false}var elementNavNext="#slider-arrow-right",elementNavPrev="#slider-arrow-left";swiperSlider=new Swiper(element.find(".swiper-parent"),{direction:elementDirection,speed:Number(elementSpeed),autoplay:elementAutoPlay,loop:elementLoop,effect:elementEffect,slidesPerView:1,grabCursor:elementGrabCursor,pagination:elementPagination,paginationClickable:elementPaginationClickable,prevButton:elementNavPrev,nextButton:elementNavNext,onInit:function(swiper){SEMICOLON.slider.sliderParallaxDimensions();element.find(".yt-bg-player").removeClass("customjs");SEMICOLON.widget.youtubeBgVideo();$(".swiper-slide-active [data-caption-animate]").each(function(){var $toAnimateElement=$(this),toAnimateDelay=$toAnimateElement.attr("data-caption-delay"),toAnimateDelayTime=0;if(toAnimateDelay){toAnimateDelayTime=Number(toAnimateDelay)+750}else{toAnimateDelayTime=750}if(!$toAnimateElement.hasClass("animated")){$toAnimateElement.addClass("not-animated");var elementAnimation=$toAnimateElement.attr("data-caption-animate");setTimeout(function(){$toAnimateElement.removeClass("not-animated").addClass(elementAnimation+" animated")},toAnimateDelayTime)}});$("[data-caption-animate]").each(function(){var $toAnimateElement=$(this),elementAnimation=$toAnimateElement.attr("data-caption-animate");if($toAnimateElement.parents(".swiper-slide").hasClass("swiper-slide-active")){return true}$toAnimateElement.removeClass("animated").removeClass(elementAnimation).addClass("not-animated")});SEMICOLON.slider.swiperSliderMenu()},onSlideChangeStart:function(swiper){if(slideNumberCurrent.length>0){if(elementLoop==true){slideNumberCurrent.html(Number(element.find(".swiper-slide.swiper-slide-active").attr("data-swiper-slide-index"))+1)}else{slideNumberCurrent.html(swiperSlider.activeIndex+1)}}$("[data-caption-animate]").each(function(){var $toAnimateElement=$(this),elementAnimation=$toAnimateElement.attr("data-caption-animate");if($toAnimateElement.parents(".swiper-slide").hasClass("swiper-slide-active")){return true}$toAnimateElement.removeClass("animated").removeClass(elementAnimation).addClass("not-animated")});SEMICOLON.slider.swiperSliderMenu()},onSlideChangeEnd:function(swiper){element.find(".swiper-slide").each(function(){var slideEl=$(this);if(slideEl.find("video").length>0&&sliderVideoAutoPlay==true){slideEl.find("video").get(0).pause()}if(slideEl.find(".yt-bg-player.mb_YTPlayer:not(.customjs)").length>0){slideEl.find(".yt-bg-player.mb_YTPlayer:not(.customjs)").YTPPause()}});element.find('.swiper-slide:not(".swiper-slide-active")').each(function(){var slideEl=$(this);if(slideEl.find("video").length>0){if(slideEl.find("video").get(0).currentTime!=0){slideEl.find("video").get(0).currentTime=0}}if(slideEl.find(".yt-bg-player.mb_YTPlayer:not(.customjs)").length>0){slideEl.find(".yt-bg-player.mb_YTPlayer:not(.customjs)").YTPGetPlayer().seekTo(slideEl.find(".yt-bg-player.mb_YTPlayer:not(.customjs)").attr("data-start"))}});if(element.find(".swiper-slide.swiper-slide-active").find("video").length>0&&sliderVideoAutoPlay==true){element.find(".swiper-slide.swiper-slide-active").find("video").get(0).play()}if(element.find(".swiper-slide.swiper-slide-active").find(".yt-bg-player.mb_YTPlayer:not(.customjs)").length>0&&sliderVideoAutoPlay==true){element.find(".swiper-slide.swiper-slide-active").find(".yt-bg-player.mb_YTPlayer:not(.customjs)").YTPPlay()}element.find(".swiper-slide.swiper-slide-active [data-caption-animate]").each(function(){var $toAnimateElement=$(this),toAnimateDelay=$toAnimateElement.attr("data-caption-delay"),toAnimateDelayTime=0;if(toAnimateDelay){toAnimateDelayTime=Number(toAnimateDelay)+300}else{toAnimateDelayTime=300}if(!$toAnimateElement.hasClass("animated")){$toAnimateElement.addClass("not-animated");var elementAnimation=$toAnimateElement.attr("data-caption-animate");setTimeout(function(){$toAnimateElement.removeClass("not-animated").addClass(elementAnimation+" animated")},toAnimateDelayTime)}})}});if(slideNumberCurrent.length>0){if(elementLoop==true){slideNumberCurrent.html(Number(element.find(".swiper-slide.swiper-slide-active").attr("data-swiper-slide-index"))+1)}else{slideNumberCurrent.html(swiperSlider.activeIndex+1)}}if(slideNumberTotal.length>0){slideNumberTotal.html(element.find(".swiper-slide:not(.swiper-slide-duplicate)").length)}}},sliderParallaxOffset:function(){var sliderParallaxOffsetTop=0;var headerHeight=$header.outerHeight();if($body.hasClass("side-header")||$header.hasClass("transparent-header")){headerHeight=0}if($pageTitle.length>0){var pageTitleHeight=$pageTitle.outerHeight();sliderParallaxOffsetTop=pageTitleHeight+headerHeight}else{sliderParallaxOffsetTop=headerHeight}if($slider.next("#header").length>0){sliderParallaxOffsetTop=0}return sliderParallaxOffsetTop},sliderParallax:function(){if($sliderParallaxEl.length<1){return true}var parallaxOffsetTop=SEMICOLON.slider.sliderParallaxOffset(),parallaxElHeight=$sliderParallaxEl.outerHeight();if(($body.hasClass("device-lg")||$body.hasClass("device-md"))&&!SEMICOLON.isMobile.any()){if(parallaxElHeight+parallaxOffsetTop+50>$window.scrollTop()){$sliderParallaxEl.addClass("slider-parallax-visible").removeClass("slider-parallax-invisible");if($window.scrollTop()>parallaxOffsetTop){if($sliderParallaxEl.find(".slider-parallax-inner").length>0){var tranformAmount=(($window.scrollTop()-parallaxOffsetTop)*-.4).toFixed(0),tranformAmount2=(($window.scrollTop()-parallaxOffsetTop)*-.15).toFixed(0);$sliderParallaxEl.find(".slider-parallax-inner").css({transform:"translateY("+tranformAmount+"px)"});$(".slider-parallax .slider-caption,.ei-title").css({transform:"translateY("+tranformAmount2+"px)"})}else{var tranformAmount=(($window.scrollTop()-parallaxOffsetTop)/1.5).toFixed(0),tranformAmount2=(($window.scrollTop()-parallaxOffsetTop)/7).toFixed(0);$sliderParallaxEl.css({transform:"translateY("+tranformAmount+"px)"});$(".slider-parallax .slider-caption,.ei-title").css({transform:"translateY("+-tranformAmount2+"px)"})}}else{if($sliderParallaxEl.find(".slider-parallax-inner").length>0){$(".slider-parallax-inner,.slider-parallax .slider-caption,.ei-title").css({transform:"translateY(0px)"})}else{$(".slider-parallax,.slider-parallax .slider-caption,.ei-title").css({transform:"translateY(0px)"})}}}else{$sliderParallaxEl.addClass("slider-parallax-invisible").removeClass("slider-parallax-visible")}if(requesting){requestAnimationFrame(function(){SEMICOLON.slider.sliderParallax();SEMICOLON.slider.sliderElementsFade()})}}else{if($sliderParallaxEl.find(".slider-parallax-inner").length>0){$(".slider-parallax-inner,.slider-parallax .slider-caption,.ei-title").css({transform:"translateY(0px)"})}else{$(".slider-parallax,.slider-parallax .slider-caption,.ei-title").css({transform:"translateY(0px)"})}}},sliderElementsFade:function(){if($sliderParallaxEl.length>0){if(($body.hasClass("device-lg")||$body.hasClass("device-md"))&&!SEMICOLON.isMobile.any()){var parallaxOffsetTop=SEMICOLON.slider.sliderParallaxOffset(),parallaxElHeight=$sliderParallaxEl.outerHeight();if($slider.length>0){if($header.hasClass("transparent-header")||$("body").hasClass("side-header")){var tHeaderOffset=100}else{var tHeaderOffset=0}$sliderParallaxEl.find("#slider-arrow-left,#slider-arrow-right,.vertical-middle:not(.no-fade),.slider-caption,.ei-title,.camera_prev,.camera_next").css({opacity:1-($window.scrollTop()-tHeaderOffset)*1.85/parallaxElHeight})}}else{$sliderParallaxEl.find("#slider-arrow-left,#slider-arrow-right,.vertical-middle:not(.no-fade),.slider-caption,.ei-title,.camera_prev,.camera_next").css({opacity:1})}}},captionPosition:function(){$slider.find(".slider-caption:not(.custom-caption-pos)").each(function(){var scapHeight=$(this).outerHeight();var scapSliderHeight=$slider.outerHeight();if($(this).parents("#slider").prev("#header").hasClass("transparent-header")&&($body.hasClass("device-lg")||$body.hasClass("device-md"))){if($(this).parents("#slider").prev("#header").hasClass("floating-header")){
$(this).css({top:(scapSliderHeight+160-scapHeight)/2+"px"})}else{$(this).css({top:(scapSliderHeight+100-scapHeight)/2+"px"})}}else{$(this).css({top:(scapSliderHeight-scapHeight)/2+"px"})}})},swiperSliderMenu:function(onWinLoad){onWinLoad=typeof onWinLoad!=="undefined"?onWinLoad:false;if($body.hasClass("device-lg")||$body.hasClass("device-md")){var activeSlide=$slider.find(".swiper-slide.swiper-slide-active");SEMICOLON.slider.headerSchemeChanger(activeSlide,onWinLoad)}},revolutionSliderMenu:function(onWinLoad){onWinLoad=typeof onWinLoad!=="undefined"?onWinLoad:false;if($body.hasClass("device-lg")||$body.hasClass("device-md")){var activeSlide=$slider.find(".active-revslide");SEMICOLON.slider.headerSchemeChanger(activeSlide,onWinLoad)}},headerSchemeChanger:function(activeSlide,onWinLoad){if(activeSlide.length>0){var darkExists=false;if(activeSlide.hasClass("dark")){if(oldHeaderClasses){var oldClassesArray=oldHeaderClasses.split(/ +/)}else{var oldClassesArray=""}var noOfOldClasses=oldClassesArray.length;if(noOfOldClasses>0){var i=0;for(i=0;i<noOfOldClasses;i++){if(oldClassesArray[i]=="dark"&&onWinLoad==true){darkExists=true;break}}}$("#header.transparent-header:not(.sticky-header,.semi-transparent,.floating-header)").addClass("dark");if(!darkExists){$("#header.transparent-header.sticky-header,#header.transparent-header.semi-transparent.sticky-header,#header.transparent-header.floating-header.sticky-header").removeClass("dark")}$headerWrap.removeClass("not-dark")}else{if($body.hasClass("dark")){activeSlide.addClass("not-dark");$("#header.transparent-header:not(.semi-transparent,.floating-header)").removeClass("dark");$("#header.transparent-header:not(.sticky-header,.semi-transparent,.floating-header)").find("#header-wrap").addClass("not-dark")}else{$("#header.transparent-header:not(.semi-transparent,.floating-header)").removeClass("dark");$headerWrap.removeClass("not-dark")}}if($header.hasClass("sticky-header")){SEMICOLON.header.stickyMenuClass()}SEMICOLON.header.logo()}},owlCaptionInit:function(){if($owlCarouselEl.length>0){$owlCarouselEl.each(function(){var element=$(this);if(element.find(".owl-dot").length>0){element.addClass("with-carousel-dots")}})}}};SEMICOLON.portfolio={init:function(){SEMICOLON.portfolio.ajaxload()},gridInit:function($container){if(!$().isotope){console.log("gridInit: Isotope not Defined.");return true}if($container.length<1){return true}if($container.hasClass("customjs")){return true}$container.each(function(){var element=$(this),elementTransition=element.attr("data-transition"),elementLayoutMode=element.attr("data-layout"),elementStagger=element.attr("data-stagger");if(!elementTransition){elementTransition="0.65s"}if(!elementLayoutMode){elementLayoutMode="masonry"}if(!elementStagger){elementStagger=0}setTimeout(function(){if(element.hasClass("portfolio")){element.isotope({layoutMode:elementLayoutMode,transitionDuration:elementTransition,stagger:Number(elementStagger),masonry:{columnWidth:element.find(".portfolio-item:not(.wide)")[0]}})}else{element.isotope({layoutMode:elementLayoutMode,transitionDuration:elementTransition})}},300)})},filterInit:function(){if(!$().isotope){console.log("filterInit: Isotope not Defined.");return true}if($portfolioFilter.length<1){return true}if($portfolioFilter.hasClass("customjs")){return true}$portfolioFilter.each(function(){var element=$(this),elementContainer=element.attr("data-container"),elementActiveClass=element.attr("data-active-class"),elementDefaultFilter=element.attr("data-default");if(!elementActiveClass){elementActiveClass="activeFilter"}element.find("a").click(function(){element.find("li").removeClass(elementActiveClass);$(this).parent("li").addClass(elementActiveClass);var selector=$(this).attr("data-filter");$(elementContainer).isotope({filter:selector});return false});if(elementDefaultFilter){element.find("li").removeClass(elementActiveClass);element.find('[data-filter="'+elementDefaultFilter+'"]').parent("li").addClass(elementActiveClass);$(elementContainer).isotope({filter:elementDefaultFilter})}})},shuffleInit:function(){if(!$().isotope){console.log("shuffleInit: Isotope not Defined.");return true}if($(".portfolio-shuffle").length<1){return true}$(".portfolio-shuffle").click(function(){var element=$(this),elementContainer=element.attr("data-container");$(elementContainer).isotope("shuffle")})},portfolioDescMargin:function(){var $portfolioOverlayEl=$(".portfolio-overlay");if($portfolioOverlayEl.length>0){$portfolioOverlayEl.each(function(){var element=$(this);if(element.find(".portfolio-desc").length>0){var portfolioOverlayHeight=element.outerHeight();var portfolioOverlayDescHeight=element.find(".portfolio-desc").outerHeight();if(element.find("a.left-icon").length>0||element.find("a.right-icon").length>0||element.find("a.center-icon").length>0){var portfolioOverlayIconHeight=40+20}else{var portfolioOverlayIconHeight=0}var portfolioOverlayMiddleAlign=(portfolioOverlayHeight-portfolioOverlayDescHeight-portfolioOverlayIconHeight)/2;element.find(".portfolio-desc").css({"margin-top":portfolioOverlayMiddleAlign})}})}},arrange:function(){if($portfolio.length>0){$portfolio.each(function(){var element=$(this);SEMICOLON.initialize.setFullColumnWidth(element)})}},ajaxload:function(){$(".portfolio-ajax .portfolio-item a.center-icon").click(function(e){var portPostId=$(this).parents(".portfolio-item").attr("id");if(!$(this).parents(".portfolio-item").hasClass("portfolio-active")){SEMICOLON.portfolio.loadItem(portPostId,prevPostPortId)}e.preventDefault()})},newNextPrev:function(portPostId){var portNext=SEMICOLON.portfolio.getNextItem(portPostId);var portPrev=SEMICOLON.portfolio.getPrevItem(portPostId);$("#next-portfolio").attr("data-id",portNext);$("#prev-portfolio").attr("data-id",portPrev)},loadItem:function(portPostId,prevPostPortId,getIt){if(!getIt){getIt=false}var portNext=SEMICOLON.portfolio.getNextItem(portPostId);var portPrev=SEMICOLON.portfolio.getPrevItem(portPostId);if(getIt==false){SEMICOLON.portfolio.closeItem();$portfolioAjaxLoader.fadeIn();var portfolioDataLoader=$("#"+portPostId).attr("data-loader");$portfolioDetailsContainer.load(portfolioDataLoader,{portid:portPostId,portnext:portNext,portprev:portPrev},function(){SEMICOLON.portfolio.initializeAjax(portPostId);SEMICOLON.portfolio.openItem();$portfolioItems.removeClass("portfolio-active");$("#"+portPostId).addClass("portfolio-active")})}},closeItem:function(){if($portfolioDetails&&$portfolioDetails.height()>32){$portfolioAjaxLoader.fadeIn();$portfolioDetails.find("#portfolio-ajax-single").fadeOut("600",function(){$(this).remove()});$portfolioDetails.removeClass("portfolio-ajax-opened")}},openItem:function(){var noOfImages=$portfolioDetails.find("img").length;var noLoaded=0;if(noOfImages>0){$portfolioDetails.find("img").on("load",function(){noLoaded++;var topOffsetScroll=SEMICOLON.initialize.topScrollOffset();if(noOfImages===noLoaded){$portfolioDetailsContainer.css({display:"block"});$portfolioDetails.addClass("portfolio-ajax-opened");$portfolioAjaxLoader.fadeOut();var t=setTimeout(function(){SEMICOLON.widget.loadFlexSlider();SEMICOLON.initialize.lightbox();SEMICOLON.initialize.resizeVideos();SEMICOLON.widget.masonryThumbs();$("html,body").stop(true).animate({scrollTop:$portfolioDetails.offset().top-topOffsetScroll},900,"easeOutQuad")},500)}})}else{var topOffsetScroll=SEMICOLON.initialize.topScrollOffset();$portfolioDetailsContainer.css({display:"block"});$portfolioDetails.addClass("portfolio-ajax-opened");$portfolioAjaxLoader.fadeOut();var t=setTimeout(function(){SEMICOLON.widget.loadFlexSlider();SEMICOLON.initialize.lightbox();SEMICOLON.initialize.resizeVideos();SEMICOLON.widget.masonryThumbs();$("html,body").stop(true).animate({scrollTop:$portfolioDetails.offset().top-topOffsetScroll},900,"easeOutQuad")},500)}},getNextItem:function(portPostId){var portNext="";var hasNext=$("#"+portPostId).next();if(hasNext.length!=0){portNext=hasNext.attr("id")}return portNext},getPrevItem:function(portPostId){var portPrev="";var hasPrev=$("#"+portPostId).prev();if(hasPrev.length!=0){portPrev=hasPrev.attr("id")}return portPrev},initializeAjax:function(portPostId){prevPostPortId=$("#"+portPostId);$("#next-portfolio, #prev-portfolio").click(function(){var portPostId=$(this).attr("data-id");$portfolioItems.removeClass("portfolio-active");$("#"+portPostId).addClass("portfolio-active");SEMICOLON.portfolio.loadItem(portPostId,prevPostPortId);return false});$("#close-portfolio").click(function(){$portfolioDetailsContainer.fadeOut("600",function(){$portfolioDetails.find("#portfolio-ajax-single").remove()});$portfolioDetails.removeClass("portfolio-ajax-opened");$portfolioItems.removeClass("portfolio-active");return false})}};SEMICOLON.widget={init:function(){SEMICOLON.widget.animations();SEMICOLON.widget.youtubeBgVideo();SEMICOLON.widget.tabs();SEMICOLON.widget.tabsJustify();SEMICOLON.widget.tabsResponsive();SEMICOLON.widget.tabsResponsiveResize();SEMICOLON.widget.toggles();SEMICOLON.widget.accordions();SEMICOLON.widget.counter();SEMICOLON.widget.roundedSkill();SEMICOLON.widget.progress();SEMICOLON.widget.twitterFeed();SEMICOLON.widget.flickrFeed();SEMICOLON.widget.instagramPhotos("36286274.b9e559e.4824cbc1d0c94c23827dc4a2267a9f6b","b9e559ec7c284375bf41e9a9fb72ae01");SEMICOLON.widget.dribbbleShots("01530280af335d298e756ed8ef786c8c4e92a50b88e53a185531b1a639e768b8");SEMICOLON.widget.navTree();SEMICOLON.widget.textRotater();SEMICOLON.widget.carousel();SEMICOLON.widget.linkScroll();SEMICOLON.widget.contactForm();SEMICOLON.widget.subscription();SEMICOLON.widget.quickContact();SEMICOLON.widget.cookieNotify();SEMICOLON.widget.extras()},parallax:function(){if(!$.stellar){console.log("parallax: Stellar not Defined.");return true}if($parallaxEl.length>0||$parallaxPageTitleEl.length>0||$parallaxPortfolioEl.length>0){if(!SEMICOLON.isMobile.any()){$.stellar({horizontalScrolling:false,verticalOffset:150})}else{$parallaxEl.addClass("mobile-parallax");$parallaxPageTitleEl.addClass("mobile-parallax");$parallaxPortfolioEl.addClass("mobile-parallax")}}},animations:function(){if(!$().appear){console.log("animations: Appear not Defined.");return true}var $dataAnimateEl=$("[data-animate]");if($dataAnimateEl.length>0){if($body.hasClass("device-lg")||$body.hasClass("device-md")||$body.hasClass("device-sm")){$dataAnimateEl.each(function(){var element=$(this),animationOut=element.attr("data-animate-out"),animationDelay=element.attr("data-delay"),animationDelayOut=element.attr("data-delay-out"),animationDelayTime=0,animationDelayOutTime=3e3;if(element.parents(".fslider.no-thumbs-animate").length>0){return true}if(animationDelay){animationDelayTime=Number(animationDelay)+500}else{animationDelayTime=500}if(animationOut&&animationDelayOut){animationDelayOutTime=Number(animationDelayOut)+animationDelayTime}if(!element.hasClass("animated")){element.addClass("not-animated");var elementAnimation=element.attr("data-animate");element.appear(function(){setTimeout(function(){element.removeClass("not-animated").addClass(elementAnimation+" animated")},animationDelayTime);if(animationOut){setTimeout(function(){element.removeClass(elementAnimation).addClass(animationOut)},animationDelayOutTime)}},{accX:0,accY:-120},"easeInCubic")}})}}},loadFlexSlider:function(){if(!$().flexslider){console.log("loadFlexSlider: FlexSlider not Defined.");return true}var $flexSliderEl=$(".fslider:not(.customjs)").find(".flexslider");if($flexSliderEl.length>0){$flexSliderEl.each(function(){var $flexsSlider=$(this),flexsAnimation=$flexsSlider.parent(".fslider").attr("data-animation"),flexsEasing=$flexsSlider.parent(".fslider").attr("data-easing"),flexsDirection=$flexsSlider.parent(".fslider").attr("data-direction"),flexsReverse=$flexsSlider.parent(".fslider").attr("data-reverse"),flexsSlideshow=$flexsSlider.parent(".fslider").attr("data-slideshow"),flexsPause=$flexsSlider.parent(".fslider").attr("data-pause"),flexsSpeed=$flexsSlider.parent(".fslider").attr("data-speed"),flexsVideo=$flexsSlider.parent(".fslider").attr("data-video"),flexsPagi=$flexsSlider.parent(".fslider").attr("data-pagi"),flexsArrows=$flexsSlider.parent(".fslider").attr("data-arrows"),flexsThumbs=$flexsSlider.parent(".fslider").attr("data-thumbs"),flexsHover=$flexsSlider.parent(".fslider").attr("data-hover"),flexsSheight=$flexsSlider.parent(".fslider").attr("data-smooth-height"),flexsTouch=$flexsSlider.parent(".fslider").attr("data-touch"),flexsUseCSS=false;if(!flexsAnimation){flexsAnimation="slide"}if(!flexsEasing||flexsEasing=="swing"){flexsEasing="swing";flexsUseCSS=true}if(!flexsDirection){flexsDirection="horizontal"}if(flexsReverse=="true"){flexsReverse=true}else{flexsReverse=false}if(!flexsSlideshow){flexsSlideshow=true}else{flexsSlideshow=false}if(!flexsPause){flexsPause=5e3}if(!flexsSpeed){flexsSpeed=600}if(!flexsVideo){flexsVideo=false}if(flexsSheight=="false"){flexsSheight=false}else{flexsSheight=true}if(flexsDirection=="vertical"){flexsSheight=false}if(flexsPagi=="false"){flexsPagi=false}else{flexsPagi=true}if(flexsThumbs=="true"){flexsPagi="thumbnails"}else{flexsPagi=flexsPagi}if(flexsArrows=="false"){flexsArrows=false}else{flexsArrows=true}if(flexsHover=="false"){flexsHover=false}else{flexsHover=true}if(flexsTouch=="false"){flexsTouch=false}else{flexsTouch=true}$flexsSlider.flexslider({selector:".slider-wrap > .slide",animation:flexsAnimation,easing:flexsEasing,direction:flexsDirection,reverse:flexsReverse,slideshow:flexsSlideshow,slideshowSpeed:Number(flexsPause),animationSpeed:Number(flexsSpeed),pauseOnHover:flexsHover,video:flexsVideo,controlNav:flexsPagi,directionNav:flexsArrows,smoothHeight:flexsSheight,useCSS:flexsUseCSS,touch:flexsTouch,start:function(slider){SEMICOLON.widget.animations();SEMICOLON.initialize.verticalMiddle();slider.parent().removeClass("preloader2");var t=setTimeout(function(){$(".grid-container").isotope("layout")},1200);SEMICOLON.initialize.lightbox();$(".flex-prev").html('<i class="icon-angle-left"></i>');$(".flex-next").html('<i class="icon-angle-right"></i>');SEMICOLON.portfolio.portfolioDescMargin()},after:function(){if($(".grid-container").hasClass("portfolio-full")){$(".grid-container.portfolio-full").isotope("layout");SEMICOLON.portfolio.portfolioDescMargin()}}})})}},html5Video:function(){var videoEl=$(".video-wrap:has(video)");if(videoEl.length>0){videoEl.each(function(){var element=$(this),elementVideo=element.find("video"),outerContainerWidth=element.outerWidth(),outerContainerHeight=element.outerHeight(),innerVideoWidth=elementVideo.outerWidth(),innerVideoHeight=elementVideo.outerHeight();if(innerVideoHeight<outerContainerHeight){var videoAspectRatio=innerVideoWidth/innerVideoHeight,newVideoWidth=outerContainerHeight*videoAspectRatio,innerVideoPosition=(newVideoWidth-outerContainerWidth)/2;elementVideo.css({width:newVideoWidth+"px",height:outerContainerHeight+"px",left:-innerVideoPosition+"px"})}else{var innerVideoPosition=(innerVideoHeight-outerContainerHeight)/2;elementVideo.css({width:innerVideoWidth+"px",height:innerVideoHeight+"px",top:-innerVideoPosition+"px"})}if(SEMICOLON.isMobile.any()){var placeholderImg=elementVideo.attr("poster");if(placeholderImg!=""){element.append('<div class="video-placeholder" style="background-image: url('+placeholderImg+');"></div>')}}})}},youtubeBgVideo:function(){if(!$().mb_YTPlayer){console.log("youtubeBgVideo: YoutubeBG Plugin not Defined.");return true}var $youtubeBgPlayerEl=$(".yt-bg-player");if($youtubeBgPlayerEl.hasClass("customjs")){return true}if($youtubeBgPlayerEl.length>0){$youtubeBgPlayerEl.each(function(){var element=$(this),ytbgVideo=element.attr("data-video"),ytbgMute=element.attr("data-mute"),ytbgRatio=element.attr("data-ratio"),ytbgQuality=element.attr("data-quality"),ytbgOpacity=element.attr("data-opacity"),ytbgContainer=element.attr("data-container"),ytbgOptimize=element.attr("data-optimize"),ytbgLoop=element.attr("data-loop"),ytbgVolume=element.attr("data-volume"),ytbgStart=element.attr("data-start"),ytbgStop=element.attr("data-stop"),ytbgAutoPlay=element.attr("data-autoplay"),ytbgFullScreen=element.attr("data-fullscreen");if(ytbgMute=="false"){ytbgMute=false}else{ytbgMute=true}if(!ytbgRatio){ytbgRatio="16/9"}if(!ytbgQuality){ytbgQuality="hd720"}if(!ytbgOpacity){ytbgOpacity=1}if(!ytbgContainer){ytbgContainer="self"}if(ytbgOptimize=="false"){ytbgOptimize=false}else{ytbgOptimize=true}if(ytbgLoop=="false"){ytbgLoop=false}else{ytbgLoop=true}if(!ytbgVolume){ytbgVolume=1}if(!ytbgStart){ytbgStart=0}if(!ytbgStop){ytbgStop=0}if(ytbgAutoPlay=="false"){ytbgAutoPlay=false}else{ytbgAutoPlay=true}if(ytbgFullScreen=="true"){ytbgFullScreen=true}else{ytbgFullScreen=false}element.mb_YTPlayer({videoURL:ytbgVideo,mute:ytbgMute,ratio:ytbgRatio,quality:ytbgQuality,opacity:Number(ytbgOpacity),containment:ytbgContainer,optimizeDisplay:ytbgOptimize,loop:ytbgLoop,vol:Number(ytbgVolume),startAt:Number(ytbgStart),stopAt:Number(ytbgStop),autoplay:ytbgAutoPlay,realfullscreen:ytbgFullScreen,showYTLogo:false,showControls:false})})}},tabs:function(){if(!$().tabs){console.log("tabs: Tabs not Defined.");return true}var $tabs=$(".tabs:not(.customjs)");if($tabs.length>0){$tabs.each(function(){var element=$(this),elementSpeed=element.attr("data-speed"),tabActive=element.attr("data-active");if(!elementSpeed){elementSpeed=400}if(!tabActive){tabActive=0}else{tabActive=tabActive-1}element.tabs({active:Number(tabActive),show:{effect:"fade",duration:Number(elementSpeed)}})})}},tabsJustify:function(){if(!$("body").hasClass("device-xxs")&&!$("body").hasClass("device-xs")){var $tabsJustify=$(".tabs.tabs-justify");if($tabsJustify.length>0){$tabsJustify.each(function(){var element=$(this),elementTabs=element.find(".tab-nav > li"),elementTabsNo=elementTabs.length,elementContainer=0,elementWidth=0;if(element.hasClass("tabs-bordered")||element.hasClass("tabs-bb")){elementContainer=element.find(".tab-nav").outerWidth()}else{if(element.find("tab-nav").hasClass("tab-nav2")){elementContainer=element.find(".tab-nav").outerWidth()-elementTabsNo*10}else{elementContainer=element.find(".tab-nav").outerWidth()-30}}elementWidth=Math.floor(elementContainer/elementTabsNo);elementTabs.css({width:elementWidth+"px"})})}}else{$(".tabs.tabs-justify").find(".tab-nav > li").css({width:""})}},tabsResponsive:function(){if(!$().tabs){console.log("tabs: Tabs not Defined.");return true}var $tabsResponsive=$(".tabs.tabs-responsive");if($tabsResponsive.length<1){return true}$tabsResponsive.each(function(){var element=$(this),elementNav=$(this).find(".tab-nav"),elementContent=$(this).find(".tab-container");elementNav.children("li").each(function(){var navEl=$(this),navElAnchor=navEl.children("a"),navElTarget=navElAnchor.attr("href"),navElContent=navElAnchor.html();elementContent.find(navElTarget).before('<div class="acctitle hide"><i class="acc-closed icon-ok-circle"></i><i class="acc-open icon-remove-circle"></i>'+navElContent+"</div>")})})},tabsResponsiveResize:function(){if(!$().tabs){console.log("tabs: Tabs not Defined.");return true}var $tabsResponsive=$(".tabs.tabs-responsive");if($tabsResponsive.length<1){return true}$tabsResponsive.each(function(){var element=$(this),elementAccStyle=element.attr("data-accordion-style");if($("body").hasClass("device-xs")||$("body").hasClass("device-xxs")){element.find(".tab-nav").addClass("hide");element.find(".tab-container").addClass("accordion "+elementAccStyle+" clearfix");element.find(".tab-content").addClass("acc_content");element.find(".acctitle").removeClass("hide");SEMICOLON.widget.accordions()}else if($("body").hasClass("device-sm")||$("body").hasClass("device-md")||$("body").hasClass("device-lg")){element.find(".tab-nav").removeClass("hide");element.find(".tab-container").removeClass("accordion "+elementAccStyle+" clearfix");element.find(".tab-content").removeClass("acc_content");element.find(".acctitle").addClass("hide");element.tabs("refresh")}})},toggles:function(){var $toggle=$(".toggle");if($toggle.length>0){$toggle.each(function(){var element=$(this),elementState=element.attr("data-state");if(elementState!="open"){element.children(".togglec").hide()}else{element.children(".togglet").addClass("toggleta")}element.children(".togglet").click(function(){$(this).toggleClass("toggleta").next(".togglec").slideToggle(300);return true})})}},accordions:function(){var $accordionEl=$(".accordion");if($accordionEl.length>0){$accordionEl.each(function(){var element=$(this),elementState=element.attr("data-state"),accordionActive=element.attr("data-active");if(!accordionActive){accordionActive=0}else{accordionActive=accordionActive-1}element.find(".acc_content").hide();if(elementState!="closed"){element.find(".acctitle:eq("+Number(accordionActive)+")").addClass("acctitlec").next().show()}element.find(".acctitle").click(function(){if($(this).next().is(":hidden")){element.find(".acctitle").removeClass("acctitlec").next().slideUp("normal");$(this).toggleClass("acctitlec").next().slideDown("normal")}return false})})}},counter:function(){if(!$().appear){console.log("counter: Appear not Defined.");return true}if(!$().countTo){console.log("counter: countTo not Defined.");return true}var $counterEl=$(".counter:not(.counter-instant)");if($counterEl.length>0){$counterEl.each(function(){var element=$(this);var counterElementComma=$(this).find("span").attr("data-comma");if(!counterElementComma){counterElementComma=false}else{counterElementComma=true}if($body.hasClass("device-lg")||$body.hasClass("device-md")){element.appear(function(){SEMICOLON.widget.runCounter(element,counterElementComma);if(element.parents(".common-height")){SEMICOLON.initialize.maxHeight()}},{accX:0,accY:-120},"easeInCubic")}else{SEMICOLON.widget.runCounter(element,counterElementComma)}})}},runCounter:function(counterElement,counterElementComma){if(counterElementComma==true){counterElement.find("span").countTo({formatter:function(value,options){value=value.toFixed(options.decimals);value=value.replace(/\B(?=(\d{3})+(?!\d))/g,",");return value}})}else{counterElement.find("span").countTo()}},roundedSkill:function(){if(!$().appear){console.log("roundedSkill: Appear not Defined.");return true}if(!$().easyPieChart){console.log("roundedSkill: EasyPieChart not Defined.");return true}var $roundedSkillEl=$(".rounded-skill");if($roundedSkillEl.length>0){$roundedSkillEl.each(function(){var element=$(this);var roundSkillSize=element.attr("data-size");var roundSkillSpeed=element.attr("data-speed");var roundSkillWidth=element.attr("data-width");var roundSkillColor=element.attr("data-color");var roundSkillTrackColor=element.attr("data-trackcolor");if(!roundSkillSize){roundSkillSize=140}if(!roundSkillSpeed){roundSkillSpeed=2e3}if(!roundSkillWidth){roundSkillWidth=8}if(!roundSkillColor){roundSkillColor="#0093BF"}if(!roundSkillTrackColor){roundSkillTrackColor="rgba(0,0,0,0.04)"}var properties={roundSkillSize:roundSkillSize,roundSkillSpeed:roundSkillSpeed,roundSkillWidth:roundSkillWidth,roundSkillColor:roundSkillColor,roundSkillTrackColor:roundSkillTrackColor};if($body.hasClass("device-lg")||$body.hasClass("device-md")){element.css({width:roundSkillSize+"px",height:roundSkillSize+"px","line-height":roundSkillSize+"px"}).animate({opacity:0},10);element.appear(function(){if(!element.hasClass("skills-animated")){var t=setTimeout(function(){element.css({opacity:1})},100);SEMICOLON.widget.runRoundedSkills(element,properties);element.addClass("skills-animated")}},{accX:0,accY:-120},"easeInCubic")}else{SEMICOLON.widget.runRoundedSkills(element,properties)}})}},runRoundedSkills:function(element,properties){element.easyPieChart({size:Number(properties.roundSkillSize),animate:Number(properties.roundSkillSpeed),scaleColor:false,trackColor:properties.roundSkillTrackColor,lineWidth:Number(properties.roundSkillWidth),lineCap:"square",barColor:properties.roundSkillColor})},progress:function(){if(!$().appear){console.log("progress: Appear not Defined.");return true}var $progressEl=$(".progress");if($progressEl.length>0){$progressEl.each(function(){var element=$(this),skillsBar=element.parent("li"),skillValue=skillsBar.attr("data-percent");if($body.hasClass("device-lg")||$body.hasClass("device-md")){element.appear(function(){if(!skillsBar.hasClass("skills-animated")){element.find(".counter-instant span").countTo();skillsBar.find(".progress").css({width:skillValue+"%"}).addClass("skills-animated")}},{accX:0,accY:-120},"easeInCubic")}else{element.find(".counter-instant span").countTo();skillsBar.find(".progress").css({width:skillValue+"%"})}})}},twitterFeed:function(){if(typeof sm_format_twitter==="undefined"){console.log("twitterFeed: sm_format_twitter() not Defined.");return true}if(typeof sm_format_twitter3==="undefined"){console.log("twitterFeed: sm_format_twitter3() not Defined.");return true}var $twitterFeedEl=$(".twitter-feed");if($twitterFeedEl.length>0){$twitterFeedEl.each(function(){var element=$(this),twitterFeedUser=element.attr("data-username"),twitterFeedCount=element.attr("data-count"),twitterFeedLoader=element.attr("data-loader");if(!twitterFeedUser){twitterFeedUser="twitter"}if(!twitterFeedCount){twitterFeedCount=3}if(!twitterFeedLoader){twitterFeedLoader="include/twitter/tweets.php"}$.getJSON(twitterFeedLoader+"?username="+twitterFeedUser+"&count="+twitterFeedCount,function(tweets){if(element.hasClass("fslider")){element.find(".slider-wrap").html(sm_format_twitter3(tweets)).promise().done(function(){var timer=setInterval(function(){if(element.find(".slide").length>1){element.removeClass("customjs");var t=setTimeout(function(){SEMICOLON.widget.loadFlexSlider()},500);clearInterval(timer)}},500)})}else{element.html(sm_format_twitter(tweets))}})})}},flickrFeed:function(){if(!$().jflickrfeed){console.log("flickrFeed: jflickrfeed not Defined.");return true}var $flickrFeedEl=$(".flickr-feed");if($flickrFeedEl.length>0){$flickrFeedEl.each(function(){var element=$(this),flickrFeedID=element.attr("data-id"),flickrFeedCount=element.attr("data-count"),flickrFeedType=element.attr("data-type"),flickrFeedTypeGet="photos_public.gne";if(flickrFeedType=="group"){flickrFeedTypeGet="groups_pool.gne"}if(!flickrFeedCount){flickrFeedCount=9}element.jflickrfeed({feedapi:flickrFeedTypeGet,limit:Number(flickrFeedCount),qstrings:{id:flickrFeedID},itemTemplate:'<a href="{{image_b}}" title="{{title}}" data-lightbox="gallery-item">'+'<img src="{{image_s}}" alt="{{title}}" />'+"</a>"},function(data){SEMICOLON.initialize.lightbox()})})}},instagramPhotos:function(c_accessToken,c_clientID){if(typeof Instafeed==="undefined"){console.log("Instafeed not Defined.");return true}var $instagramPhotosEl=$(".instagram-photos");if($instagramPhotosEl.length>0){$instagramPhotosEl.each(function(){var element=$(this),instaGramTarget=element.attr("id"),instaGramUserId=element.attr("data-user"),instaGramTag=element.attr("data-tag"),instaGramLocation=element.attr("data-location"),instaGramCount=element.attr("data-count"),instaGramType=element.attr("data-type"),instaGramSortBy=element.attr("data-sortBy"),instaGramRes=element.attr("data-resolution");if(!instaGramCount){instaGramCount=9}if(!instaGramSortBy){instaGramSortBy="none"}if(!instaGramRes){instaGramRes="thumbnail"}if(instaGramType=="user"){var feed=new Instafeed({target:instaGramTarget,get:instaGramType,userId:Number(instaGramUserId),limit:Number(instaGramCount),sortBy:instaGramSortBy,resolution:instaGramRes,accessToken:c_accessToken,clientId:c_clientID})}else if(instaGramType=="tagged"){var feed=new Instafeed({target:instaGramTarget,get:instaGramType,tagName:instaGramTag,limit:Number(instaGramCount),sortBy:instaGramSortBy,resolution:instaGramRes,clientId:c_clientID})}else if(instaGramType=="location"){var feed=new Instafeed({target:instaGramTarget,get:instaGramType,locationId:Number(instaGramUserId),limit:Number(instaGramCount),sortBy:instaGramSortBy,resolution:instaGramRes,clientId:c_clientID})}else{var feed=new Instafeed({target:instaGramTarget,get:"popular",limit:Number(instaGramCount),sortBy:instaGramSortBy,resolution:instaGramRes,clientId:c_clientID})}feed.run()})}},dribbbleShots:function(c_accessToken){if(!$.jribbble){console.log("dribbbleShots: Jribbble not Defined.");return true}if(!$().imagesLoaded){console.log("dribbbleShots: imagesLoaded not Defined.");return true}var $dribbbleShotsEl=$(".dribbble-shots");if($dribbbleShotsEl.length>0){$.jribbble.setToken(c_accessToken);$dribbbleShotsEl.each(function(){var element=$(this),dribbbleUsername=element.attr("data-user"),dribbbleCount=element.attr("data-count"),dribbbleList=element.attr("data-list"),dribbbleType=element.attr("data-type");element.addClass("customjs");if(!dribbbleCount){dribbbleCount=9}if(dribbbleType=="user"){$.jribbble.users(dribbbleUsername).shots({sort:"recent",page:1,per_page:Number(dribbbleCount)}).then(function(res){var html=[];res.forEach(function(shot){html.push('<a href="'+shot.html_url+'" target="_blank">');html.push('<img src="'+shot.images.teaser+'" ');html.push('alt="'+shot.title+'"></a>')});element.html(html.join(""));element.imagesLoaded().done(function(){element.removeClass("customjs");SEMICOLON.widget.masonryThumbs()})})}else if(dribbbleType=="list"){$.jribbble.shots(dribbbleList,{sort:"recent",page:1,per_page:Number(dribbbleCount)}).then(function(res){var html=[];res.forEach(function(shot){html.push('<a href="'+shot.html_url+'" target="_blank">');html.push('<img src="'+shot.images.teaser+'" ');html.push('alt="'+shot.title+'"></a>')});element.html(html.join(""));element.imagesLoaded().done(function(){element.removeClass("customjs");SEMICOLON.widget.masonryThumbs()})})}})}},navTree:function(){var $navTreeEl=$(".nav-tree");if($navTreeEl.length>0){$navTreeEl.each(function(){var element=$(this),elementSpeed=element.attr("data-speed"),elementEasing=element.attr("data-easing");if(!elementSpeed){elementSpeed=250}if(!elementEasing){elementEasing="swing"}element.find("ul li:has(ul)").addClass("sub-menu");element.find("ul li:has(ul) > a").append(' <i class="icon-angle-down"></i>');if(element.hasClass("on-hover")){element.find("ul li:has(ul):not(.active)").hover(function(e){$(this).children("ul").stop(true,true).slideDown(Number(elementSpeed),elementEasing)},function(){$(this).children("ul").delay(250).slideUp(Number(elementSpeed),elementEasing)})}else{element.find("ul li:has(ul) > a").click(function(e){var childElement=$(this);element.find("ul li").not(childElement.parents()).removeClass("active");childElement.parent().children("ul").slideToggle(Number(elementSpeed),elementEasing,function(){$(this).find("ul").hide();$(this).find("li.active").removeClass("active")});element.find("ul li > ul").not(childElement.parent().children("ul")).not(childElement.parents("ul")).slideUp(Number(elementSpeed),elementEasing);childElement.parent("li:has(ul)").toggleClass("active");e.preventDefault()})}})}},carousel:function(){if(!$().owlCarousel){console.log("carousel: Owl Carousel not Defined.");return true}var $carousel=$(".carousel-widget:not(.customjs)");if($carousel.length<1){return true}$carousel.each(function(){var element=$(this),elementItems=element.attr("data-items"),elementItemsLg=element.attr("data-items-lg"),elementItemsMd=element.attr("data-items-md"),elementItemsSm=element.attr("data-items-sm"),elementItemsXs=element.attr("data-items-xs"),elementItemsXxs=element.attr("data-items-xxs"),elementLoop=element.attr("data-loop"),elementAutoPlay=element.attr("data-autoplay"),elementSpeed=element.attr("data-speed"),elementAnimateIn=element.attr("data-animate-in"),elementAnimateOut=element.attr("data-animate-out"),elementNav=element.attr("data-nav"),elementPagi=element.attr("data-pagi"),elementMargin=element.attr("data-margin"),elementStage=element.attr("data-stage-padding"),elementMerge=element.attr("data-merge"),elementStart=element.attr("data-start"),elementRewind=element.attr("data-rewind"),elementSlideBy=element.attr("data-slideby"),elementCenter=element.attr("data-center"),elementLazy=element.attr("data-lazyload"),elementVideo=element.attr("data-video"),elementRTL=element.attr("data-rtl");if(!elementItems){elementItems=4}if(!elementItemsLg){elementItemsLg=Number(elementItems)}if(!elementItemsMd){
elementItemsMd=Number(elementItemsLg)}if(!elementItemsSm){elementItemsSm=Number(elementItemsMd)}if(!elementItemsXs){elementItemsXs=Number(elementItemsSm)}if(!elementItemsXxs){elementItemsXxs=Number(elementItemsXs)}if(!elementSpeed){elementSpeed=250}if(!elementMargin){elementMargin=20}if(!elementStage){elementStage=0}if(!elementStart){elementStart=0}if(!elementSlideBy){elementSlideBy=1}if(elementSlideBy=="page"){elementSlideBy="page"}else{elementSlideBy=Number(elementSlideBy)}if(elementLoop=="true"){elementLoop=true}else{elementLoop=false}if(!elementAutoPlay){elementAutoPlay=false;var elementAutoPlayTime=0}else{var elementAutoPlayTime=Number(elementAutoPlay);elementAutoPlay=true}if(!elementAnimateIn){elementAnimateIn=false}if(!elementAnimateOut){elementAnimateOut=false}if(elementNav=="false"){elementNav=false}else{elementNav=true}if(elementPagi=="false"){elementPagi=false}else{elementPagi=true}if(elementRewind=="true"){elementRewind=true}else{elementRewind=false}if(elementMerge=="true"){elementMerge=true}else{elementMerge=false}if(elementCenter=="true"){elementCenter=true}else{elementCenter=false}if(elementLazy=="true"){elementLazy=true}else{elementLazy=false}if(elementVideo=="true"){elementVideo=true}else{elementVideo=false}if(elementRTL=="true"||$body.hasClass("rtl")){elementRTL=true}else{elementRTL=false}element.owlCarousel({margin:Number(elementMargin),loop:elementLoop,stagePadding:Number(elementStage),merge:elementMerge,startPosition:Number(elementStart),rewind:elementRewind,slideBy:elementSlideBy,center:elementCenter,lazyLoad:elementLazy,nav:elementNav,navText:['<i class="icon-angle-left"></i>','<i class="icon-angle-right"></i>'],autoplay:elementAutoPlay,autoplayTimeout:elementAutoPlayTime,autoplayHoverPause:true,dots:elementPagi,smartSpeed:Number(elementSpeed),fluidSpeed:Number(elementSpeed),video:elementVideo,animateIn:elementAnimateIn,animateOut:elementAnimateOut,rtl:elementRTL,responsive:{0:{items:Number(elementItemsXxs)},480:{items:Number(elementItemsXs)},768:{items:Number(elementItemsSm)},992:{items:Number(elementItemsMd)},1200:{items:Number(elementItemsLg)}},onInitialized:function(){SEMICOLON.slider.owlCaptionInit();SEMICOLON.slider.sliderParallaxDimensions();SEMICOLON.initialize.lightbox()}})})},masonryThumbs:function(){var $masonryThumbsEl=$(".masonry-thumbs:not(.customjs)");if($masonryThumbsEl.length>0){$masonryThumbsEl.each(function(){var masonryItemContainer=$(this);SEMICOLON.widget.masonryThumbsArrange(masonryItemContainer)})}},masonryThumbsArrange:function(element){if(!$().isotope){console.log("masonryThumbsArrange: Isotope not Defined.");return true}SEMICOLON.initialize.setFullColumnWidth(element);element.isotope("layout")},notifications:function(element){if(typeof toastr==="undefined"){console.log("notifications: Toastr not Defined.");return true}toastr.remove();var notifyElement=$(element),notifyPosition=notifyElement.attr("data-notify-position"),notifyType=notifyElement.attr("data-notify-type"),notifyMsg=notifyElement.attr("data-notify-msg"),notifyTimeout=notifyElement.attr("data-notify-timeout"),notifyCloseButton=notifyElement.attr("data-notify-close");if(!notifyPosition){notifyPosition="toast-top-right"}else{notifyPosition="toast-"+notifyElement.attr("data-notify-position")}if(!notifyMsg){notifyMsg="Please set a message!"}if(!notifyTimeout){notifyTimeout=5e3}if(notifyCloseButton=="true"){notifyCloseButton=true}else{notifyCloseButton=false}toastr.options.positionClass=notifyPosition;toastr.options.timeOut=Number(notifyTimeout);toastr.options.closeButton=notifyCloseButton;toastr.options.closeHtml='<button><i class="icon-remove"></i></button>';if(notifyType=="warning"){toastr.warning(notifyMsg)}else if(notifyType=="error"){toastr.error(notifyMsg)}else if(notifyType=="success"){toastr.success(notifyMsg)}else{toastr.info(notifyMsg)}return false},textRotater:function(){if(!$().Morphext){console.log("textRotater: Morphext not Defined.");return true}if($textRotaterEl.length>0){$textRotaterEl.each(function(){var element=$(this),trRotate=$(this).attr("data-rotate"),trSpeed=$(this).attr("data-speed"),trSeparator=$(this).attr("data-separator");if(!trRotate){trRotate="fade"}if(!trSpeed){trSpeed=1200}if(!trSeparator){trSeparator=","}var tRotater=$(this).find(".t-rotate");tRotater.Morphext({animation:trRotate,separator:trSeparator,speed:Number(trSpeed)})})}},linkScroll:function(){$("a[data-scrollto]").click(function(){var element=$(this),divScrollToAnchor=element.attr("data-scrollto"),divScrollSpeed=element.attr("data-speed"),divScrollOffset=element.attr("data-offset"),divScrollEasing=element.attr("data-easing"),divScrollHighlight=element.attr("data-highlight");if(!divScrollSpeed){divScrollSpeed=750}if(!divScrollOffset){divScrollOffset=SEMICOLON.initialize.topScrollOffset()}if(!divScrollEasing){divScrollEasing="easeOutQuad"}$("html,body").stop(true).animate({scrollTop:$(divScrollToAnchor).offset().top-Number(divScrollOffset)},Number(divScrollSpeed),divScrollEasing,function(){if(divScrollHighlight){if($(divScrollToAnchor).find(".highlight-me").length>0){$(divScrollToAnchor).find(".highlight-me").animate({backgroundColor:divScrollHighlight},300);var t=setTimeout(function(){$(divScrollToAnchor).find(".highlight-me").animate({backgroundColor:"transparent"},300)},500)}else{$(divScrollToAnchor).animate({backgroundColor:divScrollHighlight},300);var t=setTimeout(function(){$(divScrollToAnchor).animate({backgroundColor:"transparent"},300)},500)}}});return false})},contactForm:function(){if(!$().validate){console.log("contactForm: Form Validate not Defined.");return true}if(!$().ajaxSubmit){console.log("contactForm: jQuery Form not Defined.");return true}var $contactForm=$(".contact-widget:not(.customjs)");if($contactForm.length<1){return true}$contactForm.each(function(){var element=$(this),elementAlert=element.attr("data-alert-type"),elementLoader=element.attr("data-loader"),elementResult=element.find(".contact-form-result"),elementRedirect=element.attr("data-redirect");element.find("form").validate({submitHandler:function(form){elementResult.hide();if(elementLoader=="button"){var defButton=$(form).find("button"),defButtonText=defButton.html();defButton.html('<i class="icon-line-loader icon-spin nomargin"></i>')}else{$(form).find(".form-process").fadeIn()}$(form).ajaxSubmit({target:elementResult,dataType:"json",success:function(data){if(elementLoader=="button"){defButton.html(defButtonText)}else{$(form).find(".form-process").fadeOut()}if(data.alert!="error"&&elementRedirect){window.location.replace(elementRedirect);return true}if(elementAlert=="inline"){if(data.alert=="error"){var alertType="alert-danger"}else{var alertType="alert-success"}elementResult.removeClass("alert-danger alert-success").addClass("alert "+alertType).html(data.message).slideDown(400)}else{elementResult.attr("data-notify-type",data.alert).attr("data-notify-msg",data.message).html("");SEMICOLON.widget.notifications(elementResult)}if($(form).find(".g-recaptcha").children("div").length>0){grecaptcha.reset()}if(data.alert!="error"){$(form).clearForm()}}})}})})},subscription:function(){if(!$().validate){console.log("subscription: Form Validate not Defined.");return true}if(!$().ajaxSubmit){console.log("subscription: jQuery Form not Defined.");return true}var $subscribeForm=$(".subscribe-widget:not(.customjs)");if($subscribeForm.length<1){return true}$subscribeForm.each(function(){var element=$(this),elementAlert=element.attr("data-alert-type"),elementLoader=element.attr("data-loader"),elementResult=element.find(".widget-subscribe-form-result"),elementRedirect=element.attr("data-redirect");element.find("form").validate({submitHandler:function(form){elementResult.hide();if(elementLoader=="button"){var defButton=$(form).find("button"),defButtonText=defButton.html();defButton.html('<i class="icon-line-loader icon-spin nomargin"></i>')}else{$(form).find(".input-group-addon").find(".icon-email2").removeClass("icon-email2").addClass("icon-line-loader icon-spin")}$(form).ajaxSubmit({target:elementResult,dataType:"json",resetForm:true,success:function(data){if(elementLoader=="button"){defButton.html(defButtonText)}else{$(form).find(".input-group-addon").find(".icon-line-loader").removeClass("icon-line-loader icon-spin").addClass("icon-email2")}if(data.alert!="error"&&elementRedirect){window.location.replace(elementRedirect);return true}if(elementAlert=="inline"){if(data.alert=="error"){var alertType="alert-danger"}else{var alertType="alert-success"}elementResult.addClass("alert "+alertType).html(data.message).slideDown(400)}else{elementResult.attr("data-notify-type",data.alert).attr("data-notify-msg",data.message).html("");SEMICOLON.widget.notifications(elementResult)}}})}})})},quickContact:function(){if(!$().validate){console.log("quickContact: Form Validate not Defined.");return true}if(!$().ajaxSubmit){console.log("quickContact: jQuery Form not Defined.");return true}var $quickContact=$(".quick-contact-widget:not(.customjs)");if($quickContact.length<1){return true}$quickContact.each(function(){var element=$(this),elementAlert=element.attr("data-alert-type"),elementLoader=element.attr("data-loader"),elementResult=element.find(".quick-contact-form-result"),elementRedirect=element.attr("data-redirect");element.find("form").validate({submitHandler:function(form){elementResult.hide();$(form).animate({opacity:.4});if(elementLoader=="button"){var defButton=$(form).find("button"),defButtonText=defButton.html();defButton.html('<i class="icon-line-loader icon-spin nomargin"></i>')}else{$(form).find(".form-process").fadeIn()}$(form).ajaxSubmit({target:elementResult,dataType:"json",resetForm:true,success:function(data){$(form).animate({opacity:1});if(elementLoader=="button"){defButton.html(defButtonText)}else{$(form).find(".form-process").fadeOut()}if(data.alert!="error"&&elementRedirect){window.location.replace(elementRedirect);return true}if(elementAlert=="inline"){if(data.alert=="error"){var alertType="alert-danger"}else{var alertType="alert-success"}elementResult.addClass("alert "+alertType).html(data.message).slideDown(400)}else{elementResult.attr("data-notify-type",data.alert).attr("data-notify-msg",data.message).html("");SEMICOLON.widget.notifications(elementResult)}if($(form).find(".g-recaptcha").children("div").length>0){grecaptcha.reset()}}})}})})},cookieNotify:function(){if(!$.cookie){console.log("cookieNotify: Cookie Function not defined.");return true}if($cookieNotification.length>0){var cookieNotificationHeight=$cookieNotification.outerHeight();$cookieNotification.css({bottom:-cookieNotificationHeight});if($.cookie("websiteUsesCookies")!="yesConfirmed"){$cookieNotification.css({bottom:0})}$(".cookie-accept").click(function(){$cookieNotification.css({bottom:-cookieNotificationHeight});$.cookie("websiteUsesCookies","yesConfirmed",{expires:30});return false})}},extras:function(){if($().tooltip){$('[data-toggle="tooltip"]').tooltip({container:"body"})}else{console.log("extras: Bootstrap Tooltip not defined.")}if($().popover){$("[data-toggle=popover]").popover()}else{console.log("extras: Bootstrap Popover not defined.")}$(".style-msg").on("click",".close",function(e){$(this).parents(".style-msg").slideUp();e.preventDefault()});$("#primary-menu-trigger,#overlay-menu-close").click(function(){if($("#primary-menu").find("ul.mobile-primary-menu").length>0){$("#primary-menu > ul.mobile-primary-menu, #primary-menu > div > ul.mobile-primary-menu").toggleClass("show")}else{$("#primary-menu > ul, #primary-menu > div > ul").toggleClass("show")}$body.toggleClass("primary-menu-open");return false});$("#page-submenu-trigger").click(function(){$body.toggleClass("top-search-open",false);$pagemenu.toggleClass("pagemenu-active");return false});$pagemenu.find("nav").click(function(e){$body.toggleClass("top-search-open",false);$topCart.toggleClass("top-cart-open",false)});if(SEMICOLON.isMobile.any()){$body.addClass("device-touch")}}};SEMICOLON.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return SEMICOLON.isMobile.Android()||SEMICOLON.isMobile.BlackBerry()||SEMICOLON.isMobile.iOS()||SEMICOLON.isMobile.Opera()||SEMICOLON.isMobile.Windows()}};SEMICOLON.documentOnResize={init:function(){var t=setTimeout(function(){SEMICOLON.header.topsocial();SEMICOLON.header.fullWidthMenu();SEMICOLON.header.overlayMenu();SEMICOLON.initialize.fullScreen();SEMICOLON.initialize.verticalMiddle();SEMICOLON.initialize.maxHeight();SEMICOLON.initialize.testimonialsGrid();SEMICOLON.initialize.stickyFooter();SEMICOLON.slider.sliderParallaxDimensions();SEMICOLON.slider.captionPosition();SEMICOLON.portfolio.arrange();SEMICOLON.portfolio.portfolioDescMargin();SEMICOLON.widget.tabsResponsiveResize();SEMICOLON.widget.tabsJustify();SEMICOLON.widget.html5Video();SEMICOLON.widget.masonryThumbs();SEMICOLON.initialize.dataResponsiveClasses();SEMICOLON.initialize.dataResponsiveHeights();if($gridContainer.length>0){if(!$gridContainer.hasClass(".customjs")){if($().isotope){$gridContainer.isotope("layout")}else{console.log("documentOnResize > init: Isotope not defined.")}}}if($body.hasClass("device-lg")||$body.hasClass("device-md")){$("#primary-menu").find("ul.mobile-primary-menu").removeClass("show")}},500);windowWidth=$window.width()}};SEMICOLON.documentOnReady={init:function(){SEMICOLON.initialize.init();SEMICOLON.header.init();if($slider.length>0){SEMICOLON.slider.init()}if($portfolio.length>0){SEMICOLON.portfolio.init()}SEMICOLON.widget.init();SEMICOLON.documentOnReady.windowscroll()},windowscroll:function(){var headerOffset=0,headerWrapOffset=0,pageMenuOffset=0;if($header.length>0){headerOffset=$header.offset().top}if($header.length>0){headerWrapOffset=$headerWrap.offset().top}if($pagemenu.length>0){if($header.length>0&&!$header.hasClass("no-sticky")){if($header.hasClass("sticky-style-2")||$header.hasClass("sticky-style-3")){pageMenuOffset=$pagemenu.offset().top-$headerWrap.outerHeight()}else{pageMenuOffset=$pagemenu.offset().top-$header.outerHeight()}}else{pageMenuOffset=$pagemenu.offset().top}}var headerDefinedOffset=$header.attr("data-sticky-offset");if(typeof headerDefinedOffset!=="undefined"){if(headerDefinedOffset=="full"){headerWrapOffset=$window.height();var headerOffsetNegative=$header.attr("data-sticky-offset-negative");if(typeof headerOffsetNegative!=="undefined"){headerWrapOffset=headerWrapOffset-headerOffsetNegative-1}}else{headerWrapOffset=Number(headerDefinedOffset)}}SEMICOLON.header.stickyMenu(headerWrapOffset);SEMICOLON.header.stickyPageMenu(pageMenuOffset);$window.on("scroll",function(){SEMICOLON.initialize.goToTopScroll();$("body.open-header.close-header-on-scroll").removeClass("side-header-open");SEMICOLON.header.stickyMenu(headerWrapOffset);SEMICOLON.header.stickyPageMenu(pageMenuOffset);SEMICOLON.header.logo()});window.addEventListener("scroll",onScrollSliderParallax,false);if($onePageMenuEl.length>0){if($().scrolled){$window.scrolled(function(){SEMICOLON.header.onepageScroller()})}else{console.log("windowscroll: Scrolled Function not defined.")}}}};SEMICOLON.documentOnLoad={init:function(){SEMICOLON.slider.captionPosition();SEMICOLON.slider.swiperSliderMenu(true);SEMICOLON.slider.revolutionSliderMenu(true);SEMICOLON.initialize.maxHeight();SEMICOLON.initialize.testimonialsGrid();SEMICOLON.initialize.verticalMiddle();SEMICOLON.initialize.stickFooterOnSmall();SEMICOLON.initialize.stickyFooter();SEMICOLON.portfolio.gridInit($gridContainer);SEMICOLON.portfolio.filterInit();SEMICOLON.portfolio.shuffleInit();SEMICOLON.portfolio.arrange();SEMICOLON.portfolio.portfolioDescMargin();SEMICOLON.widget.parallax();SEMICOLON.widget.loadFlexSlider();SEMICOLON.widget.html5Video();SEMICOLON.widget.masonryThumbs();SEMICOLON.header.topsocial();SEMICOLON.header.responsiveMenuClass();SEMICOLON.initialize.modal()}};var $window=$(window),$body=$("body"),$wrapper=$("#wrapper"),$header=$("#header"),$headerWrap=$("#header-wrap"),$content=$("#content"),$footer=$("#footer"),windowWidth=$window.width(),oldHeaderClasses=$header.attr("class"),oldHeaderWrapClasses=$headerWrap.attr("class"),stickyMenuClasses=$header.attr("data-sticky-class"),responsiveMenuClasses=$header.attr("data-responsive-class"),defaultLogo=$("#logo").find(".standard-logo"),defaultLogoWidth=defaultLogo.find("img").outerWidth(),retinaLogo=$("#logo").find(".retina-logo"),defaultLogoImg=defaultLogo.find("img").attr("src"),retinaLogoImg=retinaLogo.find("img").attr("src"),defaultDarkLogo=defaultLogo.attr("data-dark-logo"),retinaDarkLogo=retinaLogo.attr("data-dark-logo"),defaultStickyLogo=defaultLogo.attr("data-sticky-logo"),retinaStickyLogo=retinaLogo.attr("data-sticky-logo"),defaultMobileLogo=defaultLogo.attr("data-mobile-logo"),retinaMobileLogo=retinaLogo.attr("data-mobile-logo"),$pagemenu=$("#page-menu"),$onePageMenuEl=$(".one-page-menu"),onePageGlobalOffset=0,$portfolio=$(".portfolio"),$shop=$(".shop"),$gridContainer=$(".grid-container"),$slider=$("#slider"),$sliderParallaxEl=$(".slider-parallax"),swiperSlider="",$pageTitle=$("#page-title"),$portfolioItems=$(".portfolio-ajax").find(".portfolio-item"),$portfolioDetails=$("#portfolio-ajax-wrap"),$portfolioDetailsContainer=$("#portfolio-ajax-container"),$portfolioAjaxLoader=$("#portfolio-ajax-loader"),$portfolioFilter=$(".portfolio-filter,.custom-filter"),prevPostPortId="",$topSearch=$("#top-search"),$topCart=$("#top-cart"),$verticalMiddleEl=$(".vertical-middle"),$topSocialEl=$("#top-social").find("li"),$siStickyEl=$(".si-sticky"),$dotsMenuEl=$(".dots-menu"),$goToTopEl=$("#gotoTop"),$fullScreenEl=$(".full-screen"),$commonHeightEl=$(".common-height"),$testimonialsGridEl=$(".testimonials-grid"),$pageSectionEl=$(".page-section"),$owlCarouselEl=$(".owl-carousel"),$parallaxEl=$(".parallax"),$parallaxPageTitleEl=$(".page-title-parallax"),$parallaxPortfolioEl=$(".portfolio-parallax").find(".portfolio-image"),$textRotaterEl=$(".text-rotater"),$cookieNotification=$("#cookie-notification");$(document).ready(SEMICOLON.documentOnReady.init);$window.load(SEMICOLON.documentOnLoad.init);$window.on("resize",SEMICOLON.documentOnResize.init)})(jQuery);function InfoBox(opt_opts){opt_opts=opt_opts||{};google.maps.OverlayView.apply(this,arguments);this.content_=opt_opts.content||"";this.disableAutoPan_=opt_opts.disableAutoPan||false;this.maxWidth_=opt_opts.maxWidth||0;this.pixelOffset_=opt_opts.pixelOffset||new google.maps.Size(0,0);this.position_=opt_opts.position||new google.maps.LatLng(0,0);this.zIndex_=opt_opts.zIndex||null;this.boxClass_=opt_opts.boxClass||"infoBox";this.boxStyle_=opt_opts.boxStyle||{};this.closeBoxMargin_=opt_opts.closeBoxMargin||"2px";this.closeBoxURL_=opt_opts.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(opt_opts.closeBoxURL===""){this.closeBoxURL_=""}this.infoBoxClearance_=opt_opts.infoBoxClearance||new google.maps.Size(1,1);this.isHidden_=opt_opts.isHidden||false;this.alignBottom_=opt_opts.alignBottom||false;this.pane_=opt_opts.pane||"floatPane";this.enableEventPropagation_=opt_opts.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.moveListener_=null;this.contextListener_=null;this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView;InfoBox.prototype.createInfoBoxDiv_=function(){var bw;var me=this;var cancelHandler=function(e){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}};var ignoreHandler=function(e){e.returnValue=false;if(e.preventDefault){e.preventDefault()}if(!me.enableEventPropagation_){cancelHandler(e)}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true}else{bw=this.getBoxWidths_();this.div_.style.width=this.div_.offsetWidth-bw.left-bw.right+"px";this.fixedWidthSet_=false}}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",cancelHandler);this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",cancelHandler);this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",cancelHandler);this.eventListener4_=google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default"})}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",ignoreHandler);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var img="";if(this.closeBoxURL_!==""){img="<img";img+=" src='"+this.closeBoxURL_+"'";img+=" align=right";img+=" style='";img+=" position: relative;";img+=" cursor: pointer;";img+=" margin: "+this.closeBoxMargin_+";";img+="'>"}return img};InfoBox.prototype.addClickHandler_=function(){var closeBox;if(this.closeBoxURL_!==""){closeBox=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(closeBox,"click",this.getCloseClickHandler_())}else{this.closeListener_=null}};InfoBox.prototype.getCloseClickHandler_=function(){var me=this;return function(e){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}setTimeout(function(){me.close()},350);google.maps.event.trigger(me,"closeclick")}};InfoBox.prototype.panBox_=function(disablePan){var map;var bounds;var xOffset=0,yOffset=0;if(!disablePan){map=this.getMap();if(map instanceof google.maps.Map){if(!map.getBounds().contains(this.position_)){map.setCenter(this.position_)}bounds=map.getBounds();var mapDiv=map.getDiv();var mapWidth=mapDiv.offsetWidth;var mapHeight=mapDiv.offsetHeight;var iwOffsetX=this.pixelOffset_.width;var iwOffsetY=this.pixelOffset_.height;var iwWidth=this.div_.offsetWidth;var iwHeight=this.div_.offsetHeight;var padX=this.infoBoxClearance_.width;var padY=this.infoBoxClearance_.height;var pixPosition=this.getProjection().fromLatLngToContainerPixel(this.position_);if(pixPosition.x<-iwOffsetX+padX){xOffset=pixPosition.x+iwOffsetX-padX}else if(pixPosition.x+iwWidth+iwOffsetX+padX>mapWidth){xOffset=pixPosition.x+iwWidth+iwOffsetX+padX-mapWidth}if(this.alignBottom_){if(pixPosition.y<-iwOffsetY+padY+iwHeight){yOffset=pixPosition.y+iwOffsetY-padY-iwHeight}else if(pixPosition.y+iwOffsetY+padY>mapHeight){yOffset=pixPosition.y+iwOffsetY+padY-mapHeight}}else{if(pixPosition.y<-iwOffsetY+padY){yOffset=pixPosition.y+iwOffsetY-padY}else if(pixPosition.y+iwHeight+iwOffsetY+padY>mapHeight){yOffset=pixPosition.y+iwHeight+iwOffsetY+padY-mapHeight}}if(!(xOffset===0&&yOffset===0)){var c=map.getCenter();map.panBy(xOffset,yOffset)}}}};InfoBox.prototype.setBoxStyle_=function(){var i,boxStyle;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";boxStyle=this.boxStyle_;for(i in boxStyle){if(boxStyle.hasOwnProperty(i)){this.div_.style[i]=boxStyle[i]}}if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+this.div_.style.opacity*100+")"}this.div_.style.position="absolute";this.div_.style.visibility="hidden";if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_}}};InfoBox.prototype.getBoxWidths_=function(){var computedStyle;var bw={top:0,bottom:0,left:0,right:0};var box=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){computedStyle=box.ownerDocument.defaultView.getComputedStyle(box,"");if(computedStyle){bw.top=parseInt(computedStyle.borderTopWidth,10)||0;bw.bottom=parseInt(computedStyle.borderBottomWidth,10)||0;bw.left=parseInt(computedStyle.borderLeftWidth,10)||0;bw.right=parseInt(computedStyle.borderRightWidth,10)||0}}else if(document.documentElement.currentStyle){if(box.currentStyle){bw.top=parseInt(box.currentStyle.borderTopWidth,10)||0;bw.bottom=parseInt(box.currentStyle.borderBottomWidth,10)||0;bw.left=parseInt(box.currentStyle.borderLeftWidth,10)||0;bw.right=parseInt(box.currentStyle.borderRightWidth,10)||0}}return bw};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var pixPosition=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=pixPosition.x+this.pixelOffset_.width+"px";if(this.alignBottom_){this.div_.style.bottom=-(pixPosition.y+this.pixelOffset_.height)+"px"}else{this.div_.style.top=pixPosition.y+this.pixelOffset_.height+"px"}if(this.isHidden_){this.div_.style.visibility="hidden"}else{this.div_.style.visibility="visible"}};InfoBox.prototype.setOptions=function(opt_opts){if(typeof opt_opts.boxClass!=="undefined"){this.boxClass_=opt_opts.boxClass;this.setBoxStyle_()}if(typeof opt_opts.boxStyle!=="undefined"){this.boxStyle_=opt_opts.boxStyle;this.setBoxStyle_()}if(typeof opt_opts.content!=="undefined"){this.setContent(opt_opts.content)}if(typeof opt_opts.disableAutoPan!=="undefined"){this.disableAutoPan_=opt_opts.disableAutoPan}if(typeof opt_opts.maxWidth!=="undefined"){this.maxWidth_=opt_opts.maxWidth}if(typeof opt_opts.pixelOffset!=="undefined"){this.pixelOffset_=opt_opts.pixelOffset}if(typeof opt_opts.alignBottom!=="undefined"){this.alignBottom_=opt_opts.alignBottom}if(typeof opt_opts.position!=="undefined"){this.setPosition(opt_opts.position)}if(typeof opt_opts.zIndex!=="undefined"){this.setZIndex(opt_opts.zIndex)}if(typeof opt_opts.closeBoxMargin!=="undefined"){this.closeBoxMargin_=opt_opts.closeBoxMargin}if(typeof opt_opts.closeBoxURL!=="undefined"){this.closeBoxURL_=opt_opts.closeBoxURL}if(typeof opt_opts.infoBoxClearance!=="undefined"){this.infoBoxClearance_=opt_opts.infoBoxClearance}if(typeof opt_opts.isHidden!=="undefined"){this.isHidden_=opt_opts.isHidden}if(typeof opt_opts.enableEventPropagation!=="undefined"){this.enableEventPropagation_=opt_opts.enableEventPropagation}if(this.div_){this.draw()}};InfoBox.prototype.setContent=function(content){this.content_=content;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(!this.fixedWidthSet_){this.div_.style.width=""}if(typeof content.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+content}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(content)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof content.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+content}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(content)}}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(latlng){this.position_=latlng;if(this.div_){this.draw()}google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(index){this.zIndex_=index;if(this.div_){this.div_.style.zIndex=index}google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible"}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden"}};InfoBox.prototype.open=function(map,anchor){var me=this;if(anchor){this.position_=anchor.getPosition();this.moveListener_=google.maps.event.addListener(anchor,"position_changed",function(){me.setPosition(this.getPosition())})}this.setMap(map);if(this.div_){this.panBox_()}};InfoBox.prototype.close=function(){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListener1_){google.maps.event.removeListener(this.eventListener1_);google.maps.event.removeListener(this.eventListener2_);google.maps.event.removeListener(this.eventListener3_);google.maps.event.removeListener(this.eventListener4_);this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.eventListener4_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null)};function ClusterIcon(cluster,styles){cluster.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.cluster_=cluster;this.className_=cluster.getMarkerClusterer().getClusterClass();this.styles_=styles;this.center_=null;this.div_=null;this.sums_=null;this.visible_=false;this.setMap(cluster.getMap())}ClusterIcon.prototype.onAdd=function(){var cClusterIcon=this;var cMouseDownInCluster;var cDraggingMapByCluster;this.div_=document.createElement("div");this.div_.className=this.className_;if(this.visible_){this.show()}this.getPanes().overlayMouseTarget.appendChild(this.div_);this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){cDraggingMapByCluster=cMouseDownInCluster});google.maps.event.addDomListener(this.div_,"mousedown",function(){cMouseDownInCluster=true;cDraggingMapByCluster=false});google.maps.event.addDomListener(this.div_,"click",function(e){cMouseDownInCluster=false;if(!cDraggingMapByCluster){var theBounds;var mz;var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"click",cClusterIcon.cluster_);google.maps.event.trigger(mc,"clusterclick",cClusterIcon.cluster_);var latitudeArray=[];var longitudeArray=[];var markers=cClusterIcon.cluster_.markers_;for(var b=0;b<markers.length;b++){var formattedLatitude=parseFloat(markers[b].getPosition().lat()).toFixed(6);var formattedLongitude=parseFloat(markers[b].getPosition().lng()).toFixed(6);latitudeArray.push(formattedLatitude);longitudeArray.push(formattedLongitude)}Array.prototype.allValuesSame=function(){for(var i=1;i<this.length;i++){if(this[i]!==this[0])return false}return true};if(latitudeArray.allValuesSame()&&longitudeArray.allValuesSame()){return mc.onClick(cClusterIcon,latitudeArray[0],longitudeArray[0])}if(mc.getZoomOnClick()){mz=mc.getMaxZoom();theBounds=cClusterIcon.cluster_.getBounds();mc.getMap().fitBounds(theBounds);setTimeout(function(){mc.getMap().fitBounds(theBounds);if(mz!==null&&mc.getMap().getZoom()>mz){mc.getMap().setZoom(mz+1)}},100)}e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}}});google.maps.event.addDomListener(this.div_,"mouseover",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseover",cClusterIcon.cluster_)});google.maps.event.addDomListener(this.div_,"mouseout",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseout",cClusterIcon.cluster_)})};ClusterIcon.prototype.onRemove=function(){if(this.div_&&this.div_.parentNode){this.hide();google.maps.event.removeListener(this.boundsChangedListener_);google.maps.event.clearInstanceListeners(this.div_);this.div_.parentNode.removeChild(this.div_);this.div_=null}};ClusterIcon.prototype.draw=function(){if(this.visible_){var pos=this.getPosFromLatLng_(this.center_);this.div_.style.top=pos.y+"px";this.div_.style.left=pos.x+"px"}};ClusterIcon.prototype.hide=function(){if(this.div_){this.div_.style.display="none"}this.visible_=false};ClusterIcon.prototype.show=function(){if(this.div_){var img="";var bp=this.backgroundPosition_.split(" ");var spriteH=parseInt(bp[0].replace(/^\s+|\s+$/g,""),10);var spriteV=parseInt(bp[1].replace(/^\s+|\s+$/g,""),10);var pos=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(pos);
img="<img src='"+this.url_+"' style='position: absolute; top: "+spriteV+"px; left: "+spriteH+"px; ";if(!this.cluster_.getMarkerClusterer().enableRetinaIcons_){img+="clip: rect("+-1*spriteV+"px, "+(-1*spriteH+this.width_)+"px, "+(-1*spriteV+this.height_)+"px, "+-1*spriteH+"px);"}img+="'>";this.div_.innerHTML=img+"<div style='"+"position: absolute;"+"top: "+this.anchorText_[0]+"px;"+"left: "+this.anchorText_[1]+"px;"+"color: "+this.textColor_+";"+"font-size: "+this.textSize_+"px;"+"font-family: "+this.fontFamily_+";"+"font-weight: "+this.fontWeight_+";"+"font-style: "+this.fontStyle_+";"+"text-decoration: "+this.textDecoration_+";"+"text-align: center;"+"width: "+this.width_+"px;"+"line-height:"+this.height_+"px;"+"'>"+this.sums_.text+"</div>";if(typeof this.sums_.title==="undefined"||this.sums_.title===""){this.div_.title=this.cluster_.getMarkerClusterer().getTitle()}else{this.div_.title=this.sums_.title}this.div_.style.display=""}this.visible_=true};ClusterIcon.prototype.useStyle=function(sums){this.sums_=sums;var index=Math.max(0,sums.index-1);index=Math.min(this.styles_.length-1,index);var style=this.styles_[index];this.url_=style.url;this.height_=style.height;this.width_=style.width;this.anchorText_=style.anchorText||[0,0];this.anchorIcon_=style.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)];this.textColor_=style.textColor||"black";this.textSize_=style.textSize||11;this.textDecoration_=style.textDecoration||"none";this.fontWeight_=style.fontWeight||"bold";this.fontStyle_=style.fontStyle||"normal";this.fontFamily_=style.fontFamily||"Arial,sans-serif";this.backgroundPosition_=style.backgroundPosition||"0 0"};ClusterIcon.prototype.setCenter=function(center){this.center_=center};ClusterIcon.prototype.createCss=function(pos){var style=[];style.push("cursor: pointer;");style.push("position: absolute; top: "+pos.y+"px; left: "+pos.x+"px;");style.push("width: "+this.width_+"px; height: "+this.height_+"px;");return style.join("")};ClusterIcon.prototype.getPosFromLatLng_=function(latlng){var pos=this.getProjection().fromLatLngToDivPixel(latlng);pos.x-=this.anchorIcon_[1];pos.y-=this.anchorIcon_[0];pos.x=parseInt(pos.x,10);pos.y=parseInt(pos.y,10);return pos};function Cluster(mc){this.markerClusterer_=mc;this.map_=mc.getMap();this.gridSize_=mc.getGridSize();this.minClusterSize_=mc.getMinimumClusterSize();this.averageCenter_=mc.getAverageCenter();this.markers_=[];this.center_=null;this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,mc.getStyles())}Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var i;var bounds=new google.maps.LatLngBounds(this.center_,this.center_);var markers=this.getMarkers();for(i=0;i<markers.length;i++){bounds.extend(markers[i].getPosition())}return bounds};Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=[];delete this.markers_};Cluster.prototype.addMarker=function(marker){var i;var mCount;var mz;if(this.isMarkerAlreadyAdded_(marker)){return false}if(!this.center_){this.center_=marker.getPosition();this.calculateBounds_()}else{if(this.averageCenter_){var l=this.markers_.length+1;var lat=(this.center_.lat()*(l-1)+marker.getPosition().lat())/l;var lng=(this.center_.lng()*(l-1)+marker.getPosition().lng())/l;this.center_=new google.maps.LatLng(lat,lng);this.calculateBounds_()}}marker.isAdded=true;this.markers_.push(marker);mCount=this.markers_.length;mz=this.markerClusterer_.getMaxZoom();if(mz!==null&&this.map_.getZoom()>mz){if(marker.getMap()!==this.map_){marker.setMap(this.map_)}}else if(mCount<this.minClusterSize_){if(marker.getMap()!==this.map_){marker.setMap(this.map_)}}else if(mCount===this.minClusterSize_){for(i=0;i<mCount;i++){this.markers_[i].setMap(null)}}else{marker.setMap(null)}this.updateIcon_();return true};Cluster.prototype.isMarkerInClusterBounds=function(marker){return this.bounds_.contains(marker.getPosition())};Cluster.prototype.calculateBounds_=function(){var bounds=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(bounds)};Cluster.prototype.updateIcon_=function(){var mCount=this.markers_.length;var mz=this.markerClusterer_.getMaxZoom();if(mz!==null&&this.map_.getZoom()>mz){this.clusterIcon_.hide();return}if(mCount<this.minClusterSize_){this.clusterIcon_.hide();return}var numStyles=this.markerClusterer_.getStyles().length;var sums=this.markerClusterer_.getCalculator()(this.markers_,numStyles);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.useStyle(sums);this.clusterIcon_.show()};Cluster.prototype.isMarkerAlreadyAdded_=function(marker){var i;if(this.markers_.indexOf){return this.markers_.indexOf(marker)!==-1}else{for(i=0;i<this.markers_.length;i++){if(marker===this.markers_[i]){return true}}}return false};function MarkerClusterer(map,opt_markers,opt_options){this.extend(MarkerClusterer,google.maps.OverlayView);opt_markers=opt_markers||[];opt_options=opt_options||{};this.markers_=[];this.clusters_=[];this.listeners_=[];this.activeMap_=null;this.ready_=false;this.gridSize_=opt_options.gridSize||60;this.minClusterSize_=opt_options.minimumClusterSize||2;this.maxZoom_=opt_options.maxZoom||null;this.styles_=opt_options.styles||[];this.title_=opt_options.title||"";this.zoomOnClick_=true;if(opt_options.zoomOnClick!==undefined){this.zoomOnClick_=opt_options.zoomOnClick}this.averageCenter_=false;if(opt_options.averageCenter!==undefined){this.averageCenter_=opt_options.averageCenter}this.ignoreHidden_=false;if(opt_options.ignoreHidden!==undefined){this.ignoreHidden_=opt_options.ignoreHidden}this.enableRetinaIcons_=false;if(opt_options.enableRetinaIcons!==undefined){this.enableRetinaIcons_=opt_options.enableRetinaIcons}this.imagePath_=opt_options.imagePath||MarkerClusterer.IMAGE_PATH;this.imageExtension_=opt_options.imageExtension||MarkerClusterer.IMAGE_EXTENSION;this.imageSizes_=opt_options.imageSizes||MarkerClusterer.IMAGE_SIZES;this.calculator_=opt_options.calculator||MarkerClusterer.CALCULATOR;this.batchSize_=opt_options.batchSize||MarkerClusterer.BATCH_SIZE;this.batchSizeIE_=opt_options.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE;this.clusterClass_=opt_options.clusterClass||"cluster";if(navigator.userAgent.toLowerCase().indexOf("msie")!==-1){this.batchSize_=this.batchSizeIE_}this.setupStyles_();this.addMarkers(opt_markers,true);this.setMap(map)}MarkerClusterer.prototype.onClick=function(){return true};MarkerClusterer.prototype.onAdd=function(){var cMarkerClusterer=this;this.activeMap_=this.getMap();this.ready_=true;this.repaint();this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){cMarkerClusterer.resetViewport_(false);if(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom")){google.maps.event.trigger(this,"idle")}}),google.maps.event.addListener(this.getMap(),"idle",function(){cMarkerClusterer.redraw_()})]};MarkerClusterer.prototype.onRemove=function(){var i;for(i=0;i<this.markers_.length;i++){if(this.markers_[i].getMap()!==this.activeMap_){this.markers_[i].setMap(this.activeMap_)}}for(i=0;i<this.clusters_.length;i++){this.clusters_[i].remove()}this.clusters_=[];for(i=0;i<this.listeners_.length;i++){google.maps.event.removeListener(this.listeners_[i])}this.listeners_=[];this.activeMap_=null;this.ready_=false};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){var i,size;if(this.styles_.length>0){return}for(i=0;i<this.imageSizes_.length;i++){size=this.imageSizes_[i];this.styles_.push({url:this.imagePath_+(i+1)+"."+this.imageExtension_,height:size,width:size})}};MarkerClusterer.prototype.fitMapToMarkers=function(){var i;var markers=this.getMarkers();var bounds=new google.maps.LatLngBounds;for(i=0;i<markers.length;i++){bounds.extend(markers[i].getPosition())}this.getMap().fitBounds(bounds)};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(gridSize){this.gridSize_=gridSize};MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinimumClusterSize=function(minimumClusterSize){this.minClusterSize_=minimumClusterSize};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.setMaxZoom=function(maxZoom){this.maxZoom_=maxZoom};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.setStyles=function(styles){this.styles_=styles};MarkerClusterer.prototype.getTitle=function(){return this.title_};MarkerClusterer.prototype.setTitle=function(title){this.title_=title};MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.setZoomOnClick=function(zoomOnClick){this.zoomOnClick_=zoomOnClick};MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.setAverageCenter=function(averageCenter){this.averageCenter_=averageCenter};MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_};MarkerClusterer.prototype.setIgnoreHidden=function(ignoreHidden){this.ignoreHidden_=ignoreHidden};MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_};MarkerClusterer.prototype.setEnableRetinaIcons=function(enableRetinaIcons){this.enableRetinaIcons_=enableRetinaIcons};MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_};MarkerClusterer.prototype.setImageExtension=function(imageExtension){this.imageExtension_=imageExtension};MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_};MarkerClusterer.prototype.setImagePath=function(imagePath){this.imagePath_=imagePath};MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_};MarkerClusterer.prototype.setImageSizes=function(imageSizes){this.imageSizes_=imageSizes};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.setCalculator=function(calculator){this.calculator_=calculator};MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_};MarkerClusterer.prototype.setBatchSizeIE=function(batchSizeIE){this.batchSizeIE_=batchSizeIE};MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_};MarkerClusterer.prototype.setClusterClass=function(clusterClass){this.clusterClass_=clusterClass};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.getClusters=function(){return this.clusters_};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.addMarker=function(marker,opt_nodraw){this.pushMarkerTo_(marker);if(!opt_nodraw){this.redraw_()}};MarkerClusterer.prototype.addMarkers=function(markers,opt_nodraw){var key;for(key in markers){if(markers.hasOwnProperty(key)){this.pushMarkerTo_(markers[key])}}if(!opt_nodraw){this.redraw_()}};MarkerClusterer.prototype.pushMarkerTo_=function(marker){if(marker.getDraggable()){var cMarkerClusterer=this;google.maps.event.addListener(marker,"dragend",function(){if(cMarkerClusterer.ready_){this.isAdded=false;cMarkerClusterer.repaint()}})}marker.isAdded=false;this.markers_.push(marker)};MarkerClusterer.prototype.removeMarker=function(marker,opt_nodraw){var removed=this.removeMarker_(marker);if(!opt_nodraw&&removed){this.repaint()}return removed};MarkerClusterer.prototype.removeMarkers=function(markers,opt_nodraw){var i,r;var removed=false;for(i=0;i<markers.length;i++){r=this.removeMarker_(markers[i]);removed=removed||r}if(!opt_nodraw&&removed){this.repaint()}return removed};MarkerClusterer.prototype.removeMarker_=function(marker){var i;var index=-1;if(this.markers_.indexOf){index=this.markers_.indexOf(marker)}else{for(i=0;i<this.markers_.length;i++){if(marker===this.markers_[i]){index=i;break}}}if(index===-1){return false}marker.setMap(null);this.markers_.splice(index,1);return true};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(true);this.markers_=[]};MarkerClusterer.prototype.repaint=function(){var oldClusters=this.clusters_.slice();this.clusters_=[];this.resetViewport_(false);this.redraw_();setTimeout(function(){var i;for(i=0;i<oldClusters.length;i++){oldClusters[i].remove()}},0)};MarkerClusterer.prototype.getExtendedBounds=function(bounds){var projection=this.getProjection();var tr=new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getNorthEast().lng());var bl=new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getSouthWest().lng());var trPix=projection.fromLatLngToDivPixel(tr);trPix.x+=this.gridSize_;trPix.y-=this.gridSize_;var blPix=projection.fromLatLngToDivPixel(bl);blPix.x-=this.gridSize_;blPix.y+=this.gridSize_;var ne=projection.fromDivPixelToLatLng(trPix);var sw=projection.fromDivPixelToLatLng(blPix);bounds.extend(ne);bounds.extend(sw);return bounds};MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)};MarkerClusterer.prototype.resetViewport_=function(opt_hide){var i,marker;for(i=0;i<this.clusters_.length;i++){this.clusters_[i].remove()}this.clusters_=[];for(i=0;i<this.markers_.length;i++){marker=this.markers_[i];marker.isAdded=false;if(opt_hide){marker.setMap(null)}}};MarkerClusterer.prototype.distanceBetweenPoints_=function(p1,p2){var R=6371;var dLat=(p2.lat()-p1.lat())*Math.PI/180;var dLon=(p2.lng()-p1.lng())*Math.PI/180;var a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(p1.lat()*Math.PI/180)*Math.cos(p2.lat()*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2);var c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));var d=R*c;return d};MarkerClusterer.prototype.isMarkerInBounds_=function(marker,bounds){return bounds.contains(marker.getPosition())};MarkerClusterer.prototype.addToClosestCluster_=function(marker){var i,d,cluster,center;var distance=4e4;var clusterToAddTo=null;for(i=0;i<this.clusters_.length;i++){cluster=this.clusters_[i];center=cluster.getCenter();if(center){d=this.distanceBetweenPoints_(center,marker.getPosition());if(d<distance){distance=d;clusterToAddTo=cluster}}}if(clusterToAddTo&&clusterToAddTo.isMarkerInClusterBounds(marker)){clusterToAddTo.addMarker(marker)}else{cluster=new Cluster(this);cluster.addMarker(marker);this.clusters_.push(cluster)}};MarkerClusterer.prototype.createClusters_=function(iFirst){var i,marker;var mapBounds;var cMarkerClusterer=this;if(!this.ready_){return}if(iFirst===0){google.maps.event.trigger(this,"clusteringbegin",this);if(typeof this.timerRefStatic!=="undefined"){clearTimeout(this.timerRefStatic);delete this.timerRefStatic}}if(this.getMap().getZoom()>3){mapBounds=new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast())}else{mapBounds=new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625))}var bounds=this.getExtendedBounds(mapBounds);var iLast=Math.min(iFirst+this.batchSize_,this.markers_.length);for(i=iFirst;i<iLast;i++){marker=this.markers_[i];if(!marker.isAdded&&this.isMarkerInBounds_(marker,bounds)){if(!this.ignoreHidden_||this.ignoreHidden_&&marker.getVisible()){this.addToClosestCluster_(marker)}}}if(iLast<this.markers_.length){this.timerRefStatic=setTimeout(function(){cMarkerClusterer.createClusters_(iLast)},0)}else{delete this.timerRefStatic;google.maps.event.trigger(this,"clusteringend",this)}};MarkerClusterer.prototype.extend=function(obj1,obj2){return function(object){var property;for(property in object.prototype){this.prototype[property]=object.prototype[property]}return this}.apply(obj1,[obj2])};MarkerClusterer.CALCULATOR=function(markers,numStyles){var index=0;var title="";var count=markers.length.toString();var dv=count;while(dv!==0){dv=parseInt(dv/10,10);index++}index=Math.min(index,numStyles);return{text:count,index:index,title:title}};MarkerClusterer.BATCH_SIZE=2e3;MarkerClusterer.BATCH_SIZE_IE=500;MarkerClusterer.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m";MarkerClusterer.IMAGE_EXTENSION="png";MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90];!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),c.href?c.hasAttribute("download")?!0:(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var b=_b();return a>b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Da=function(){return(new Date).getTime()},Ea=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Ga=function(a){da&&(a&&(s>f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+"px, 0px"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,"mousemove",Oa),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Ca("mouseUsed")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Oa),e.bind(window,"resize scroll",f),Ca("bindEvents")},Qa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Oa),N.transform&&e.unbind(f.scrollWrap,"click",f),U&&e.unbind(window,p,f),Ca("unbindEvents")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],
!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Va=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ia=function(a,b){b.left=a+"px"},Ha=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=oa.x+"px",a.top=oa.y+"px"}}},Wa=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca("updateScrollOffset",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f["init"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ca("firstUpdate"),m=m||i.index||0,(isNaN(m)||0>m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute("aria-hidden","false"),i.modal&&(ua?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Ca("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca("afterInit"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Ca("close"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca("destroy"),Wb&&clearTimeout(Wb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Ga()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=za(a);var b=a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca("beforeChange",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca("afterChange")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+"px"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca("beforeResize"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua("x",g,h,a),Ua("y",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return a&&a!==document?a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca("preventDragEvent",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id="",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?"h"!==fa||"x"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,"x"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||"mousedown"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca("pointerDown"),F){var b=e.arraySearch(lb,a.pointerId,"id");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca("firstTouchStart",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,"id");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa="h";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?"h":"v",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca("zoomGestureStarted"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Ea(j),Ca("onPinchClose",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka("x",c),oa.y=Ka("y",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if("v"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca("onVerticalDrag",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb("x",ib);l||(Mb("y",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca("pointerUp"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,"id");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Lb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ca("touchRelease",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?"zoom":"swipe",_&&2>j&&(_=!1,1===j&&(g="zoomPointerUp"),Ca("zoomGestureEnded")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed("x"),S){var l=Hb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;cb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca("onVerticalDrag",1)}}else{if((Z||ea)&&0===j){var o=Tb(g,Q);if(o)return;g="zoomPointerUp"}if(!ea)return"swipe"!==g?void Vb():void(!Z&&s>f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb("bounceZoomPan"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Za.zoomPan&&(Za.zoomPan.raf=H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ga(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void _a("zoomPan")):void 0}};return c},Sb=function(a){return a.calculateSwipeSpeed("y"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(ab("zoomPan"),a.lastNow=Da(),void a.panAnimLoop())},Tb=function(a,b){var c;ea||(pb=m);var d;if("swipe"===a){var g=jb.x-kb.x,h=b.lastFlickDist.x<10;g>eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca("mainScrollAnimStart"),cb("mainScroll",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Ea(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ca("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Ga()),ab("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Wb=setTimeout(function(){if(Ca("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca("parseVerticalMargin",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);dc=[]}};ya("Controller",{publicMethods:{lazyLoadItem:function(a){a=za(a);var b=$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca("gettingData",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba("beforeChange",function(a){var b,c=i.preload,d=null===a?!0:a>=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba("mainScrollAnimComplete",mc),Ba("initialZoomInEnd",mc),Ba("destroy",function(){for(var a,b=0;b<Xb.length;b++)a=Xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dc=null})},getItemAt:function(a){return a>=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Ca("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};ya("Tap",{publicMethods:{initTap:function(){Ba("firstTouchStart",f.onTapStart),Ba("touchRelease",f.onTapRelease),Ba("destroy",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca("doubleTap",c);if("mouse"===b.type)return void pc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Ba("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c="wheel mousewheel DOMMouseScroll";Ba("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Ba("unbindEvents",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),1>s?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Ba("resize",g),Ba("afterChange",g),Ba("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Ba("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||$a||U?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,"deltaX"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return void(tc=setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var a=m+1,b=$b(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=xc+"&gid="+i.galleryUID+"&pid="+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var d=Bc.href.split("#")[0]+"#"+c;Cc?"#"+c!==window.location.hash&&history[yc?"replaceState":"pushState"]("",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya("History",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc="pushState"in history,xc.indexOf("gid=")>-1&&(xc=xc.split("&gid=")[0],xc=xc.split("?gid=")[0]),Ba("afterChange",f.updateURL),Ba("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){wc=!0,zc||(Ac?history.back():xc?Bc.hash=xc:Cc?history.pushState("",document.title,Bc.pathname+Bc.search):Bc.hash=""),Fc()};Ba("unbindEvents",function(){l&&a()}),Ba("destroy",function(){wc||a()}),Ba("firstUpdate",function(){m=Gc().pid});var b=xc.indexOf("pid=");b>-1&&(xc=xc.substring(0,b),"&"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=1.525)+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<1/2.75){return c*(7.5625*t*t)+b}else if(t<2/2.75){return c*(7.5625*(t-=1.5/2.75)*t+.75)+b}else if(t<2.5/2.75){return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b}else{return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}});!function(t){"use strict";t.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],a=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",d=document.createElement("div");d.innerHTML='<p>x</p><style id="fit-vids-style">'+a+"</style>",r.appendChild(d.childNodes[1])}return e&&t.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var r=".fitvidsignore";i.ignore&&(r=r+", "+i.ignore);var a=t(this).find(e.join(","));a=a.not("object object"),a=a.not(r),a.each(function(e){var i=t(this);if(!(i.parents(r).length>0||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var a="object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height(),d=isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10),o=a/d;if(!i.attr("id")){var h="fitvid"+e;i.attr("id",h)}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),i.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);!function(a,b){"use strict";var c=function(){var c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},d=function(){var b=/^(?![\w\W]*Windows Phone)[\w\W]*(iPhone|iPad|iPod)/i.test(navigator.userAgent);return b&&a("html").css("cursor","pointer").on("click",a.noop),b}(),e=function(){var a=document.documentElement.style;return"behavior"in a&&"fill"in a&&/iemobile/i.test(navigator.userAgent)}(),f=function(){return!!b.PointerEvent}(),g=function(a,b){var d=c.menuClass;b.cssArrows&&(d+=" "+c.menuArrowClass),a.toggleClass(d)},h=function(b,d){return b.find("li."+d.pathClass).slice(0,d.pathLevels).addClass(d.hoverClass+" "+c.bcClass).filter(function(){return a(this).children(d.popUpSelector).hide().show().length}).removeClass(d.pathClass)},i=function(a){a.children("a").toggleClass(c.anchorClass)},j=function(a){var b=a.css("ms-touch-action"),c=a.css("touch-action");c=c||b,c="pan-y"===c?"auto":"pan-y",a.css({"ms-touch-action":c,
"touch-action":c})},k=function(a){return a.closest("."+c.menuClass)},l=function(a){return k(a).data("sf-options")},m=function(){var b=a(this),c=l(b);clearTimeout(c.sfTimer),b.siblings().superfish("hide").end().superfish("show")},n=function(b){b.retainPath=a.inArray(this[0],b.$path)>-1,this.superfish("hide"),this.parents("."+b.hoverClass).length||(b.onIdle.call(k(this)),b.$path.length&&a.proxy(m,b.$path)())},o=function(){var b=a(this),c=l(b);d?a.proxy(n,b,c)():(clearTimeout(c.sfTimer),c.sfTimer=setTimeout(a.proxy(n,b,c),c.delay))},p=function(b){var c=a(this),d=l(c),e=c.siblings(b.data.popUpSelector);return d.onHandleTouch.call(e)===!1?this:void(e.length>0&&e.is(":hidden")&&(c.one("click.superfish",!1),"MSPointerDown"===b.type||"pointerdown"===b.type?c.trigger("focus"):a.proxy(m,c.parent("li"))()))},q=function(b,c){var g="li:has("+c.popUpSelector+")";a.fn.hoverIntent&&!c.disableHI?b.hoverIntent(m,o,g):b.on("mouseenter.superfish",g,m).on("mouseleave.superfish",g,o);var h="MSPointerDown.superfish";f&&(h="pointerdown.superfish"),d||(h+=" touchend.superfish"),e&&(h+=" mousedown.superfish"),b.on("focusin.superfish","li",m).on("focusout.superfish","li",o).on(h,"a",c,p)};return{hide:function(b){if(this.length){var c=this,d=l(c);if(!d)return this;var e=d.retainPath===!0?d.$path:"",f=c.find("li."+d.hoverClass).add(this).not(e).removeClass(d.hoverClass).children(d.popUpSelector),g=d.speedOut;if(b&&(f.show(),g=0),d.retainPath=!1,d.onBeforeHide.call(f)===!1)return this;f.stop(!0,!0).animate(d.animationOut,g,function(){var b=a(this);d.onHide.call(b)})}return this},show:function(){var a=l(this);if(!a)return this;var b=this.addClass(a.hoverClass),c=b.children(a.popUpSelector);return a.onBeforeShow.call(c)===!1?this:(c.stop(!0,!0).animate(a.animation,a.speed,function(){a.onShow.call(c)}),this)},destroy:function(){return this.each(function(){var b,d=a(this),e=d.data("sf-options");return e?(b=d.find(e.popUpSelector).parent("li"),clearTimeout(e.sfTimer),g(d,e),i(b),j(d),d.off(".superfish").off(".hoverIntent"),b.children(e.popUpSelector).attr("style",function(a,b){return b.replace(/display[^;]+;?/g,"")}),e.$path.removeClass(e.hoverClass+" "+c.bcClass).addClass(e.pathClass),d.find("."+e.hoverClass).removeClass(e.hoverClass),e.onDestroy.call(d),void d.removeData("sf-options")):!1})},init:function(b){return this.each(function(){var d=a(this);if(d.data("sf-options"))return!1;var e=a.extend({},a.fn.superfish.defaults,b),f=d.find(e.popUpSelector).parent("li");e.$path=h(d,e),d.data("sf-options",e),g(d,e),i(f),j(d),q(d,e),f.not("."+c.bcClass).superfish("hide",!0),e.onInit.call(this)})}}}();a.fn.superfish=function(b,d){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jQuery.fn.superfish"):c.init.apply(this,arguments)},a.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:a.noop,onBeforeShow:a.noop,onShow:a.noop,onBeforeHide:a.noop,onHide:a.noop,onIdle:a.noop,onDestroy:a.noop,onHandleTouch:a.noop}}(jQuery,window);(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:7,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn)}else if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector})}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut})}var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if(Math.abs(pX-cX)+Math.abs(pY-cY)<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}})(jQuery);function sm_format_twitter(twitters){var statusHTML=[];for(var i=0;i<twitters.length;i++){var username=twitters[i].user.screen_name;var name=twitters[i].user.name;var username_avatar=twitters[i].user.profile_image_url;var status=twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(url){return'<a href="'+url+'" target="_blank">'+url+"</a>"}).replace(/\B@([_a-z0-9]+)/gi,function(reply){return reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'" target="_blank">'+reply.substring(1)+"</a>"});statusHTML.push('<li><i class="icon-twitter"></i><a href="http://twitter.com/'+username+'" class="twitter-avatar" target="_blank"><img src="'+username_avatar+'" alt="'+name+'" title="'+name+'"></a><span>'+status+'</span><small><a href="http://twitter.com/'+username+"/statuses/"+twitters[i].id_str+'" target="_blank">'+relative_time(twitters[i].created_at)+"</a></small></li>")}return statusHTML.join("")}function sm_format_twitter2(twitters){var statusHTML=[];for(var i=0;i<twitters.length;i++){var username=twitters[i].user.screen_name;var status=twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(url){return'<a href="'+url+'" target="_blank">'+url+"</a>"}).replace(/\B@([_a-z0-9]+)/gi,function(reply){return reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'" target="_blank">'+reply.substring(1)+"</a>"});statusHTML.push('<div class="slide"><span>'+status+'</span><small><a href="http://twitter.com/'+username+"/statuses/"+twitters[i].id_str+'" target="_blank">'+relative_time(twitters[i].created_at)+"</a></small></div>")}return statusHTML.join("")}function sm_format_twitter3(twitters){var statusHTML=[];for(var i=0;i<twitters.length;i++){var username=twitters[i].user.screen_name;var status=twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(url){return'<a href="'+url+'" target="_blank">'+url+"</a>"}).replace(/\B@([_a-z0-9]+)/gi,function(reply){return reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'" target="_blank">'+reply.substring(1)+"</a>"});statusHTML.push('<div class="slide"><div class="testi-content"><p>'+status+'</p><div class="testi-meta"><span><a href="http://twitter.com/'+username+"/statuses/"+twitters[i].id_str+'" target="_blank">'+relative_time(twitters[i].created_at)+"</a></span></div></div></div>")}return statusHTML.join("")}function relative_time(time_value){var values=time_value.split(" ");time_value=values[1]+" "+values[2]+", "+values[5]+" "+values[3];var parsed_date=Date.parse(time_value);var relative_to=arguments.length>1?arguments[1]:new Date;var delta=parseInt((relative_to.getTime()-parsed_date)/1e3);delta=delta+relative_to.getTimezoneOffset()*60;if(delta<60){return"less than a minute ago"}else if(delta<120){return"about a minute ago"}else if(delta<60*60){return parseInt(delta/60).toString()+" minutes ago"}else if(delta<120*60){return"about an hour ago"}else if(delta<24*60*60){return"about "+parseInt(delta/3600).toString()+" hours ago"}else if(delta<48*60*60){return"1 day ago"}else{return parseInt(delta/86400).toString()+" days ago"}}!function(a,b,c){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=c:(a[b]=c,"function"==typeof define&&define.amd&&define(b,[],function(){return c}))}(this,"jRespond",function(a,b,c){"use strict";return function(a){var b=[],d=[],e=a,f="",g="",i=0,j=100,k=500,l=k,m=function(){var a=0;return a="number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},n=function(a){if(a.length===c)o(a);else for(var b=0;b<a.length;b++)o(a[b])},o=function(a){var e=a.breakpoint,h=a.enter||c;b.push(a),d.push(!1),r(e)&&(h!==c&&h.call(null,{entering:f,exiting:g}),d[b.length-1]=!0)},p=function(){for(var a=[],e=[],h=0;h<b.length;h++){var i=b[h].breakpoint,j=b[h].enter||c,k=b[h].exit||c;"*"===i?(j!==c&&a.push(j),k!==c&&e.push(k)):r(i)?(j===c||d[h]||a.push(j),d[h]=!0):(k!==c&&d[h]&&e.push(k),d[h]=!1)}for(var l={entering:f,exiting:g},m=0;m<e.length;m++)e[m].call(null,l);for(var n=0;n<a.length;n++)a[n].call(null,l)},q=function(a){for(var b=!1,c=0;c<e.length;c++)if(a>=e[c].enter&&a<=e[c].exit){b=!0;break}b&&f!==e[c].label?(g=f,f=e[c].label,p()):b||""===f||(f="",p())},r=function(a){if("object"==typeof a){if(a.join().indexOf(f)>=0)return!0}else{if("*"===a)return!0;if("string"==typeof a&&f===a)return!0}},s=function(){var a=m();a!==i?(l=j,q(a)):l=k,i=a,setTimeout(s,l)};return s(),{addFunc:function(a){n(a)},getBreakpoint:function(){return f}}}}(this,this.document));if(navigator.platform.toUpperCase().indexOf("MAC")===-1&&!navigator.userAgent.match(/(Android|iPod|iPhone|iPad|IEMobile|Opera Mini|BlackBerry)/)&&jQuery(window).width()>991&&!jQuery("body").hasClass("no-smooth-scroll")){function ssc_init(){if(!document.body)return;var e=document.body;var t=document.documentElement;var n=window.innerHeight;var r=e.scrollHeight;ssc_root=document.compatMode.indexOf("CSS")>=0?t:e;ssc_activeElement=e;ssc_initdone=true;if(top!=self){ssc_frame=true}else if(r>n&&(e.offsetHeight<=n||t.offsetHeight<=n)){ssc_root.style.height="auto";if(ssc_root.offsetHeight<=n){var i=document.createElement("div");i.style.clear="both";e.appendChild(i)}}if(!ssc_fixedback){e.style.backgroundAttachment="scroll";t.style.backgroundAttachment="scroll"}if(ssc_keyboardsupport){ssc_addEvent("keydown",ssc_keydown)}}function ssc_scrollArray(e,t,n,r){r||(r=1e3);ssc_directionCheck(t,n);ssc_que.push({x:t,y:n,lastX:t<0?.99:-.99,lastY:n<0?.99:-.99,start:+new Date});if(ssc_pending){return}var i=function(){var s=+new Date;var o=0;var u=0;for(var a=0;a<ssc_que.length;a++){var f=ssc_que[a];var l=s-f.start;var c=l>=ssc_animtime;var h=c?1:l/ssc_animtime;if(ssc_pulseAlgorithm){h=ssc_pulse(h)}var p=f.x*h-f.lastX>>0;var d=f.y*h-f.lastY>>0;o+=p;u+=d;f.lastX+=p;f.lastY+=d;if(c){ssc_que.splice(a,1);a--}}if(t){var v=e.scrollLeft;e.scrollLeft+=o;if(o&&e.scrollLeft===v){t=0}}if(n){var m=e.scrollTop;e.scrollTop+=u;if(u&&e.scrollTop===m){n=0}}if(!t&&!n){ssc_que=[]}if(ssc_que.length){setTimeout(i,r/ssc_framerate+1)}else{ssc_pending=false}};setTimeout(i,0);ssc_pending=true}function ssc_wheel(e){if(!ssc_initdone){ssc_init()}var t=e.target;var n=ssc_overflowingAncestor(t);if(!n||e.defaultPrevented||ssc_isNodeName(ssc_activeElement,"embed")||ssc_isNodeName(t,"embed")&&/\.pdf/i.test(t.src)){return true}var r=e.wheelDeltaX||0;var i=e.wheelDeltaY||0;if(!r&&!i){i=e.wheelDelta||0}if(Math.abs(r)>1.2){r*=ssc_stepsize/120}if(Math.abs(i)>1.2){i*=ssc_stepsize/120}ssc_scrollArray(n,-r,-i);e.preventDefault()}function ssc_keydown(e){var t=e.target;var n=e.ctrlKey||e.altKey||e.metaKey;if(/input|textarea|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||n){return true}if(ssc_isNodeName(t,"button")&&e.keyCode===ssc_key.spacebar){return true}var r,i=0,s=0;var o=ssc_overflowingAncestor(ssc_activeElement);var u=o.clientHeight;if(o==document.body){u=window.innerHeight}switch(e.keyCode){case ssc_key.up:s=-ssc_arrowscroll;break;case ssc_key.down:s=ssc_arrowscroll;break;case ssc_key.spacebar:r=e.shiftKey?1:-1;s=-r*u*.9;break;case ssc_key.pageup:s=-u*.9;break;case ssc_key.pagedown:s=u*.9;break;case ssc_key.home:s=-o.scrollTop;break;case ssc_key.end:var a=o.scrollHeight-o.scrollTop-u;s=a>0?a+10:0;break;case ssc_key.left:i=-ssc_arrowscroll;break;case ssc_key.right:i=ssc_arrowscroll;break;default:return true}ssc_scrollArray(o,i,s);e.preventDefault()}function ssc_mousedown(e){ssc_activeElement=e.target}function ssc_setCache(e,t){for(var n=e.length;n--;)ssc_cache[ssc_uniqueID(e[n])]=t;return t}function ssc_overflowingAncestor(e){var t=[];var n=ssc_root.scrollHeight;do{var r=ssc_cache[ssc_uniqueID(e)];if(r){return ssc_setCache(t,r)}t.push(e);if(n===e.scrollHeight){if(!ssc_frame||ssc_root.clientHeight+10<n){return ssc_setCache(t,document.body)}}else if(e.clientHeight+10<e.scrollHeight){overflow=getComputedStyle(e,"").getPropertyValue("overflow");if(overflow==="scroll"||overflow==="auto"){return ssc_setCache(t,e)}}}while(e=e.parentNode)}function ssc_addEvent(e,t,n){window.addEventListener(e,t,n||false)}function ssc_removeEvent(e,t,n){window.removeEventListener(e,t,n||false)}function ssc_isNodeName(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()}function ssc_directionCheck(e,t){e=e>0?1:-1;t=t>0?1:-1;if(ssc_direction.x!==e||ssc_direction.y!==t){ssc_direction.x=e;ssc_direction.y=t;ssc_que=[]}}function ssc_pulse_(e){var t,n,r;e=e*ssc_pulseScale;if(e<1){t=e-(1-Math.exp(-e))}else{n=Math.exp(-1);e-=1;r=1-Math.exp(-e);t=n+r*(1-n)}return t*ssc_pulseNormalize}function ssc_pulse(e){if(e>=1)return 1;if(e<=0)return 0;if(ssc_pulseNormalize==1){ssc_pulseNormalize/=ssc_pulse_(1)}return ssc_pulse_(e)}var ssc_framerate=150;var ssc_animtime=500;var ssc_stepsize=150;var ssc_pulseAlgorithm=true;var ssc_pulseScale=6;var ssc_pulseNormalize=1;var ssc_keyboardsupport=true;var ssc_arrowscroll=50;var ssc_frame=false;var ssc_direction={x:0,y:0};var ssc_initdone=false;var ssc_fixedback=true;var ssc_root=document.documentElement;var ssc_activeElement;var ssc_key={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var ssc_que=[];var ssc_pending=false;var ssc_cache={};setInterval(function(){ssc_cache={}},10*1e3);var ssc_uniqueID=function(){var e=0;return function(t){return t.ssc_uniqueID||(t.ssc_uniqueID=e++)}}();var ischrome=/chrome/.test(navigator.userAgent.toLowerCase());if(ischrome){ssc_addEvent("mousedown",ssc_mousedown);ssc_addEvent("mousewheel",ssc_wheel);ssc_addEvent("load",ssc_init)}}!function(t){var o=0;t.fn.scrolled=function(a,n){"function"==typeof a&&(n=a,a=300);var c="scrollTimer"+o++;this.scroll(function(){var o=t(this),e=o.data(c);e&&clearTimeout(e),e=setTimeout(function(){o.removeData(c),n.call(o[0])},a),o.data(c,e)})}}(jQuery);(function($){$.fn.jflickrfeed=function(settings,callback){settings=$.extend(true,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:"",itemCallback:function(){}},settings);var url=settings.flickrbase+settings.feedapi+"?";var first=true;for(var key in settings.qstrings){if(!first)url+="&";url+=key+"="+settings.qstrings[key];first=false}return $(this).each(function(){var $container=$(this);var container=this;$.getJSON(url,function(data){$.each(data.items,function(i,item){if(i<settings.limit){if(settings.cleanDescription){var regex=/<p>(.*?)<\/p>/g;var input=item.description;if(regex.test(input)){item.description=input.match(regex)[2];if(item.description!=undefined)item.description=item.description.replace("<p>","").replace("</p>","")}}item["image_s"]=item.media.m.replace("_m","_s");item["image_t"]=item.media.m.replace("_m","_t");item["image_m"]=item.media.m.replace("_m","_m");item["image"]=item.media.m.replace("_m","");item["image_b"]=item.media.m.replace("_m","_b");delete item.media;if(settings.useTemplate){var template=settings.itemTemplate;for(var key in item){var rgx=new RegExp("{{"+key+"}}","g");template=template.replace(rgx,item[key])}$container.append(template)}settings.itemCallback.call(container,item)}});if($.isFunction(callback)){callback.call(container,data)}})})}})(jQuery);(function(){var e;e=function(){function e(e,t){var n,r;this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1};if(typeof e=="object")for(n in e)r=e[n],this.options[n]=r;this.context=t!=null?t:this,this.unique=this._genKey()}return e.prototype.hasNext=function(){return typeof this.context.nextUrl=="string"&&this.context.nextUrl.length>0},e.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},e.prototype.run=function(t){var n,r,i;if(typeof this.options.clientId!="string"&&typeof this.options.accessToken!="string")throw new Error("Missing clientId or accessToken.");if(typeof this.options.accessToken!="string"&&typeof this.options.clientId!="string")throw new Error("Missing clientId or accessToken.");return this.options.before!=null&&typeof this.options.before=="function"&&this.options.before.call(this),typeof document!="undefined"&&document!==null&&(i=document.createElement("script"),i.id="instafeed-fetcher",i.src=t||this._buildUrl(),n=document.getElementsByTagName("head"),n[0].appendChild(i),r="instafeedCache"+this.unique,window[r]=new e(this.options,this),window[r].unique=this.unique),!0},e.prototype.parse=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D;if(typeof e!="object"){if(this.options.error!=null&&typeof this.options.error=="function")return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(e.meta.code!==200){if(this.options.error!=null&&typeof this.options.error=="function")return this.options.error.call(this,e.meta.error_message),!1;throw new Error("Error from Instagram: "+e.meta.error_message)}if(e.data.length===0){if(this.options.error!=null&&typeof this.options.error=="function")return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}this.options.success!=null&&typeof this.options.success=="function"&&this.options.success.call(this,e),this.context.nextUrl="",e.pagination!=null&&(this.context.nextUrl=e.pagination.next_url);if(this.options.sortBy!=="none"){this.options.sortBy==="random"?M=["","random"]:M=this.options.sortBy.split("-"),O=M[0]==="least"?!0:!1;switch(M[1]){case"random":e.data.sort(function(){return.5-Math.random()});break;case"recent":e.data=this._sortBy(e.data,"created_time",O);break;case"liked":e.data=this._sortBy(e.data,"likes.count",O);break;case"commented":e.data=this._sortBy(e.data,"comments.count",O);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}}if(typeof document!="undefined"&&document!==null&&this.options.mock===!1){m=e.data,A=parseInt(this.options.limit,10),this.options.limit!=null&&m.length>A&&(m=m.slice(0,A)),u=document.createDocumentFragment(),this.options.filter!=null&&typeof this.options.filter=="function"&&(m=this._filter(m,this.options.filter));if(this.options.template!=null&&typeof this.options.template=="string"){f="",d="",w="",D=document.createElement("div");for(c=0,N=m.length;c<N;c++){h=m[c],p=h.images[this.options.resolution];if(typeof p!="object")throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);E=p.width,y=p.height,b="square",E>y&&(b="landscape"),E<y&&(b="portrait"),v=p.url,l=window.location.protocol.indexOf("http")>=0,l&&!this.options.useHttp&&(v=v.replace(/https?:\/\//,"//")),d=this._makeTemplate(this.options.template,{model:h,id:h.id,link:h.link,type:h.type,image:v,width:E,height:y,orientation:b,caption:this._getObjectProperty(h,"caption.text"),likes:h.likes.count,comments:h.comments.count,location:this._getObjectProperty(h,"location.name")}),f+=d}D.innerHTML=f,i=[],r=0,n=D.childNodes.length;while(r<n)i.push(D.childNodes[r]),r+=1;for(x=0,C=i.length;x<C;x++)L=i[x],u.appendChild(L)}else for(T=0,k=m.length;T<k;T++){h=m[T],g=document.createElement("img"),p=h.images[this.options.resolution];if(typeof p!="object")throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);v=p.url,l=window.location.protocol.indexOf("http")>=0,l&&!this.options.useHttp&&(v=v.replace(/https?:\/\//,"//")),g.src=v,this.options.links===!0?(t=document.createElement("a"),t.href=h.link,t.appendChild(g),u.appendChild(t)):u.appendChild(g)}_=this.options.target,typeof _=="string"&&(_=document.getElementById(_));if(_==null)throw o='No element with id="'+this.options.target+'" on page.',new Error(o);_.appendChild(u),a=document.getElementsByTagName("head")[0],a.removeChild(document.getElementById("instafeed-fetcher")),S="instafeedCache"+this.unique,window[S]=void 0;try{delete window[S]}catch(P){s=P}}return this.options.after!=null&&typeof this.options.after=="function"&&this.options.after.call(this),!0},e.prototype._buildUrl=function(){var e,t,n;e="https://api.instagram.com/v1";switch(this.options.get){case"popular":t="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");t="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");t="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return n=e+"/"+t,this.options.accessToken!=null?n+="?access_token="+this.options.accessToken:n+="?client_id="+this.options.clientId,this.options.limit!=null&&(n+="&count="+this.options.limit),n+="&callback=instafeedCache"+this.unique+".parse",n},e.prototype._genKey=function(){var e;return e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},""+e()+e()+e()+e()},e.prototype._makeTemplate=function(e,t){var n,r,i,s,o;r=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,n=e;while(r.test(n))s=n.match(r)[1],o=(i=this._getObjectProperty(t,s))!=null?i:"",n=n.replace(r,function(){return""+o});return n},e.prototype._getObjectProperty=function(e,t){var n,r;t=t.replace(/\[(\w+)\]/g,".$1"),r=t.split(".");while(r.length){n=r.shift();if(!(e!=null&&n in e))return null;e=e[n]}return e},e.prototype._sortBy=function(e,t,n){var r;return r=function(e,r){var i,s;return i=this._getObjectProperty(e,t),s=this._getObjectProperty(r,t),n?i>s?1:-1:i<s?1:-1},e.sort(r.bind(this)),e},e.prototype._filter=function(e,t){var n,r,i,s,o;n=[],r=function(e){if(t(e))return n.push(e)};for(i=0,o=e.length;i<o;i++)s=e[i],r(s);return n},e}(),function(e,t){return typeof define=="function"&&define.amd?define([],t):typeof module=="object"&&module.exports?module.exports=t():e.Instafeed=t()}(this,function(){return e})}).call(this);!function(e,t,r,s){"use strict";e.jribbble={};var n=null,o="https://api.dribbble.com/v1",i=["animated","attachments","debuts","playoffs","rebounds","teams"],u={token:"Jribbble: Missing Dribbble access token. Set one with $.jribbble.accessToken = YOUR_ACCESS_TOKEN. If you do not have an access token, you must register a new application at https://dribbble.com/account/applications/new",singular:function(e){return e.substr(0,e.length-1)},idRequired:function(e){return"Jribbble: You have to provide a "+this.singular(e)+' ID. ex: $.jribbble.%@("1234").'.replace(/%@/g,e)},subResource:function(e){return"Jribbble: You have to provide a "+this.singular(e)+' ID to get %@. ex: $.jribbble.%@("1234").%@()'.replace(/%@/g,e)},shotId:function(e){return"Jribbble: You have to provide a shot ID to get %@. ex: "+' $.jribbble.shots("1234").%@()'.replace(/%@/g,e)},commentLikes:'Jribbble: You have to provide a comment ID to get likes. ex:  $.jribbble.shots("1234").comments("456").likes()'},c=function(e,t){if(e&&"object"!=typeof e)return e;throw new Error(u.idRequired(t))},l=function(e){var t={};return e.forEach(function(e){t[e]=d.call(this,e)}.bind(this)),t},h=function(t){var r=e.param(t);return r?"?"+r:""},a=function(e){if(0!==e.length){var t=e[0],r=typeof t,s={};if("number"===r||"string"===r){var n=i.indexOf(t);n>-1?s.list=t:s.resource=t}else"object"===r&&(s=t);return s}},b=function(){var t=e.extend({},e.Deferred()),r=function(){return this.methods=[],this.response=null,this.flushed=!1,this.add=function(e){this.flushed?e(this.scope):this.methods.push(e)},this.flush=function(e){if(!this.flushed){for(this.scope=e,this.flushed=!0;this.methods[0];)this.methods.shift()(e);return e}},this};return t.queue=new r,t.url=o,t.get=function(){return n?(e.ajax({type:"GET",url:this.url,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+n)},success:function(e){this.resolve(e)}.bind(this),error:function(e){this.reject(e)}.bind(this)}),this):(console.error(u.token),!1)},t},f=function(t){return function(r){return e.extend(this,b()),this.queue.add(function(e){e.url+="/"+t+"/"+r}),setTimeout(function(){this.queue.flush(this).get()}.bind(this)),this}},d=function(e){return function(t){return this.queue.add(function(r){r.url+="/"+e+"/"+h(t||{})}),this}};e.jribbble.shots=function(t,r){var s=a([].slice.call(arguments))||{},n=r||{},o=function(t){return function(r,s){var n=a([].slice.call(arguments))||{},o=s||{};return this.queue.add(function(r){if(!r.shotId)throw new Error(u.shotId(t));r.url+="/"+t+"/",n.resource&&(r.url+=n.resource,delete n.resource),r.url+=h(e.extend(n,o))}),this}},i=function(){return e.extend(this,b()),this.url+="/shots/",this.queue.add(function(t){s.resource&&(t.shotId=s.resource,t.url+=s.resource,delete s.resource),t.url+=h(e.extend(s,n))}),setTimeout(function(){this.queue.flush(this).get()}.bind(this)),this};return i.prototype.attachments=o("attachments"),i.prototype.buckets=o("buckets"),i.prototype.likes=o("likes"),i.prototype.projects=o("projects"),i.prototype.rebounds=o("rebounds"),i.prototype.comments=function(t,r){var s=a([].slice.call(arguments))||{},n=r||{};return this.queue.add(function(t){if(!t.shotId)throw new Error(u.shotId("comments"));t.url+="/comments/",s.resource&&(t.commentId=s.resource,t.url+=s.resource+"/",delete s.resource),t.url+=h(e.extend(s,n))}),this.likes=function(e){var t=e||{};return this.queue.add(function(e){if(!e.commentId)throw new Error(u.commentLikes);e.url+="likes/"+h(t)}),this},this},new i},e.jribbble.teams=function(e){var t="teams",r=c(e,t),s=f.call(this,t);return s.prototype=l.call(this,["members","shots"]),new s(r)},e.jribbble.users=function(e){var t="users",r=c(e,t),s=f.call(this,t);return s.prototype=l.call(this,["buckets","followers","following","likes","projects","shots","teams"]),s.prototype.isFollowing=function(e){return this.queue.add(function(t){t.url+="/following/"+e}),this},new s(r)},e.jribbble.buckets=function(e){var t="buckets",r=c(e,t),s=f.call(this,t);return s.prototype=l.call(this,["shots"]),new s(r)},e.jribbble.projects=function(e){var t="projects",r=c(e,t),s=f.call(this,t);return s.prototype=l.call(this,["shots"]),new s(r)},e.jribbble.setToken=function(e){return n=e,this}}(jQuery,window,document);function onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}var ytp=ytp||{},getYTPVideoID=function(a){var b,c;return a.indexOf("youtu.be")>0?(b=a.substr(a.lastIndexOf("/")+1,a.length),c=b.indexOf("?list=")>0?b.substr(b.lastIndexOf("="),b.length):null,b=c?b.substr(0,b.lastIndexOf("?")):b):a.indexOf("http")>-1?(b=a.match(/[\\?&]v=([^&#]*)/)[1],c=a.indexOf("list=")>0?a.match(/[\\?&]list=([^&#]*)/)[1]:null):(b=a.length>15?null:a,c=b?null:a),{videoID:b,playlistID:c}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.12",build:"5815",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(a){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options)),"true"==YTPlayer.opt.loop&&(YTPlayer.opt.loop=9999),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var a=!1;try{self.location.href!=top.location.href&&(a=!0)}catch(b){a=!0}return a};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({
position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(a){YTPlayer.player=a.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(a){YTPlayer.player=a.target,YTPlayer.isReady||(YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),jQuery(YTPlayer.playerEl).unselectable(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).off("resize.YTP").on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer))},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){if(YTPlayer.preventTrigger)return void(YTPlayer.preventTrigger=!1);YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPPlay",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(a){var b=a.target.getPlaybackQuality(),c=jQuery.Event("YTPQualityChange");c.quality=b,jQuery(YTPlayer).trigger(c)},onError:function(a){150==a.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==a.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,a)}}})}}))})}})},getDataFromAPI:function(a){if(a.videoData=jQuery.mbStorage.get("YTPlayer_data_"+a.videoID),jQuery(a).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(a.hasData&&a.isPlayer&&!a.opt.autoPlay){var b=a.videoData.thumb_max||a.videoData.thumb_high||a.videoData.thumb_medium;a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}}),a.videoData)setTimeout(function(){a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.dataReceived=!0,jQuery(a).trigger("YTPChanged");var b=jQuery.Event("YTPData");b.prop={};for(var c in a.videoData)b.prop[c]=a.videoData[c];jQuery(a).trigger(b)},500),a.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+a.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(b){function c(b){a.videoData={},a.videoData.id=a.videoID,a.videoData.channelTitle=b.channelTitle,a.videoData.title=b.title,a.videoData.description=b.description.length<400?b.description:b.description.substring(0,400)+" ...",a.videoData.aspectratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.opt.ratio=a.videoData.aspectratio,a.videoData.thumb_max=b.thumbnails.maxres?b.thumbnails.maxres.url:null,a.videoData.thumb_high=b.thumbnails.high?b.thumbnails.high.url:null,a.videoData.thumb_medium=b.thumbnails.medium?b.thumbnails.medium.url:null,jQuery.mbStorage.set("YTPlayer_data_"+a.videoID,a.videoData)}a.dataReceived=!0,jQuery(a).trigger("YTPChanged"),c(b.items[0].snippet),a.hasData=!0;var d=jQuery.Event("YTPData");d.prop={};for(var e in a.videoData)d.prop[e]=a.videoData[e];jQuery(a).trigger(d)});else{if(setTimeout(function(){jQuery(a).trigger("YTPChanged")},50),a.isPlayer&&!a.opt.autoPlay){var b=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+a.videoID+"/hqdefault.jpg";a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}a.videoData=null,a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio}a.isPlayer&&!a.opt.autoPlay&&(a.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(a).append(a.loading),a.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var a=this.get(0);return a.videoData},getVideoID:function(){var a=this.get(0);return a.videoID||!1},setVideoQuality:function(a){var b=this.get(0);b.player.setPlaybackQuality(a)},playlist:function(a,b,c){var d=this,e=d.get(0);return e.isPlayList=!0,b&&(a=jQuery.shuffle(a)),e.videoID||(e.videos=a,e.videoCounter=0,e.videoLength=a.length,jQuery(e).data("property",a[0]),jQuery(e).mb_YTPlayer()),"function"==typeof c&&jQuery(e).one("YTPChanged",function(){c(e)}),jQuery(e).on("YTPEnd",function(){jQuery(e).playNext()}),d},playNext:function(){var a=this.get(0);return a.checkForStartAt&&(clearTimeout(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter++,a.videoCounter>=a.videoLength&&(a.videoCounter=0),jQuery(a).changeMovie(a.videos[a.videoCounter]),this},playPrev:function(){var a=this.get(0);return a.checkForStartAt&&(clearInterval(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter--,a.videoCounter<0&&(a.videoCounter=a.videoLength-1),jQuery(a).changeMovie(a.videos[a.videoCounter]),this},changeMovie:function(a){var b=this.get(0);b.opt.startAt=0,b.opt.stopAt=0,b.opt.mute=!0,b.hasData=!1,b.hasChanged=!0,b.player.loopTime=void 0,a&&jQuery.extend(b.opt,b.defaultOpt,a),b.videoID=getYTPVideoID(b.opt.videoURL).videoID,"true"==b.opt.loop&&(b.opt.loop=9999),jQuery(b.playerEl).CSSAnimate({opacity:0},200,function(){var a=jQuery.Event("YTPChangeMovie");return a.time=b.player.time,a.videoId=b.videoID,jQuery(b).trigger(a),jQuery(b).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+b.videoID),1,b.opt.quality),jQuery(b).optimizeDisplay(),jQuery.mbYTPlayer.checkForState(b),jQuery.mbYTPlayer.getDataFromAPI(b),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var a=this.get(0);ytp.YTAPIReady=!0,ytp.backgroundIsInited=!1,a.isInit=!1,a.videoID=null;var b=a.wrapper;return b.remove(),jQuery("#controlBar_"+a.id).remove(),clearInterval(a.checkForStartAt),clearInterval(a.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(a,b){for(var c,d,e=["webkit","moz","ms","o",""],f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,d=typeof a[c],"undefined"!=d)return e=[e[f]],"function"==d?a[c]():a[c];f++}}function launchFullscreen(a){RunPrefixMethod(a,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var a=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");a?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("YTPFullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(a){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(a.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("YTPFullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var a=this.get(0),b=a.opt;return 1==b.loop?b.loop=0:(b.startAt?a.player.seekTo(b.startAt):a.player.playVideo(),b.loop=1),this},play:function(){var a=this.get(0);if(a.isReady)return a.player.playVideo(),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},2e3),jQuery(a.playerEl).CSSAnimate({opacity:1},1e3),jQuery(a).css("background-image","none"),this},togglePlay:function(a){var b=this.get(0);return 1==b.state?this.YTPPause():this.YTPPlay(),"function"==typeof a&&a(b.state),this},stop:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPPlaypause");return c.html(jQuery.mbYTPlayer.controls.play),a.player.stopVideo(),this},pause:function(){var a=this.get(0);return a.player.pauseVideo(),this},seekTo:function(a){var b=this.get(0);return b.player.seekTo(a,!0),this},setVolume:function(a){var b=this.get(0);return a||b.opt.vol||0!=b.player.getVolume()?!a&&b.player.getVolume()>0||a&&b.opt.vol==a?b.isMute?jQuery(b).YTPUnmute():jQuery(b).YTPMute():(b.opt.vol=a,b.player.setVolume(b.opt.vol),b.volumeBar&&b.volumeBar.length&&b.volumeBar.updateSliderVal(a)):jQuery(b).YTPUnmute(),this},mute:function(){var a=this.get(0);if(!a.isMute){a.player.mute(),a.isMute=!0,a.player.setVolume(0),a.volumeBar&&a.volumeBar.length&&a.volumeBar.width()>10&&a.volumeBar.updateSliderVal(0);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.unmute),jQuery(a).addClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.addClass("muted");var d=jQuery.Event("YTPMuted");return d.time=a.player.time,a.canTrigger&&jQuery(a).trigger(d),this}},unmute:function(){var a=this.get(0);if(a.isMute){a.player.unMute(),a.isMute=!1,a.player.setVolume(a.opt.vol),a.volumeBar&&a.volumeBar.length&&a.volumeBar.updateSliderVal(a.opt.vol>10?a.opt.vol:10);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.mute),jQuery(a).removeClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.removeClass("muted");var d=jQuery.Event("YTPUnmuted");return d.time=a.player.time,a.canTrigger&&jQuery(a).trigger(d),this}},applyFilter:function(a,b){var c=this.get(0);return c.filters[a].value=b,c.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(a){var b=this.get(0);return this.on("YTPReady",function(){for(var c in a)b.filters[c].value=a[c],jQuery(b).YTPApplyFilter(c,a[c]);jQuery(b).trigger("YTPFiltersApplied")}),this},toggleFilter:function(a,b){return this.each(function(){var c=this;c.filters[a].value?c.filters[a].value=0:c.filters[a].value=b,c.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(a){return this.each(function(){var b=this;b.filtersEnabled?(jQuery(b).trigger("YTPDisableFilters"),jQuery(b).YTPDisableFilters()):(jQuery(b).YTPEnableFilters(),jQuery(b).trigger("YTPEnableFilters")),"function"==typeof a&&a(b.filtersEnabled)})},disableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl);b.css("-webkit-filter",""),b.css("filter",""),a.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl),c="";for(var d in a.filters)a.filters[d].value&&(c+=d.replace("_","-")+"("+a.filters[d].value+a.filters[d].unit+") ");b.css("-webkit-filter",c),b.css("filter",c),a.filtersEnabled=!0})},removeFilter:function(a,b){return this.each(function(){"function"==typeof a&&(b=a,a=null);var c=this;if(a)jQuery(this).YTPApplyFilter(a,0),"function"==typeof b&&b(a);else for(var d in c.filters)jQuery(this).YTPApplyFilter(d,0),"function"==typeof b&&b(d)})},manageProgress:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPProgress"),d=b.find(".mb_YTPLoaded"),e=b.find(".mb_YTPseekbar"),f=c.outerWidth(),g=Math.floor(a.player.getCurrentTime()),h=Math.floor(a.player.getDuration()),i=g*f/h,j=0,k=100*a.player.getVideoLoadedFraction();return d.css({left:j,width:k+"%"}),e.css({left:0,width:i}),{totalTime:h,currentTime:g}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(a){timeBar.css({width:a.clientX-timeBar.offset().left}),YTPlayer.timeW=a.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var b=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*b/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(a){0==a.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(a.value),YTPlayer.isMute||(YTPlayer.opt.vol=a.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:400;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1){YTPlayer.player.loopTime=void 0,clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEnd),void(YTPlayer.state=0)}}else if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1)return YTPlayer.player.loopTime=void 0,YTPlayer.preventTrigger=!0,jQuery(YTPlayer).YTPPause(),YTPlayer.state=0,void YTPlayer.wrapper.CSSAnimate({opacity:0},500,function(){YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);var a=jQuery.Event("YTPEnd");a.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(a),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})});YTPlayer.player.loopTime=YTPlayer.player.loopTime?++YTPlayer.player.loopTime:1,startAt=startAt||1,YTPlayer.preventTrigger=!0,jQuery(YTPlayer).YTPPause(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(a){var b=jQuery(a);if(!jQuery.contains(document,a))return void jQuery(a).YTPPlayerDestroy();if(a.preventTrigger=!0,jQuery(a).YTPPause(),jQuery(a).muteYTPVolume(),jQuery("#controlBar_"+a.id).remove(),a.opt.showControls&&jQuery.mbYTPlayer.buildControls(a),a.opt.addRaster){var c="dot"==a.opt.addRaster?"raster-dot":"raster";a.overlay.addClass(a.isRetina?c+" retina":c)}else a.overlay.removeClass(function(a,b){var c=b.split(" "),d=[];return jQuery.each(c,function(a,b){/raster.*/.test(b)&&d.push(b)}),d.push("retina"),d.join(" ")});var d=a.opt.startAt?a.opt.startAt:1;a.player.playVideo(),a.player.seekTo(d,!0),a.checkForStartAt=setInterval(function(){jQuery(a).YTPMute();var c=a.player.getVideoLoadedFraction()>=d/a.player.getDuration();if(a.player.getDuration()>0&&a.player.getCurrentTime()>=d&&c){clearInterval(a.checkForStartAt),a.isReady=!0,"function"==typeof a.opt.onReady&&a.opt.onReady(a);var e=jQuery.Event("YTPReady");if(e.time=a.player.time,jQuery(a).trigger(e),a.preventTrigger=!0,jQuery(a).YTPPause(),a.opt.mute||jQuery(a).YTPUnmute(),a.canTrigger=!0,a.opt.autoPlay){b.YTPPlay();var f=jQuery.Event("YTPStart");f.time=a.player.time,jQuery(a).trigger(f),b.css("background-image","none"),jQuery(a.playerEl).CSSAnimate({opacity:1},1e3),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},1e3)}else b.YTPPause(),a.isPlayer||(jQuery(a.playerEl).CSSAnimate({opacity:1},500),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},500));a.isPlayer&&!a.opt.autoPlay&&(a.loading.html("Ready"),setTimeout(function(){a.loading.fadeOut()},100)),a.controlBar&&a.controlBar.slideDown(1e3)}else jQuery.browser.safari},1)},formatTime:function(a){var b=Math.floor(a/60),c=Math.floor(a-60*b);return(9>=b?"0"+b:b)+" : "+(9>=c?"0"+c:c)}},jQuery.fn.toggleVolume=function(){var a=this.get(0);if(a)return a.player.isMuted()?(jQuery(a).YTPUnmute(),!0):(jQuery(a).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var a=this.get(0),b=a.opt,c=jQuery(a.playerEl),d={},e=a.wrapper;d.width=e.outerWidth(),d.height=e.outerHeight();var f=24,g=100,h={};b.optimizeDisplay?(h.width=d.width+d.width*f/100,h.height="16/9"==b.ratio?Math.ceil(9*d.width/16):Math.ceil(3*d.width/4),h.marginTop=-((h.height-d.height)/2),h.marginLeft=-(d.width*(f/2)/100),h.height<d.height&&(h.height=d.height+d.height*f/100,h.width="16/9"==b.ratio?Math.floor(16*d.height/9):Math.floor(4*d.height/3),h.marginTop=-(d.height*(f/2)/100),h.marginLeft=-((h.width-d.width)/2)),h.width+=g,h.height+=g,h.marginTop-=g/2,h.marginLeft-=g/2):(h.width="100%",h.height="100%",h.marginTop=0,h.marginLeft=0),c.css({width:h.width,height:h.height,marginTop:h.marginTop,marginLeft:h.marginLeft})},jQuery.shuffle=function(a){for(var b=a.slice(),c=b.length,d=c;d--;){var e=parseInt(Math.random()*c),f=b[d];b[d]=b[e],b[e]=f}return b},jQuery.fn.unselectable=function(){return this.each(function(){jQuery(this).css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).attr("unselectable","on")})},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var a=document.body||document.documentElement,b=a.style;return void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var c in b){"transform"===c&&(b[jQuery.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[jQuery.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[jQuery.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]);var d="";"x"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]),"y"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b=[];for(var c in a)b.indexOf(c)<0&&b.push(uncamel(c));return b.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function f(){g.called=!0,g.CSSAIsRunning=!1,h.off(jQuery.CSS.transitionEnd+"."+g.id),clearTimeout(g.timeout),h.css(jQuery.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(g),"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)}var g=this,h=jQuery(this);g.id=g.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(g.CSSAIsRunning&&g.eventType==i.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(g.CSSqueue=function(){h.CSSAnimate(a,b,c,d,e)});if(g.CSSqueue=null,g.eventType=i.type,0!==h.length&&a){if(a=jQuery.normalizeCss(a),g.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var j in jQuery.fx.speeds){if(b==j){b=jQuery.fx.speeds[j];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),!jQuery.support.CSStransition){for(var k in a){if("transform"===k&&delete a[k],"filter"===k&&delete a[k],"transform-origin"===k&&delete a[k],"auto"===a[k]&&delete a[k],"x"===k){var l=a[k],m="left";a[m]=l,delete a[k]}if("y"===k){var l=a[k],m="top";a[m]=l,delete a[k]}("-ms-transform"===k||"-ms-filter"===k)&&delete a[k]}return void h.delay(c).animate(a,b,e)}var n={default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",
easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};n[d]&&(d=n[d]),h.off(jQuery.CSS.transitionEnd+"."+g.id);var o=jQuery.CSS.getProp(a),p={};jQuery.extend(p,a),p[jQuery.CSS.sfx+"transition-property"]=o,p[jQuery.CSS.sfx+"transition-duration"]=b+"ms",p[jQuery.CSS.sfx+"transition-delay"]=c+"ms",p[jQuery.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){h.one(jQuery.CSS.transitionEnd+"."+g.id,f),h.css(p)},1),g.timeout=setTimeout(function(){return g.called||!e?(g.called=!1,void(g.CSSAIsRunning=!1)):(h.css(jQuery.CSS.sfx+"transition",""),e.apply(g),g.CSSAIsRunning=!1,void("function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)))},b+c+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.normalizeCss(a);b.css(c)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),!function(a){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var b="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;a.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:b?"touchstart":"mousedown",end:b?"touchend":"mouseup",move:b?"touchmove":"mousemove"},init:function(c){return this.each(function(){var d=this,e=a(d);e.addClass("simpleSlider"),d.opt={},a.extend(d.opt,a.simpleSlider.defaults,c),a.extend(d.opt,e.data());var f="h"==d.opt.orientation?"horizontal":"vertical",g=a("<div/>").addClass("level").addClass(f);e.prepend(g),d.level=g,e.css({cursor:"default"}),"auto"==d.opt.scale&&(d.opt.scale=a(d).outerWidth()),e.updateSliderVal(),d.opt.readonly||(e.on(a.simpleSlider.events.start,function(a){b&&(a=a.changedTouches[0]),d.canSlide=!0,e.updateSliderVal(a),e.css({cursor:"col-resize"}),a.preventDefault(),a.stopPropagation()}),a(document).on(a.simpleSlider.events.move,function(c){b&&(c=c.changedTouches[0]),d.canSlide&&(a(document).css({cursor:"default"}),e.updateSliderVal(c),c.preventDefault(),c.stopPropagation())}).on(a.simpleSlider.events.end,function(){a(document).css({cursor:"auto"}),d.canSlide=!1,e.css({cursor:"auto"})}))})},updateSliderVal:function(b){function c(a,b){return Math.floor(100*a/b)}var d=this,e=d.get(0);e.opt.initialval="number"==typeof e.opt.initialval?e.opt.initialval:e.opt.initialval(e);var f=a(e).outerWidth(),g=a(e).outerHeight();e.x="object"==typeof b?b.clientX+document.body.scrollLeft-d.offset().left:"number"==typeof b?b*f/e.opt.scale:e.opt.initialval*f/e.opt.scale,e.y="object"==typeof b?b.clientY+document.body.scrollTop-d.offset().top:"number"==typeof b?(e.opt.scale-e.opt.initialval-b)*g/e.opt.scale:e.opt.initialval*g/e.opt.scale,e.y=d.outerHeight()-e.y,e.scaleX=e.x*e.opt.scale/f,e.scaleY=e.y*e.opt.scale/g,e.outOfRangeX=e.scaleX>e.opt.scale?e.scaleX-e.opt.scale:e.scaleX<0?e.scaleX:0,e.outOfRangeY=e.scaleY>e.opt.scale?e.scaleY-e.opt.scale:e.scaleY<0?e.scaleY:0,e.outOfRange="h"==e.opt.orientation?e.outOfRangeX:e.outOfRangeY,e.value="undefined"!=typeof b?"h"==e.opt.orientation?e.x>=d.outerWidth()?e.opt.scale:e.x<=0?0:e.scaleX:e.y>=d.outerHeight()?e.opt.scale:e.y<=0?0:e.scaleY:"h"==e.opt.orientation?e.scaleX:e.scaleY,"h"==e.opt.orientation?e.level.width(c(e.x,f)+"%"):e.level.height(c(e.y,g)),"function"==typeof e.opt.callback&&e.opt.callback(e)}},a.fn.simpleSlider=a.simpleSlider.init,a.fn.updateSliderVal=a.simpleSlider.updateSliderVal}(jQuery),!function(a){a.mbCookie={set:function(a,b,c,d){b=JSON.stringify(b),c||(c=7),d=d?"; domain="+d:"";var e,f=new Date;f.setTime(f.getTime()+864e5*c),e="; expires="+f.toGMTString(),document.cookie=a+"="+b+e+"; path=/"+d},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return JSON.parse(e.substring(b.length,e.length))}return null},remove:function(b){a.mbCookie.set(b,"",-1)}},a.mbStorage={set:function(a,b){b=JSON.stringify(b),localStorage.setItem(a,b)},get:function(a){return localStorage[a]?JSON.parse(localStorage[a]):null},remove:function(a){a?localStorage.removeItem(a):localStorage.clear()}}}(jQuery);!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function t(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(n){}}function r(n,o){var i=u.raw?n:t(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(t,c,s){if(arguments.length>1&&!e.isFunction(c)){if(s=e.extend({},u.defaults,s),"number"==typeof s.expires){var a=s.expires,d=s.expires=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*a)}return document.cookie=[n(t),"=",i(c),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var f=t?void 0:{},p=document.cookie?document.cookie.split("; "):[],l=0,m=p.length;m>l;l++){var x=p[l].split("="),g=o(x.shift()),j=x.join("=");if(t===g){f=r(j,c);break}t||void 0===(j=r(j))||(f[g]=j)}return f};u.defaults={},e.removeCookie=function(n,o){return e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n)}});!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){},onStep:function(a,b,c){},onStop:function(a,b){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));"string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?e.easing=jQuery.easing[e.easing]:e.easing=d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});(function(e){e.fn.appear=function(t,n){var r=e.extend({data:undefined,one:true,accX:0,accY:0},n);return this.each(function(){var n=e(this);n.appeared=false;if(!t){n.trigger("appear",r.data);return}var i=e(window);var s=function(){if(!n.is(":visible")){n.appeared=false;return}var e=i.scrollLeft();var t=i.scrollTop();var s=n.offset();var o=s.left;var u=s.top;var a=r.accX;var f=r.accY;var l=n.height();var c=i.height();var h=n.width();var p=i.width();if(u+l+f>=t&&u<=t+c+f&&o+h+a>=e&&o<=e+p+a){if(!n.appeared)n.trigger("appear",r.data)}else{n.appeared=false}};var o=function(){n.appeared=true;if(r.one){i.unbind("scroll",s);var o=e.inArray(s,e.fn.appear.checks);if(o>=0)e.fn.appear.checks.splice(o,1)}t.apply(this,arguments)};if(r.one)n.one("appear",r.data,o);else n.bind("appear",r.data,o);i.scroll(s);e.fn.appear.checks.push(s);s()})};e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.appear.checks.length;if(t>0)while(t--)e.fn.appear.checks[t]()},run:function(){if(e.fn.appear.timeout)clearTimeout(e.fn.appear.timeout);e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}});e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,n){var r=e.fn[n];if(r){e.fn[n]=function(){var t=r.apply(this,arguments);e.fn.appear.run();return t}}})})(jQuery);!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var i="animsition",a=!1,t={init:function(o){o=n.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingHtml:'<div class="css3-spinner-bounce1"></div><div class="css3-spinner-bounce2"></div><div class="css3-spinner-bounce3"></div>',unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",timeOut:!1},o);var e=t.supportCheck.call(this,o);if(!e&&o.unSupportCss.length>0&&(!e||!this.length))return"console"in window||(window.console={},window.console.log=function(n){return n}),this.length||console.log("Animsition: Element does not exist on page."),e||console.log("Animsition: Does not support this browser."),t.destroy.call(this);var s=t.optionCheck.call(this,o);return s&&t.addOverlay.call(this,o),o.loading&&t.addLoading.call(this,o),this.each(function(){var e=this,s=n(this),l=n(window),r=s.data(i);if(!r){if(o=n.extend({},o),s.data(i,{options:o}),l.on("load."+i+" pageshow."+i,function(){0==a&&t.pageIn.call(e)}),o.timeOut&&!isNaN(o.timeOut)){setTimeout(function(){0==a&&t.pageIn.call(e)},o.timeOut)}l.on("unload."+i,function(){}),n(o.linkElement).on("click."+i,function(i){i.preventDefault();var a=n(this),o=a.attr("href");2===i.which||i.metaKey||i.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&i.ctrlKey?window.open(o,"_blank"):t.pageOut.call(e,a,o)})}})},addOverlay:function(i){n(i.overlayParentElement).prepend('<div class="'+i.overlayClass+'"></div>')},addLoading:function(i){n(i.loadingParentElement).append('<div class="'+i.loadingClass+'">'+i.loadingHtml+"</div>")},removeLoading:function(){var a=n(this),t=a.data(i).options,o=n(t.loadingParentElement).children("."+t.loadingClass);o.fadeOut().remove()},supportCheck:function(i){var a=n(this),t=i.unSupportCss,o=t.length,e=!1;0===o&&(e=!0);for(var s=0;o>s;s++)if("string"==typeof a.css(t[s])){e=!0;break}return e},optionCheck:function(i){var a,t=n(this);return a=i.overlay||t.data("animsition-overlay")?!0:!1},animationCheck:function(a,t,o){var e=n(this),s=e.data(i).options,l=typeof a,r=!t&&"number"===l,c=t&&"string"===l&&a.length>0;return r||c?a=a:t&&o?a=s.inClass:!t&&o?a=s.inDuration:t&&!o?a=s.outClass:t||o||(a=s.outDuration),a},pageIn:function(){var o=this,e=n(this),s=e.data(i).options,l=e.data("animsition-in-duration"),r=e.data("animsition-in"),c=t.animationCheck.call(o,l,!1,!0),d=t.animationCheck.call(o,r,!0,!0),u=t.optionCheck.call(o,s);s.loading&&t.removeLoading.call(o),u?t.pageInOverlay.call(o,d,c):t.pageInBasic.call(o,d,c),a=!0},pageInBasic:function(i,a){var t=n(this);t.trigger("animsition.start").css({"animation-duration":a/1e3+"s"}).addClass(i).animateCallback(function(){t.removeClass(i).css({opacity:1}).trigger("animsition.end")})},pageInOverlay:function(a,t){var o=n(this),e=o.data(i).options;o.trigger("animsition.start").css({opacity:1}),n(e.overlayParentElement).children("."+e.overlayClass).css({"animation-duration":t/1e3+"s"}).addClass(a).animateCallback(function(){o.trigger("animsition.end")})},pageOut:function(a,o){var e=this,s=n(this),l=s.data(i).options,r=a.data("animsition-out"),c=s.data("animsition-out"),d=a.data("animsition-out-duration"),u=s.data("animsition-out-duration"),m=r?r:c,h=d?d:u,p=t.animationCheck.call(e,m,!0,!1),f=t.animationCheck.call(e,h,!1,!1),g=t.optionCheck.call(e,l);g?t.pageOutOverlay.call(e,p,f,o):t.pageOutBasic.call(e,p,f,o)},pageOutBasic:function(i,a,t){var o=n(this);o.css({"animation-duration":a/1e3+"s"}).addClass(i).animateCallback(function(){location.href=t})},pageOutOverlay:function(a,o,e){var s=this,l=n(this),r=l.data(i).options,c=l.data("animsition-in"),d=t.animationCheck.call(s,c,!0,!0);n(r.overlayParentElement).children("."+r.overlayClass).css({"animation-duration":o/1e3+"s"}).removeClass(d).addClass(a).animateCallback(function(){location.href=e})},destroy:function(){return this.each(function(){var a=n(this);n(window).unbind("."+i),a.css({opacity:1}).removeData(i)})}};n.fn.animateCallback=function(i){var a="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){n(this).bind(a,function(){return n(this).unbind(a),i.call(this)})})},n.fn.animsition=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void n.error("Method "+a+" does not exist on jQuery."+i):t.init.apply(this,arguments)}});(function(e,t,n,r){function d(t,n){this.element=t,this.options=e.extend({},s,n),this._defaults=s,this._name=i,this.init()}var i="stellar",s={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(e){e.hide()},showElement:function(e){e.show()}},o={scroll:{getLeft:function(e){return e.scrollLeft()},setLeft:function(e,t){e.scrollLeft(t)},getTop:function(e){return e.scrollTop()},setTop:function(e,t){e.scrollTop(t)}},position:{getLeft:function(e){return parseInt(e.css("left"),10)*-1},getTop:function(e){return parseInt(e.css("top"),10)*-1}},margin:{getLeft:function(e){return parseInt(e.css("margin-left"),10)*-1},getTop:function(e){return parseInt(e.css("margin-top"),10)*-1}},transform:{getLeft:function(e){var t=getComputedStyle(e[0])[f];return t!=="none"?parseInt(t.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(e){var t=getComputedStyle(e[0])[f];return t!=="none"?parseInt(t.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},u={position:{setLeft:function(e,t){e.css("left",t)},setTop:function(e,t){e.css("top",t)}},transform:{setPosition:function(e,t,n,r,i){e[0].style[f]="translate3d("+(t-n)+"px, "+(r-i)+"px, 0)"}}},a=function(){var t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,n=e("script")[0].style,r="",i;for(i in n)if(t.test(i)){r=i.match(t)[0];break}return"WebkitOpacity"in n&&(r="Webkit"),"KhtmlOpacity"in n&&(r="Khtml"),function(e){return r+(r.length>0?e.charAt(0).toUpperCase()+e.slice(1):e)}}(),f=a("transform"),l=e("<div />",{style:"background:#fff"}).css("background-position-x")!==r,c=l?function(e,t,n){e.css({"background-position-x":t,"background-position-y":n})}:function(e,t,n){e.css("background-position",t+" "+n)},h=l?function(e){return[e.css("background-position-x"),e.css("background-position-y")]}:function(e){return e.css("background-position").split(" ")},p=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};d.prototype={init:function(){this.options.name=i+"_"+Math.floor(Math.random()*1e9),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),this.options.scrollProperty==="scroll"?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===n.body&&(this.element=t),this.$scrollElement=e(this.element),this.$element=this.element===t?e("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==r?e(this.options.viewportElement):this.$scrollElement[0]===t||this.options.scrollProperty==="scroll"?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var e=this,t=o[e.options.scrollProperty];this._getScrollLeft=function(){return t.getLeft(e.$scrollElement)},this._getScrollTop=function(){return t.getTop(e.$scrollElement)}},_defineSetters:function(){var t=this,n=o[t.options.scrollProperty],r=u[t.options.positionProperty],i=n.setLeft,s=n.setTop;this._setScrollLeft=typeof i=="function"?function(e){i(t.$scrollElement,e)}:e.noop,this._setScrollTop=typeof s=="function"?function(e){s(t.$scrollElement,e)}:e.noop,this._setPosition=r.setPosition||function(e,n,i,s,o){t.options.horizontalScrolling&&r.setLeft(e,n,i),t.options.verticalScrolling&&r.setTop(e,s,o)}},_handleWindowLoadAndResize:function(){var n=this,r=e(t);n.options.responsive&&r.bind("load."+this.name,function(){n.refresh()}),r.bind("resize."+this.name,function(){n._detectViewport(),n.options.responsive&&n.refresh()})},refresh:function(n){var r=this,i=r._getScrollLeft(),s=r._getScrollTop();(!n||!n.firstLoad)&&this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),n&&n.firstLoad&&/WebKit/.test(navigator.userAgent)&&e(t).load(function(){var e=r._getScrollLeft(),t=r._getScrollTop();r._setScrollLeft(e+1),r._setScrollTop(t+1),r._setScrollLeft(e),r._setScrollTop(t)}),this._setScrollLeft(i),this._setScrollTop(s)},_detectViewport:function(){var e=this.$viewportElement.offset(),t=e!==null&&e!==r;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=t?e.top:0,this.viewportOffsetLeft=t?e.left:0},_findParticles:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop();if(this.particles!==r)for(var s=this.particles.length-1;s>=0;s--)this.particles[s].$element.data("stellar-elementIsActive",r);this.particles=[];if(!this.options.parallaxElements)return;this.$element.find("[data-stellar-ratio]").each(function(n){var i=e(this),s,o,u,a,f,l,c,h,p,d=0,v=0,m=0,g=0;if(!i.data("stellar-elementIsActive"))i.data("stellar-elementIsActive",this);else if(i.data("stellar-elementIsActive")!==this)return;t.options.showElement(i),i.data("stellar-startingLeft")?(i.css("left",i.data("stellar-startingLeft")),i.css("top",i.data("stellar-startingTop"))):(i.data("stellar-startingLeft",i.css("left")),i.data("stellar-startingTop",i.css("top"))),u=i.position().left,a=i.position().top,f=i.css("margin-left")==="auto"?0:parseInt(i.css("margin-left"),10),l=i.css("margin-top")==="auto"?0:parseInt(i.css("margin-top"),10),h=i.offset().left-f,p=i.offset().top-l,i.parents().each(function(){var t=e(this);if(t.data("stellar-offset-parent")===!0)return d=m,v=g,c=t,!1;m+=t.position().left,g+=t.position().top}),s=i.data("stellar-horizontal-offset")!==r?i.data("stellar-horizontal-offset"):c!==r&&c.data("stellar-horizontal-offset")!==r?c.data("stellar-horizontal-offset"):t.horizontalOffset,o=i.data("stellar-vertical-offset")!==r?i.data("stellar-vertical-offset"):c!==r&&c.data("stellar-vertical-offset")!==r?c.data("stellar-vertical-offset"):t.verticalOffset,t.particles.push({$element:i,$offsetParent:c,isFixed:i.css("position")==="fixed",horizontalOffset:s,verticalOffset:o,startingPositionLeft:u,startingPositionTop:a,startingOffsetLeft:h,startingOffsetTop:p,parentOffsetLeft:d,parentOffsetTop:v,stellarRatio:i.data("stellar-ratio")!==r?i.data("stellar-ratio"):1,width:i.outerWidth(!0),height:i.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop(),s;this.backgrounds=[];if(!this.options.parallaxBackgrounds)return;s=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(s=s.add(this.$element)),s.each(function(){var s=e(this),o=h(s),u,a,f,l,p,d,v,m,g,y=0,b=0,w=0,E=0;if(!s.data("stellar-backgroundIsActive"))s.data("stellar-backgroundIsActive",this);else if(s.data("stellar-backgroundIsActive")!==this)return;s.data("stellar-backgroundStartingLeft")?c(s,s.data("stellar-backgroundStartingLeft"),s.data("stellar-backgroundStartingTop")):(s.data("stellar-backgroundStartingLeft",o[0]),s.data("stellar-backgroundStartingTop",o[1])),p=s.css("margin-left")==="auto"?0:parseInt(s.css("margin-left"),10),d=s.css("margin-top")==="auto"?0:parseInt(s.css("margin-top"),10),v=s.offset().left-p-n,m=s.offset().top-d-i,s.parents().each(function(){var t=e(this);if(t.data("stellar-offset-parent")===!0)return y=w,b=E,g=t,!1;w+=t.position().left,E+=t.position().top}),u=s.data("stellar-horizontal-offset")!==r?s.data("stellar-horizontal-offset"):g!==r&&g.data("stellar-horizontal-offset")!==r?g.data("stellar-horizontal-offset"):t.horizontalOffset,a=s.data("stellar-vertical-offset")!==r?s.data("stellar-vertical-offset"):g!==r&&g.data("stellar-vertical-offset")!==r?g.data("stellar-vertical-offset"):t.verticalOffset,t.backgrounds.push({$element:s,$offsetParent:g,isFixed:s.css("background-attachment")==="fixed",horizontalOffset:u,verticalOffset:a,startingValueLeft:o[0],startingValueTop:o[1],startingBackgroundPositionLeft:isNaN(parseInt(o[0],10))?0:parseInt(o[0],10),startingBackgroundPositionTop:isNaN(parseInt(o[1],10))?0:parseInt(o[1],10),startingPositionLeft:s.position().left,startingPositionTop:s.position().top,startingOffsetLeft:v,startingOffsetTop:m,parentOffsetLeft:y,parentOffsetTop:b,stellarRatio:s.data("stellar-background-ratio")===r?1:s.data("stellar-background-ratio")})})},_reset:function(){var e,t,n,r,i;for(i=this.particles.length-1;i>=0;i--)e=this.particles[i],t=e.$element.data("stellar-startingLeft"),n=e.$element.data("stellar-startingTop"),this._setPosition(e.$element,t,t,n,n),this.options.showElement(e.$element),e.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(i=this.backgrounds.length-1;i>=0;i--)r=this.backgrounds[i],r.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),c(r.$element,r.startingValueLeft,r.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=e.noop,e(t).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var n=this,r=e(t);r.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),typeof this.options.horizontalOffset=="function"?(this.horizontalOffset=this.options.horizontalOffset(),r.bind("resize.horizontal-"+this.name,function(){n.horizontalOffset=n.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,typeof this.options.verticalOffset=="function"?(this.verticalOffset=this.options.verticalOffset(),r.bind("resize.vertical-"+this.name,function(){n.verticalOffset=n.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var e=this._getScrollLeft(),t=this._getScrollTop(),n,r,i,s,o,u,a,f=!0,l=!0,h,p,d,v,m;if(this.currentScrollLeft===e&&this.currentScrollTop===t&&this.currentWidth===this.viewportWidth&&this.currentHeight===this.viewportHeight)return;this.currentScrollLeft=e,this.currentScrollTop=t,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight;for(m=this.particles.length-1;m>=0;m--)i=this.particles[m],s=i.isFixed?1:0,this.options.horizontalScrolling?(h=(e+i.horizontalOffset+this.viewportOffsetLeft+i.startingPositionLeft-i.startingOffsetLeft+i.parentOffsetLeft)*-(i.stellarRatio+s-1)+i.startingPositionLeft,d=h-i.startingPositionLeft+i.startingOffsetLeft):(h=i.startingPositionLeft,d=i.startingOffsetLeft),this.options.verticalScrolling?(p=(t+i.verticalOffset+this.viewportOffsetTop+i.startingPositionTop-i.startingOffsetTop+i.parentOffsetTop)*-(i.stellarRatio+s-1)+i.startingPositionTop,v=p-i.startingPositionTop+i.startingOffsetTop):(p=i.startingPositionTop,v=i.startingOffsetTop),this.options.hideDistantElements&&(l=!this.options.horizontalScrolling||d+i.width>(i.isFixed?0:e)&&d<(i.isFixed?0:e)+this.viewportWidth+this.viewportOffsetLeft,f=!this.options.verticalScrolling||v+i.height>(i.isFixed?0:t)&&v<(i.isFixed?0:t)+this.viewportHeight+this.viewportOffsetTop),l&&f?(i.isHidden&&(this.options.showElement(i.$element),i.isHidden=!1),this._setPosition(i.$element,h,i.startingPositionLeft,p,i.startingPositionTop)):i.isHidden||(this.options.hideElement(i.$element),i.isHidden=!0);for(m=this.backgrounds.length-1;m>=0;m--)o=this.backgrounds[m],s=o.isFixed?0:1,u=this.options.horizontalScrolling?(e+o.horizontalOffset-this.viewportOffsetLeft-o.startingOffsetLeft+o.parentOffsetLeft-o.startingBackgroundPositionLeft)*(s-o.stellarRatio)+"px":o.startingValueLeft,a=this.options.verticalScrolling?(t+o.verticalOffset-this.viewportOffsetTop-o.startingOffsetTop+o.parentOffsetTop-o.startingBackgroundPositionTop)*(s-o.stellarRatio)+"px":o.startingValueTop,c(o.$element,u,a)},_handleScrollEvent:function(){var e=this,t=!1,n=function(){e._repositionElements(),t=!1},r=function(){t||(p(n),t=!0)};this.$scrollElement.bind("scroll."+this.name,r),r()},_startAnimationLoop:function(){var e=this;this._animationLoop=function(){p(e._animationLoop),e._repositionElements()},this._animationLoop()}},e.fn[i]=function(t){var n=arguments;if(t===r||typeof t=="object")return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new d(this,t))});if(typeof t=="string"&&t[0]!=="_"&&t!=="init")return this.each(function(){var r=e.data(this,"plugin_"+i);r instanceof d&&typeof r[t]=="function"&&r[t].apply(r,Array.prototype.slice.call(n,1)),t==="destroy"&&e.data(this,"plugin_"+i,null)})},e[i]=function(n){var r=e(t);return r.stellar.apply(r,Array.prototype.slice.call(arguments,0))},e[i].scrollProperty=o,e[i].positionProperty=u,t.Stellar=d})(jQuery,this,document);(function(){var j=false;window.JQClass=function(){};JQClass.classes={};JQClass.extend=function extender(f){var g=this.prototype;j=true;var h=new this;j=false;for(var i in f){h[i]=typeof f[i]=="function"&&typeof g[i]=="function"?function(d,e){return function(){var b=this._super;this._super=function(a){return g[d].apply(this,a)};var c=e.apply(this,arguments);this._super=b;return c}}(i,f[i]):f[i]}function JQClass(){if(!j&&this._init){this._init.apply(this,arguments)}}JQClass.prototype=h;JQClass.prototype.constructor=JQClass;JQClass.extend=extender;return JQClass}})();(function($){JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",
defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var c=camelCase(this.name);$[c]=this;$.fn[c]=function(a){var b=Array.prototype.slice.call(arguments,1);if($[c]._isNotChained(a,b)){return $[c][a].apply($[c],[this[0]].concat(b))}return this.each(function(){if(typeof a==="string"){if(a[0]==="_"||!$[c][a]){throw"Unknown method: "+a}$[c][a].apply($[c],[this].concat(b))}else{$[c]._attach(this,a)}})}},setDefaults:function(a){$.extend(this.defaultOptions,a||{})},_isNotChained:function(a,b){if(a==="option"&&(b.length===0||b.length===1&&typeof b[0]==="string")){return true}return $.inArray(a,this._getters)>-1},_attach:function(a,b){a=$(a);if(a.hasClass(this._getMarker())){return}a.addClass(this._getMarker());b=$.extend({},this.defaultOptions,this._getMetadata(a),b||{});var c=$.extend({name:this.name,elem:a,options:b},this._instSettings(a,b));a.data(this.name,c);this._postAttach(a,c);this.option(a,b)},_instSettings:function(a,b){return{}},_postAttach:function(a,b){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";f=f.replace(/'/g,'"');f=f.replace(/([a-zA-Z0-9]+):/g,function(a,b,i){var c=f.substring(0,i).match(/"/g);return!c||c.length%2===0?'"'+b+'":':b+":"});f=$.parseJSON("{"+f+"}");for(var g in f){var h=f[g];if(typeof h==="string"&&h.match(/^new Date\((.*)\)$/)){f[g]=eval(h)}}return f}catch(e){return{}}},_getInst:function(a){return $(a).data(this.name)||{}},option:function(a,b,c){a=$(a);var d=a.data(this.name);if(!b||typeof b==="string"&&c==null){var e=(d||{}).options;return e&&b?e[b]:e}if(!a.hasClass(this._getMarker())){return}var e=b||{};if(typeof b==="string"){e={};e[b]=c}this._optionsChanged(a,d,e);$.extend(d.options,e)},_optionsChanged:function(a,b,c){},destroy:function(a){a=$(a);if(!a.hasClass(this._getMarker())){return}this._preDestroy(a,this._getInst(a));a.removeData(this.name).removeClass(this._getMarker())},_preDestroy:function(a,b){}});function camelCase(c){return c.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})}$.JQPlugin={createPlugin:function(a,b){if(typeof a==="object"){b=a;a="JQPlugin"}a=camelCase(a);var c=camelCase(b.name);JQClass.classes[c]=JQClass.classes[a].extend(b);new JQClass.classes[c]}}})(jQuery);(function($){var w="countdown";var Y=0;var O=1;var W=2;var D=3;var H=4;var M=5;var S=6;$.JQPlugin.createPlugin({name:w,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,padZeroes:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false}},_getters:["getTimes"],_rtlClass:w+"-rtl",_sectionClass:w+"-section",_amountClass:w+"-amount",_periodClass:w+"-period",_rowClass:w+"-row",_holdingClass:w+"-holding",_showClass:w+"-show",_descrClass:w+"-descr",_timerElems:[],_init:function(){var c=this;this._super();this._serverSyncs=[];var d=typeof Date.now=="function"?Date.now:function(){return(new Date).getTime()};var e=window.performance&&typeof window.performance.now=="function";function timerCallBack(a){var b=a<1e12?e?performance.now()+performance.timing.navigationStart:d():a||d();if(b-g>=1e3){c._updateElems();g=b}f(timerCallBack)}var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var g=0;if(!f||$.noRequestAnimationFrame){$.noRequestAnimationFrame=null;setInterval(function(){c._updateElems()},980)}else{g=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||d();f(timerCallBack)}},UTCDate:function(a,b,c,e,f,g,h,i){if(typeof b=="object"&&b.constructor==Date){i=b.getMilliseconds();h=b.getSeconds();g=b.getMinutes();f=b.getHours();e=b.getDate();c=b.getMonth();b=b.getFullYear()}var d=new Date;d.setUTCFullYear(b);d.setUTCDate(1);d.setUTCMonth(c||0);d.setUTCDate(e||1);d.setUTCHours(f||0);d.setUTCMinutes((g||0)-(Math.abs(a)<30?a*60:a));d.setUTCSeconds(h||0);d.setUTCMilliseconds(i||0);return d},periodsToSeconds:function(a){return a[0]*31557600+a[1]*2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},resync:function(){var d=this;$("."+this._getMarker()).each(function(){var a=$.data(this,d.name);if(a.options.serverSync){var b=null;for(var i=0;i<d._serverSyncs.length;i++){if(d._serverSyncs[i][0]==a.options.serverSync){b=d._serverSyncs[i];break}}if(b[2]==null){var c=$.isFunction(a.options.serverSync)?a.options.serverSync.apply(this,[]):null;b[2]=(c?(new Date).getTime()-c.getTime():0)-b[1]}if(a._since){a._since.setMilliseconds(a._since.getMilliseconds()+b[2])}a._until.setMilliseconds(a._until.getMilliseconds()+b[2])}});for(var i=0;i<d._serverSyncs.length;i++){if(d._serverSyncs[i][2]!=null){d._serverSyncs[i][1]+=d._serverSyncs[i][2];delete d._serverSyncs[i][2]}}},_instSettings:function(a,b){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(a){if(!this._hasElem(a)){this._timerElems.push(a)}},_hasElem:function(a){return $.inArray(a,this._timerElems)>-1},_removeElem:function(b){this._timerElems=$.map(this._timerElems,function(a){return a==b?null:a})},_updateElems:function(){for(var i=this._timerElems.length-1;i>=0;i--){this._updateCountdown(this._timerElems[i])}},_optionsChanged:function(a,b,c){if(c.layout){c.layout=c.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")}this._resetExtraLabels(b.options,c);var d=b.options.timezone!=c.timezone;$.extend(b.options,c);this._adjustSettings(a,b,c.until!=null||c.since!=null||d);var e=new Date;if(b._since&&b._since<e||b._until&&b._until>e){this._addElem(a[0])}this._updateCountdown(a,b)},_updateCountdown:function(a,b){a=a.jquery?a:$(a);b=b||this._getInst(a);if(!b){return}a.html(this._generateHTML(b)).toggleClass(this._rtlClass,b.options.isRTL);if($.isFunction(b.options.onTick)){var c=b._hold!="lap"?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);if(b.options.tickInterval==1||this.periodsToSeconds(c)%b.options.tickInterval==0){b.options.onTick.apply(a[0],[c])}}var d=b._hold!="pause"&&(b._since?b._now.getTime()<b._since.getTime():b._now.getTime()>=b._until.getTime());if(d&&!b._expiring){b._expiring=true;if(this._hasElem(a[0])||b.options.alwaysExpire){this._removeElem(a[0]);if($.isFunction(b.options.onExpiry)){b.options.onExpiry.apply(a[0],[])}if(b.options.expiryText){var e=b.options.layout;b.options.layout=b.options.expiryText;this._updateCountdown(a[0],b);b.options.layout=e}if(b.options.expiryUrl){window.location=b.options.expiryUrl}}b._expiring=false}else if(b._hold=="pause"){this._removeElem(a[0])}},_resetExtraLabels:function(a,b){for(var n in b){if(n.match(/[Ll]abels[02-9]|compactLabels1/)){a[n]=b[n]}}for(var n in a){if(n.match(/[Ll]abels[02-9]|compactLabels1/)&&typeof b[n]==="undefined"){a[n]=null}}},_adjustSettings:function(a,b,c){var d=null;for(var i=0;i<this._serverSyncs.length;i++){if(this._serverSyncs[i][0]==b.options.serverSync){d=this._serverSyncs[i][1];break}}if(d!=null){var e=b.options.serverSync?d:0;var f=new Date}else{var g=$.isFunction(b.options.serverSync)?b.options.serverSync.apply(a[0],[]):null;var f=new Date;var e=g?f.getTime()-g.getTime():0;this._serverSyncs.push([b.options.serverSync,e])}var h=b.options.timezone;h=h==null?-f.getTimezoneOffset():h;if(c||!c&&b._until==null&&b._since==null){b._since=b.options.since;if(b._since!=null){b._since=this.UTCDate(h,this._determineTime(b._since,null));if(b._since&&e){b._since.setMilliseconds(b._since.getMilliseconds()+e)}}b._until=this.UTCDate(h,this._determineTime(b.options.until,f));if(e){b._until.setMilliseconds(b._until.getMilliseconds()+e)}}b._show=this._determineShow(b)},_preDestroy:function(a,b){this._removeElem(a[0]);a.empty()},pause:function(a){this._hold(a,"pause")},lap:function(a){this._hold(a,"lap")},resume:function(a){this._hold(a,null)},toggle:function(a){var b=$.data(a,this.name)||{};this[!b._hold?"pause":"resume"](a)},toggleLap:function(a){var b=$.data(a,this.name)||{};this[!b._hold?"lap":"resume"](a)},_hold:function(a,b){var c=$.data(a,this.name);if(c){if(c._hold=="pause"&&!b){c._periods=c._savePeriods;var d=c._since?"-":"+";c[c._since?"_since":"_until"]=this._determineTime(d+c._periods[0]+"y"+d+c._periods[1]+"o"+d+c._periods[2]+"w"+d+c._periods[3]+"d"+d+c._periods[4]+"h"+d+c._periods[5]+"m"+d+c._periods[6]+"s");this._addElem(a)}c._hold=b;c._savePeriods=b=="pause"?c._periods:null;$.data(a,this.name,c);this._updateCountdown(a,c)}},getTimes:function(a){var b=$.data(a,this.name);return!b?null:b._hold=="pause"?b._savePeriods:!b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date)},_determineTime:function(k,l){var m=this;var n=function(a){var b=new Date;b.setTime(b.getTime()+a*1e3);return b};var o=function(a){a=a.toLowerCase();var b=new Date;var c=b.getFullYear();var d=b.getMonth();var e=b.getDate();var f=b.getHours();var g=b.getMinutes();var h=b.getSeconds();var i=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var j=i.exec(a);while(j){switch(j[2]||"s"){case"s":h+=parseInt(j[1],10);break;case"m":g+=parseInt(j[1],10);break;case"h":f+=parseInt(j[1],10);break;case"d":e+=parseInt(j[1],10);break;case"w":e+=parseInt(j[1],10)*7;break;case"o":d+=parseInt(j[1],10);e=Math.min(e,m._getDaysInMonth(c,d));break;case"y":c+=parseInt(j[1],10);e=Math.min(e,m._getDaysInMonth(c,d));break}j=i.exec(a)}return new Date(c,d,e,f,g,h,0)};var p=k==null?l:typeof k=="string"?o(k):typeof k=="number"?n(k):k;if(p)p.setMilliseconds(0);return p},_getDaysInMonth:function(a,b){return 32-new Date(a,b,32).getDate()},_normalLabels:function(a){return a},_generateHTML:function(c){var d=this;c._periods=c._hold?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);var e=false;var f=0;var g=c.options.significant;var h=$.extend({},c._show);for(var i=Y;i<=S;i++){e|=c._show[i]=="?"&&c._periods[i]>0;h[i]=c._show[i]=="?"&&!e?null:c._show[i];f+=h[i]?1:0;g-=c._periods[i]>0?1:0}var j=[false,false,false,false,false,false,false];for(var i=S;i>=Y;i--){if(c._show[i]){if(c._periods[i]){j[i]=true}else{j[i]=g>0;g--}}}var k=c.options.compact?c.options.compactLabels:c.options.labels;var l=c.options.whichLabels||this._normalLabels;var m=function(a){var b=c.options["compactLabels"+l(c._periods[a])];return h[a]?d._translateDigits(c,c._periods[a])+(b?b[a]:k[a])+" ":""};var n=c.options.padZeroes?2:1;var o=function(a){var b=c.options["labels"+l(c._periods[a])];return!c.options.significant&&h[a]||c.options.significant&&j[a]?'<span class="'+d._sectionClass+'">'+'<span class="'+d._amountClass+'">'+d._minDigits(c,c._periods[a],n)+"</span>"+'<span class="'+d._periodClass+'">'+(b?b[a]:k[a])+"</span></span>":""};return c.options.layout?this._buildLayout(c,h,c.options.layout,c.options.compact,c.options.significant,j):(c.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(c._hold?" "+this._holdingClass:"")+'">'+m(Y)+m(O)+m(W)+m(D)+(h[H]?this._minDigits(c,c._periods[H],2):"")+(h[M]?(h[H]?c.options.timeSeparator:"")+this._minDigits(c,c._periods[M],2):"")+(h[S]?(h[H]||h[M]?c.options.timeSeparator:"")+this._minDigits(c,c._periods[S],2):""):'<span class="'+this._rowClass+" "+this._showClass+(c.options.significant||f)+(c._hold?" "+this._holdingClass:"")+'">'+o(Y)+o(O)+o(W)+o(D)+o(H)+o(M)+o(S))+"</span>"+(c.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+c.options.description+"</span>":"")},_buildLayout:function(c,d,e,f,g,h){var j=c.options[f?"compactLabels":"labels"];var k=c.options.whichLabels||this._normalLabels;var l=function(a){return(c.options[(f?"compactLabels":"labels")+k(c._periods[a])]||j)[a]};var m=function(a,b){return c.options.digits[Math.floor(a/b)%10]};var o={desc:c.options.description,sep:c.options.timeSeparator,yl:l(Y),yn:this._minDigits(c,c._periods[Y],1),ynn:this._minDigits(c,c._periods[Y],2),ynnn:this._minDigits(c,c._periods[Y],3),y1:m(c._periods[Y],1),y10:m(c._periods[Y],10),y100:m(c._periods[Y],100),y1000:m(c._periods[Y],1e3),ol:l(O),on:this._minDigits(c,c._periods[O],1),onn:this._minDigits(c,c._periods[O],2),onnn:this._minDigits(c,c._periods[O],3),o1:m(c._periods[O],1),o10:m(c._periods[O],10),o100:m(c._periods[O],100),o1000:m(c._periods[O],1e3),wl:l(W),wn:this._minDigits(c,c._periods[W],1),wnn:this._minDigits(c,c._periods[W],2),wnnn:this._minDigits(c,c._periods[W],3),w1:m(c._periods[W],1),w10:m(c._periods[W],10),w100:m(c._periods[W],100),w1000:m(c._periods[W],1e3),dl:l(D),dn:this._minDigits(c,c._periods[D],1),dnn:this._minDigits(c,c._periods[D],2),dnnn:this._minDigits(c,c._periods[D],3),d1:m(c._periods[D],1),d10:m(c._periods[D],10),d100:m(c._periods[D],100),d1000:m(c._periods[D],1e3),hl:l(H),hn:this._minDigits(c,c._periods[H],1),hnn:this._minDigits(c,c._periods[H],2),hnnn:this._minDigits(c,c._periods[H],3),h1:m(c._periods[H],1),h10:m(c._periods[H],10),h100:m(c._periods[H],100),h1000:m(c._periods[H],1e3),ml:l(M),mn:this._minDigits(c,c._periods[M],1),mnn:this._minDigits(c,c._periods[M],2),mnnn:this._minDigits(c,c._periods[M],3),m1:m(c._periods[M],1),m10:m(c._periods[M],10),m100:m(c._periods[M],100),m1000:m(c._periods[M],1e3),sl:l(S),sn:this._minDigits(c,c._periods[S],1),snn:this._minDigits(c,c._periods[S],2),snnn:this._minDigits(c,c._periods[S],3),s1:m(c._periods[S],1),s10:m(c._periods[S],10),s100:m(c._periods[S],100),s1000:m(c._periods[S],1e3)};var p=e;for(var i=Y;i<=S;i++){var q="yowdhms".charAt(i);var r=new RegExp("\\{"+q+"<\\}([\\s\\S]*)\\{"+q+">\\}","g");p=p.replace(r,!g&&d[i]||g&&h[i]?"$1":"")}$.each(o,function(n,v){var a=new RegExp("\\{"+n+"\\}","g");p=p.replace(a,v)});return p},_minDigits:function(a,b,c){b=""+b;if(b.length>=c){return this._translateDigits(a,b)}b="0000000000"+b;return this._translateDigits(a,b.substr(b.length-c))},_translateDigits:function(b,c){return(""+c).replace(/[0-9]/g,function(a){return b.options.digits[a]})},_determineShow:function(a){var b=a.options.format;var c=[];c[Y]=b.match("y")?"?":b.match("Y")?"!":null;c[O]=b.match("o")?"?":b.match("O")?"!":null;c[W]=b.match("w")?"?":b.match("W")?"!":null;c[D]=b.match("d")?"?":b.match("D")?"!":null;c[H]=b.match("h")?"?":b.match("H")?"!":null;c[M]=b.match("m")?"?":b.match("M")?"!":null;c[S]=b.match("s")?"?":b.match("S")?"!":null;return c},_calculatePeriods:function(c,d,e,f){c._now=f;c._now.setMilliseconds(0);var g=new Date(c._now.getTime());if(c._since){if(f.getTime()<c._since.getTime()){c._now=f=g}else{f=c._since}}else{g.setTime(c._until.getTime());if(f.getTime()>c._until.getTime()){c._now=f=g}}var h=[0,0,0,0,0,0,0];if(d[Y]||d[O]){var i=this._getDaysInMonth(f.getFullYear(),f.getMonth());var j=this._getDaysInMonth(g.getFullYear(),g.getMonth());var k=g.getDate()==f.getDate()||g.getDate()>=Math.min(i,j)&&f.getDate()>=Math.min(i,j);var l=function(a){return(a.getHours()*60+a.getMinutes())*60+a.getSeconds()};var m=Math.max(0,(g.getFullYear()-f.getFullYear())*12+g.getMonth()-f.getMonth()+(g.getDate()<f.getDate()&&!k||k&&l(g)<l(f)?-1:0));h[Y]=d[Y]?Math.floor(m/12):0;h[O]=d[O]?m-h[Y]*12:0;f=new Date(f.getTime());var n=f.getDate()==i;var o=this._getDaysInMonth(f.getFullYear()+h[Y],f.getMonth()+h[O]);if(f.getDate()>o){f.setDate(o)}f.setFullYear(f.getFullYear()+h[Y]);f.setMonth(f.getMonth()+h[O]);if(n){f.setDate(o)}}var p=Math.floor((g.getTime()-f.getTime())/1e3);var q=function(a,b){h[a]=d[a]?Math.floor(p/b):0;p-=h[a]*b};q(W,604800);q(D,86400);q(H,3600);q(M,60);q(S,1);if(p>0&&!c._since){var r=[1,12,4.3482,7,24,60,60];var s=S;var t=1;for(var u=S;u>=Y;u--){if(d[u]){if(h[s]>=t){h[s]=0;p=1}if(p>0){h[u]++;p=0;s=u;t=1}}t*=r[u]}}if(e){for(var u=Y;u<=S;u++){if(e&&h[u]){e--}else if(!e){h[u]=0}}}return h}})})(jQuery);(function(e){function t(e,t){return e.toFixed(t.decimals)}e.fn.countTo=function(t){t=t||{};return e(this).each(function(){function l(){a+=i;u++;c(a);if(typeof n.onUpdate=="function"){n.onUpdate.call(s,a)}if(u>=r){o.removeData("countTo");clearInterval(f.interval);a=n.to;if(typeof n.onComplete=="function"){n.onComplete.call(s,a)}}}function c(e){var t=n.formatter.call(s,e,n);o.text(t)}var n=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t);var r=Math.ceil(n.speed/n.refreshInterval),i=(n.to-n.from)/r;var s=this,o=e(this),u=0,a=n.from,f=o.data("countTo")||{};o.data("countTo",f);if(f.interval){clearInterval(f.interval)}f.interval=setInterval(l,n.refreshInterval);c(a)})};e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}})(jQuery);!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),c=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return b>h-e&&h+e>b?d=a:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),-1===d},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(b,c){var e=this._items.length,f=c?0:this._clones.length;return!a.isNumeric(b)||1>e?b=d:(0>b||b>=e+f)&&(b=((b-f/2)%e+e)%e+f/2),b},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c=this.settings,d=this._coordinates.length,e=Math.abs(this._coordinates[d-1])-this._width,f=-1;if(c.loop)d=this._clones.length/2+this._items.length-1;else if(c.autoWidth||c.merge)for(;d-f>1;)Math.abs(this._coordinates[b=d+f>>1])<e?f=b:d=b;else d=c.center?this._items.length-1:this._items.length-c.items;return a&&(d-=this._clones.length/2),Math.max(d,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(0>e),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,d=((a-h)%g+g)%g+h,d!==a&&i>=d-e&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){return a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{
if(!c.documentElement||!c.documentElement.clientWidth)throw"Can not detect viewport width.";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),this.settings.responsive!==!1&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf("owl")?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f)),h),f++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":"url("+g+")",opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c);heights=[],maxheight=0,a.each(d,function(b,c){heights.push(a(c).height())}),maxheight=Math.max.apply(null,heights),this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=a.attr("data-vimeo-id")?"vimeo":"youtube",d=a.attr("data-vimeo-id")||a.attr("data-youtube-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else{if(!(d[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");c="vimeo"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};return b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(l(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(f="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}))},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),"youtube"===f.type?c='<iframe width="'+g+'" height="'+h+'" src="http://www.youtube.com/embed/'+f.id+"?autoplay=1&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===f.type&&(c='<iframe src="http://player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+g+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),a('<div class="owl-video-frame">'+c+"</div>").insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name&&(this._core.settings.autoplay?this.play():this.stop())},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(d,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._interval=b.setInterval(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout))},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearInterval(this._interval),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;e>a;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):0>b&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){return g[b]!==d?(e=c?b:!0,!1):void 0}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);!function(a){"use strict";function b(b,c){this.element=a(b),this.settings=a.extend({},d,c),this._defaults=d,this._init()}var c="Morphext",d={animation:"bounceIn",separator:",",speed:2e3,complete:a.noop};b.prototype={_init:function(){var b=this;this.phrases=[],this.element.addClass("morphext"),a.each(this.element.text().split(this.settings.separator),function(c,d){b.phrases.push(a.trim(d))}),this.index=-1,this.animate(),this.start()},animate:function(){this.index=++this.index%this.phrases.length,this.element[0].innerHTML='<span class="animated '+this.settings.animation+'">'+this.phrases[this.index]+"</span>",a.isFunction(this.settings.complete)&&this.settings.complete.call(this)},start:function(){var a=this;this._interval=setInterval(function(){a.animate()},this.settings.speed)},stop:function(){this._interval=clearInterval(this._interval)}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery);!function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function u(t,e,n){var o,s="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void r(s+" is not a valid method");var l=d.apply(h,n);o=void 0===o?l:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),n+=r?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;h>e;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=n(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,l=0;h>l;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&r,x=t(s.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},
i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),u=document.querySelectorAll(".js-"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+"-options",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],h={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],s=this.layout.size,r=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]="";var u=n?"paddingTop":"paddingBottom",h=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-n,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return e(t,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,f[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=s.prototype;n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=e[o],r=new i(s,this);n.push(r)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){r++,r==s&&i()}var o=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),s={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return s},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&1>r?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),r=o.indexOf(s),a={x:this.columnWidth*r,y:s},u=s+t.size.outerHeight,h=this.cols+1-o.length,d=0;h>d;d++)this.colYs[r+d]=u;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),s=o?n.left:n.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?n.top:n.bottom)+i.outerHeight,l=a;u>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)o[s]||(n[s]=e.prototype[s]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,s,r,a){return e(t,i,n,o,s,r,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,s,r){function a(t,e){return function(i,n){for(var o=0;o<t.length;o++){var s=t[o],r=i.sortData[s],a=n.sortData[s];if(r>a||a>r){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?n.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),s=o&&o[1],r=e(s,n),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var s=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,n=0;i&&i>n;n++){var s=e[n];o.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||[];return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){
var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});!function(){"use strict";function e(e){e.fn.swiper=function(a){var r;return e(this).each(function(){var e=new t(this,a);r||(r=e)}),r}}var a,t=function(e,i){function s(e){return Math.floor(e)}function n(){b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?i.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},b.params.autoplay)}function o(e,t){var r=a(e.target);if(!r.is(t))if("string"==typeof t)r=r.parents(t);else if(t.nodeType){var i;return r.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}if(0!==r.length)return r[0]}function l(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,r=new t(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});r.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),b.observers.push(r)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(b.isHorizontal()&&39===a||!b.isHorizontal()&&40===a))return!1;if(!b.params.allowSwipeToPrev&&(b.isHorizontal()&&37===a||!b.isHorizontal()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(b.container.parents(".swiper-slide").length>0&&0===b.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,s=window.innerHeight,n=b.container.offset();b.rtl&&(n.left=n.left-b.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+b.width,n.top],[n.left,n.top+b.height],[n.left+b.width,n.top+b.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=r.left&&p[0]<=r.left+i&&p[1]>=r.top&&p[1]<=r.top+s&&(t=!0)}if(!t)return}b.isHorizontal()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!b.rtl||37===a&&b.rtl)&&b.slideNext(),(37===a&&!b.rtl||39===a&&b.rtl)&&b.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&b.slideNext(),38===a&&b.slidePrev())}}function d(e){e.originalEvent&&(e=e.originalEvent);var a=b.mousewheel.event,t=0,r=b.rtl?-1:1;if("mousewheel"===a)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX*r}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*r:-e.wheelDeltaY;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX*r}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*r:-e.deltaY;if(0!==t){if(b.params.mousewheelInvert&&(t=-t),b.params.freeMode){var i=b.getWrapperTranslate()+t*b.params.mousewheelSensitivity,s=b.isBeginning,n=b.isEnd;if(i>=b.minTranslate()&&(i=b.minTranslate()),i<=b.maxTranslate()&&(i=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(i),b.updateProgress(),b.updateActiveIndex(),(!s&&b.isBeginning||!n&&b.isEnd)&&b.updateClasses(),b.params.freeModeSticky?(clearTimeout(b.mousewheel.timeout),b.mousewheel.timeout=setTimeout(function(){b.slideReset()},300)):b.params.lazyLoading&&b.lazy&&b.lazy.load(),0===i||i===b.maxTranslate())return}else{if((new window.Date).getTime()-b.mousewheel.lastScrollTime>60)if(0>t)if(b.isEnd&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slideNext();else if(b.isBeginning&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slidePrev();b.mousewheel.lastScrollTime=(new window.Date).getTime()}return b.params.autoplay&&b.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function u(e,t){e=a(e);var r,i,s,n=b.rtl?-1:1;r=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),i||s?(i=i||"0",s=s||"0"):b.isHorizontal()?(i=r,s="0"):(s=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*n+"%":i*t*n+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",e.transform("translate3d("+i+", "+s+",0px)")}function c(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,i);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=i&&i.virtualTranslate;i=i||{};var f={};for(var g in i)if("object"!=typeof i[g]||null===i[g]||(i[g].nodeType||i[g]===window||i[g]===document||"undefined"!=typeof r&&i[g]instanceof r||"undefined"!=typeof jQuery&&i[g]instanceof jQuery))f[g]=i[g];else{f[g]={};for(var v in i[g])f[g][v]=i[g][v]}for(var w in m)if("undefined"==typeof i[w])i[w]=m[w];else if("object"==typeof i[w])for(var y in m[w])"undefined"==typeof i[w][y]&&(i[w][y]=m[w][y]);var b=this;if(b.params=i,b.originalParams=f,b.classNames=[],"undefined"!=typeof a&&"undefined"!=typeof r&&(a=r),("undefined"!=typeof a||(a="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(b.$=a,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e,a=!1,t=[];for(e in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(e)&&t.push(e);t.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var r=0;r<t.length;r++)e=t[r],e>=window.innerWidth&&!a&&(a=e);return a||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var a=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,t=b.params.loop&&a.slidesPerView!==b.params.slidesPerView;for(var r in a)b.params[r]=a[r];b.currentBreakpoint=e,t&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=a(e),0!==b.container.length)){if(b.container.length>1){var x=[];return b.container.each(function(){x.push(new t(this,i))}),x}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push("swiper-container-"+b.params.direction),b.params.freeMode&&b.classNames.push("swiper-container-free-mode"),b.support.flexbox||(b.classNames.push("swiper-container-no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push("swiper-container-autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push("swiper-container-3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push("swiper-container-"+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0,b.params.setWrapperSize=!1),("fade"===b.params.effect||"flip"===b.params.effect)&&(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,b.params.setWrapperSize=!1,"undefined"==typeof h&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=a(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass("swiper-pagination-clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass("swiper-pagination-"+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=a(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=a(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push("swiper-container-rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push("swiper-container-multirow"),b.device.android&&b.classNames.push("swiper-container-android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0},b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab"),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,a,t,r,i){function s(){i&&i()}var n;e.complete&&r?s():a?(n=new window.Image,n.onload=s,n.onerror=s,t&&(n.srcset=t),a&&(n.src=a)):s()},b.preloadImages=function(){function e(){"undefined"!=typeof b&&null!==b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var a=0;a<b.imagesToLoad.length;a++)b.loadImage(b.imagesToLoad[a],b.imagesToLoad[a].currentSrc||b.imagesToLoad[a].getAttribute("src"),b.imagesToLoad[a].srcset||b.imagesToLoad[a].getAttribute("srcset"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return"undefined"!=typeof b.autoplayTimeoutId?!1:b.params.autoplay?b.autoplaying?!1:(b.autoplaying=!0,b.emit("onAutoplayStart",b),void n()):!1},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,n()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?n():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e=b.slides.eq(b.activeIndex)[0];if("undefined"!=typeof e){var a=e.offsetHeight;a&&b.wrapper.css("height",a+"px")}},b.updateContainerSize=function(){var e,a;e="undefined"!=typeof b.params.width?b.params.width:b.container[0].clientWidth,a="undefined"!=typeof b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===a&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),a=a-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=a,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,a=b.params.spaceBetween,t=-b.params.slidesOffsetBefore,r=0,i=0;if("undefined"!=typeof b.size){"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*b.size),b.virtualSize=-a,b.rtl?b.slides.css({marginLeft:"",marginTop:""}):b.slides.css({marginRight:"",marginBottom:""});var n;b.params.slidesPerColumn>1&&(n=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(n=Math.max(n,b.params.slidesPerView*b.params.slidesPerColumn)));var o,l=b.params.slidesPerColumn,p=n/l,d=p-(b.params.slidesPerColumn*p-b.slides.length);for(e=0;e<b.slides.length;e++){o=0;var u=b.slides.eq(e);if(b.params.slidesPerColumn>1){var c,m,h;"column"===b.params.slidesPerColumnFill?(m=Math.floor(e/l),h=e-m*l,(m>d||m===d&&h===l-1)&&++h>=l&&(h=0,m++),c=m+h*n/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=Math.floor(e/p),m=e-h*p),u.css({"margin-top":0!==h&&b.params.spaceBetween&&b.params.spaceBetween+"px"}).attr("data-swiper-column",m).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===b.params.slidesPerView?(o=b.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),b.params.roundLengths&&(o=s(o))):(o=(b.size-(b.params.slidesPerView-1)*a)/b.params.slidesPerView,b.params.roundLengths&&(o=s(o)),b.isHorizontal()?b.slides[e].style.width=o+"px":b.slides[e].style.height=o+"px"),b.slides[e].swiperSlideSize=o,b.slidesSizesGrid.push(o),b.params.centeredSlides?(t=t+o/2+r/2+a,0===e&&(t=t-b.size/2-a),Math.abs(t)<.001&&(t=0),i%b.params.slidesPerGroup===0&&b.snapGrid.push(t),b.slidesGrid.push(t)):(i%b.params.slidesPerGroup===0&&b.snapGrid.push(t),b.slidesGrid.push(t),t=t+o+a),b.virtualSize+=o+a,r=o,i++)}b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter;var f;if(b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),(!b.support.flexbox||b.params.setWrapperSize)&&(b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"})),b.params.slidesPerColumn>1&&(b.virtualSize=(o+b.params.spaceBetween)*n,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(f=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&f.push(b.snapGrid[e]);b.snapGrid=f}if(!b.params.centeredSlides){for(f=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&f.push(b.snapGrid[e]);b.snapGrid=f,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&(b.isHorizontal()?b.rtl?b.slides.css({marginLeft:a+"px"}):b.slides.css({marginRight:a+"px"}):b.slides.css({marginBottom:a+"px"})),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=b.translate||0),0!==b.slides.length){"undefined"==typeof b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var a=-e;b.rtl&&(a=e),b.slides.removeClass(b.params.slideVisibleClass);for(var t=0;t<b.slides.length;t++){var r=b.slides[t],i=(a-r.swiperSlideOffset)/(r.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var s=-(a-r.swiperSlideOffset),n=s+b.slidesSizesGrid[t],o=s>=0&&s<b.size||n>0&&n<=b.size||0>=s&&n>=b.size;o&&b.slides.eq(t).addClass(b.params.slideVisibleClass)}r.progress=b.rtl?-i:i}}},b.updateProgress=function(e){"undefined"==typeof e&&(e=b.translate||0);var a=b.maxTranslate()-b.minTranslate(),t=b.isBeginning,r=b.isEnd;0===a?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/a,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!t&&b.emit("onReachBeginning",b),b.isEnd&&!r&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,a,t,r=b.rtl?b.translate:-b.translate;for(a=0;a<b.slidesGrid.length;a++)"undefined"!=typeof b.slidesGrid[a+1]?r>=b.slidesGrid[a]&&r<b.slidesGrid[a+1]-(b.slidesGrid[a+1]-b.slidesGrid[a])/2?e=a:r>=b.slidesGrid[a]&&r<b.slidesGrid[a+1]&&(e=a+1):r>=b.slidesGrid[a]&&(e=a);(0>e||"undefined"==typeof e)&&(e=0),t=Math.floor(e/b.params.slidesPerGroup),t>=b.snapGrid.length&&(t=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=t,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses())},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass);var e=b.slides.eq(b.activeIndex);e.addClass(b.params.slideActiveClass);var t=e.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===t.length&&b.slides.eq(0).addClass(b.params.slideNextClass);var r=e.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===r.length&&b.slides.eq(-1).addClass(b.params.slidePrevClass),b.paginationContainer&&b.paginationContainer.length>0){var i,s=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?(i=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup),i>b.slides.length-1-2*b.loopedSlides&&(i-=b.slides.length-2*b.loopedSlides),i>s-1&&(i-=s),0>i&&"bullets"!==b.params.paginationType&&(i=s+i)):i="undefined"!=typeof b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){a(this).index()===i&&a(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(i).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(i+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(s)),"progress"===b.params.paginationType){var n=(i+1)/s,o=n,l=1;b.isHorizontal()||(l=n,o=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+l+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,i+1,s)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var a=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,t=0;a>t;t++)e+=b.params.paginationBulletRender?b.params.paginationBulletRender(t,b.params.bulletClass):"<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function a(){r=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(r),b.updateActiveIndex(),b.updateClasses()}if(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e){var t,r;b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(a(),b.params.autoHeight&&b.updateAutoHeight()):(t=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0),t||a())}else b.params.autoHeight&&b.updateAutoHeight()},b.onResize=function(e){b.params.breakpoints&&b.setBreakpoint();var a=b.params.allowSwipeToPrev,t=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var r=!1;if(b.params.freeMode){var i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),r=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!r&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=a,b.params.allowSwipeToNext=t};var T=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?T=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(T=["MSPointerDown","MSPointerMove","MSPointerUp"]),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":T[0],move:b.support.touch||!b.params.simulateTouch?"touchmove":T[1],end:b.support.touch||!b.params.simulateTouch?"touchend":T[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",r="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],s=b.support.touch?r:document,n=b.params.nested?!0:!1;b.browser.ie?(r[t](b.touchEvents.start,b.onTouchStart,!1),s[t](b.touchEvents.move,b.onTouchMove,n),s[t](b.touchEvents.end,b.onTouchEnd,!1)):(b.support.touch&&(r[t](b.touchEvents.start,b.onTouchStart,!1),r[t](b.touchEvents.move,b.onTouchMove,n),r[t](b.touchEvents.end,b.onTouchEnd,!1)),!i.simulateTouch||b.device.ios||b.device.android||(r[t]("mousedown",b.onTouchStart,!1),document[t]("mousemove",b.onTouchMove,n),document[t]("mouseup",b.onTouchEnd,!1))),window[t]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[a]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[a]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[a]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[a]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[a]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[a]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&r[t]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),(!b.isEnd||b.params.loop)&&b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),(!b.isBeginning||b.params.loop)&&b.slidePrev()},b.onClickIndex=function(e){e.preventDefault();var t=a(this).index()*b.params.slidesPerGroup;b.params.loop&&(t+=b.loopedSlides),b.slideTo(t)},b.updateClickedSlide=function(e){var t=o(e,"."+b.params.slideClass),r=!1;if(t)for(var i=0;i<b.slides.length;i++)b.slides[i]===t&&(r=!0);if(!t||!r)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=t,b.clickedIndex=a(t).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var s,n=b.clickedIndex;if(b.params.loop){if(b.animating)return;s=a(b.clickedSlide).attr("data-swiper-slide-index"),b.params.centeredSlides?n<b.loopedSlides-b.params.slidesPerView/2||n>b.slides.length-b.loopedSlides+b.params.slidesPerView/2?(b.fixLoop(),n=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(n)},0)):b.slideTo(n):n>b.slides.length-b.params.slidesPerView?(b.fixLoop(),n=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(n)},0)):b.slideTo(n)}else b.slideTo(n)}};var S,C,z,M,E,P,k,I,L,B,D="input, select, textarea, button",H=Date.now(),A=[];b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var G,O;if(b.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),G="touchstart"===e.type,G||!("which"in e)||3!==e.which){if(b.params.noSwiping&&o(e,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||o(e,b.params.swipeHandler)){var t=b.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=b.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;
if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&t<=b.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,z=!0,E=void 0,O=void 0,b.touches.startX=t,b.touches.startY=r,M=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(I=!1),"touchstart"!==e.type){var i=!0;a(e.target).is(D)&&(i=!1),document.activeElement&&a(document.activeElement).is(D)&&document.activeElement.blur(),i&&e.preventDefault()}b.emit("onTouchStart",b,e)}}}},b.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!G||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return b.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(b.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(S&&(b.touches.startX=b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.startY=b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,M=Date.now()));if(G&&document.activeElement&&e.target===document.activeElement&&a(e.target).is(D))return C=!0,void(b.allowClick=!1);if(z&&b.emit("onTouchMove",b,e),!(e.targetTouches&&e.targetTouches.length>1)){if(b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof E){var t=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI;E=b.isHorizontal()?t>b.params.touchAngle:90-t>b.params.touchAngle}if(E&&b.emit("onTouchMoveOpposite",b,e),"undefined"==typeof O&&b.browser.ieTouch&&(b.touches.currentX!==b.touches.startX||b.touches.currentY!==b.touches.startY)&&(O=!0),S){if(E)return void(S=!1);if(O||!b.browser.ieTouch){b.allowClick=!1,b.emit("onSliderMove",b,e),e.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&e.stopPropagation(),C||(i.loop&&b.fixLoop(),k=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),B=!1,b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grabbing",b.container[0].style.cursor="-moz-grabbin",b.container[0].style.cursor="grabbing")),C=!0;var r=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;r*=b.params.touchRatio,b.rtl&&(r=-r),b.swipeDirection=r>0?"prev":"next",P=r+k;var s=!0;if(r>0&&P>b.minTranslate()?(s=!1,b.params.resistance&&(P=b.minTranslate()-1+Math.pow(-b.minTranslate()+k+r,b.params.resistanceRatio))):0>r&&P<b.maxTranslate()&&(s=!1,b.params.resistance&&(P=b.maxTranslate()+1-Math.pow(b.maxTranslate()-k-r,b.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&k>P&&(P=k),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&P>k&&(P=k),b.params.followFinger){if(b.params.threshold>0){if(!(Math.abs(r)>b.params.threshold||I))return void(P=k);if(!I)return I=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,P=k,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}(b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===A.length&&A.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:M}),A.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(P),b.setWrapperTranslate(P)}}}}}},b.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),z&&b.emit("onTouchEnd",b,e),z=!1,S){b.params.grabCursor&&C&&S&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab");var t=Date.now(),r=t-M;if(b.allowClick&&(b.updateClickedSlide(e),b.emit("onTap",b,e),300>r&&t-H>300&&(L&&clearTimeout(L),L=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!a(e.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,e))},300)),300>r&&300>t-H&&(L&&clearTimeout(L),b.emit("onDoubleTap",b,e))),H=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!S||!C||!b.swipeDirection||0===b.touches.diff||P===k)return void(S=C=!1);S=C=!1;var i;if(i=b.params.followFinger?b.rtl?b.translate:-b.translate:-P,b.params.freeMode){if(i<-b.minTranslate())return void b.slideTo(b.activeIndex);if(i>-b.maxTranslate())return void(b.slides.length<b.snapGrid.length?b.slideTo(b.snapGrid.length-1):b.slideTo(b.slides.length-1));if(b.params.freeModeMomentum){if(A.length>1){var s=A.pop(),n=A.pop(),o=s.position-n.position,l=s.time-n.time;b.velocity=o/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(b.velocity=0)}else b.velocity=0;A.length=0;var p=1e3*b.params.freeModeMomentumRatio,d=b.velocity*p,u=b.translate+d;b.rtl&&(u=-u);var c,m=!1,h=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(u<b.maxTranslate())b.params.freeModeMomentumBounce?(u+b.maxTranslate()<-h&&(u=b.maxTranslate()-h),c=b.maxTranslate(),m=!0,B=!0):u=b.maxTranslate();else if(u>b.minTranslate())b.params.freeModeMomentumBounce?(u-b.minTranslate()>h&&(u=b.minTranslate()+h),c=b.minTranslate(),m=!0,B=!0):u=b.minTranslate();else if(b.params.freeModeSticky){var f,g=0;for(g=0;g<b.snapGrid.length;g+=1)if(b.snapGrid[g]>-u){f=g;break}u=Math.abs(b.snapGrid[f]-u)<Math.abs(b.snapGrid[f-1]-u)||"next"===b.swipeDirection?b.snapGrid[f]:b.snapGrid[f-1],b.rtl||(u=-u)}if(0!==b.velocity)p=b.rtl?Math.abs((-u-b.translate)/b.velocity):Math.abs((u-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&m?(b.updateProgress(c),b.setWrapperTransition(p),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&B&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(c),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setWrapperTransition(p),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(u),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||r>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,w=0,y=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)"undefined"!=typeof b.slidesGrid[v+b.params.slidesPerGroup]?i>=b.slidesGrid[v]&&i<b.slidesGrid[v+b.params.slidesPerGroup]&&(w=v,y=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):i>=b.slidesGrid[v]&&(w=v,y=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var x=(i-b.slidesGrid[w])/y;if(r>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(x>=b.params.longSwipesRatio?b.slideTo(w+b.params.slidesPerGroup):b.slideTo(w)),"prev"===b.swipeDirection&&(x>1-b.params.longSwipesRatio?b.slideTo(w+b.params.slidesPerGroup):b.slideTo(w))}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(w+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(w)}}},b._slideTo=function(e,a){return b.slideTo(e,a,!0,!0)},b.slideTo=function(e,a,t,r){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var i=-b.snapGrid[b.snapIndex];b.params.autoplay&&b.autoplaying&&(r||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(a):b.stopAutoplay()),b.updateProgress(i);for(var s=0;s<b.slidesGrid.length;s++)-Math.floor(100*i)>=Math.floor(100*b.slidesGrid[s])&&(e=s);return!b.params.allowSwipeToNext&&i<b.translate&&i<b.minTranslate()?!1:!b.params.allowSwipeToPrev&&i>b.translate&&i>b.maxTranslate()&&(b.activeIndex||0)!==e?!1:("undefined"==typeof a&&(a=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.rtl&&-i===b.translate||!b.rtl&&i===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(i),!1):(b.updateClasses(),b.onTransitionStart(t),0===a?(b.setWrapperTranslate(i),b.setWrapperTransition(0),b.onTransitionEnd(t)):(b.setWrapperTranslate(i),b.setWrapperTransition(a),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(t)}))),!0))},b.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,a,t){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex+b.params.slidesPerGroup,a,e,t)}return b.slideTo(b.activeIndex+b.params.slidesPerGroup,a,e,t)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,a,t){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex-1,a,e,t)}return b.slideTo(b.activeIndex-1,a,e,t)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,a,t){return b.slideTo(b.activeIndex,a,e)},b.setWrapperTransition=function(e,a){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,a),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,a,t){var r=0,i=0,n=0;b.isHorizontal()?r=b.rtl?-e:e:i=e,b.params.roundLengths&&(r=s(r),i=s(i)),b.params.virtualTranslate||(b.support.transforms3d?b.wrapper.transform("translate3d("+r+"px, "+i+"px, "+n+"px)"):b.wrapper.transform("translate("+r+"px, "+i+"px)")),b.translate=b.isHorizontal()?r:i;var o,l=b.maxTranslate()-b.minTranslate();o=0===l?0:(e-b.minTranslate())/l,o!==b.progress&&b.updateProgress(e),a&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,t),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,a){var t,r,i,s;return"undefined"==typeof a&&(a="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===r?"":r)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=s.toString().split(",")),"x"===a&&(r=window.WebKitCSSMatrix?s.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(r=window.WebKitCSSMatrix?s.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),b.rtl&&r&&(r=-r),r||0)},b.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),a=0;a<e.length;a++)l(e[a]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var e=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=e.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>e.length&&(b.loopedSlides=e.length);var t,r=[],i=[];for(e.each(function(t,s){var n=a(this);t<b.loopedSlides&&i.push(s),t<e.length&&t>=e.length-b.loopedSlides&&r.push(s),n.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++)b.wrapper.append(a(i[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(t=r.length-1;t>=0;t--)b.wrapper.prepend(a(r[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var a=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(a+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&b.wrapper.append(e[a]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var a=b.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&b.wrapper.prepend(e[t]);a=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(a,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var a,t=b.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)a=e[r],b.slides[a]&&b.slides.eq(a).remove(),t>a&&t--;t=Math.max(t,0)}else a=e,b.slides[a]&&b.slides.eq(a).remove(),t>a&&t--,t=Math.max(t,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(t+b.loopedSlides,0,!1):b.slideTo(t,0,!1)},b.removeAllSlides=function(){for(var e=[],a=0;a<b.slides.length;a++)e.push(a);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var a=b.slides.eq(e),t=a[0].swiperSlideOffset,r=-t;b.params.virtualTranslate||(r-=b.translate);var i=0;b.isHorizontal()||(i=r,r=0);var s=b.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:s}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var a=!1;b.slides.transitionEnd(function(){if(!a&&b){a=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)b.wrapper.trigger(e[t])}})}}},flip:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),r=t[0].progress;b.params.flip.limitRotation&&(r=Math.max(Math.min(t[0].progress,1),-1));var i=t[0].swiperSlideOffset,s=-180*r,n=s,o=0,l=-i,p=0;if(b.isHorizontal()?b.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(r))+b.slides.length,b.params.flip.slideShadows){var d=b.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=b.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===d.length&&(d=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-r,0)),u.length&&(u[0].style.opacity=Math.max(r,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(e){if(b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!t&&b&&a(this).hasClass(b.params.slideActiveClass)){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<e.length;r++)b.wrapper.trigger(e[r])}})}}},cube:{setTranslate:function(){var e,t=0;b.params.cube.shadow&&(b.isHorizontal()?(e=b.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(e)),e.css({height:b.width+"px"})):(e=b.container.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),b.container.append(e))));for(var r=0;r<b.slides.length;r++){var i=b.slides.eq(r),s=90*r,n=Math.floor(s/360);b.rtl&&(s=-s,n=Math.floor(-s/360));var o=Math.max(Math.min(i[0].progress,1),-1),l=0,p=0,d=0;r%4===0?(l=4*-n*b.size,d=0):(r-1)%4===0?(l=0,d=4*-n*b.size):(r-2)%4===0?(l=b.size+4*n*b.size,d=b.size):(r-3)%4===0&&(l=-b.size,d=3*b.size+4*b.size*n),b.rtl&&(l=-l),b.isHorizontal()||(p=l,l=0);var u="rotateX("+(b.isHorizontal()?0:-s)+"deg) rotateY("+(b.isHorizontal()?s:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(1>=o&&o>-1&&(t=90*r+90*o,b.rtl&&(t=90*-r-90*o)),i.transform(u),b.params.cube.slideShadows){var c=b.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),m=b.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),i.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())e.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),f=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),g=b.params.cube.shadowScale,v=b.params.cube.shadowScale/f,w=b.params.cube.shadowOffset;e.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(b.height/2+w)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var y=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(b.isHorizontal()?0:t)+"deg) rotateY("+(b.isHorizontal()?-t:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=b.translate,t=b.isHorizontal()?-e+b.width/2:-e+b.height/2,r=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,i=b.params.coverflow.depth,s=0,n=b.slides.length;n>s;s++){var o=b.slides.eq(s),l=b.slidesSizesGrid[s],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*b.params.coverflow.modifier,u=b.isHorizontal()?r*d:0,c=b.isHorizontal()?0:r*d,m=-i*Math.abs(d),h=b.isHorizontal()?0:b.params.coverflow.stretch*d,f=b.isHorizontal()?b.params.coverflow.stretch*d:0;Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0);var g="translate3d("+f+"px,"+h+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(g),o[0].style.zIndex=-Math.abs(Math.round(d))+1,b.params.coverflow.slideShadows){var v=b.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),w=b.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(b.browser.ie){var y=b.wrapper[0].style;y.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==b.slides.length)){var r=b.slides.eq(e),i=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(i=i.add(r[0])),0!==i.length&&i.each(function(){var e=a(this);e.addClass("swiper-lazy-loading");var i=e.attr("data-background"),s=e.attr("data-src"),n=e.attr("data-srcset");b.loadImage(e[0],s||i,n,!1,function(){if(i?(e.css("background-image",'url("'+i+'")'),e.removeAttr("data-background")):(n&&(e.attr("srcset",n),e.removeAttr("data-srcset")),s&&(e.attr("src",s),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),b.params.loop&&t){var a=r.attr("data-swiper-slide-index");if(r.hasClass(b.params.slideDuplicateClass)){var o=b.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(o.index(),!1)}else{var l=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');b.lazy.loadImageInSlide(l.index(),!1)}}b.emit("onLazyImageReady",b,r[0],e[0])}),b.emit("onLazyImageLoad",b,r[0],e[0])})}},load:function(){var e;if(b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(a(this).index())});else if(b.params.slidesPerView>1)for(e=b.activeIndex;e<b.activeIndex+b.params.slidesPerView;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(b.params.slidesPerView>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var t=b.params.lazyLoadingInPrevNextAmount,r=b.params.slidesPerView,i=Math.min(b.activeIndex+r+Math.max(t,r),b.slides.length),s=Math.max(b.activeIndex-Math.max(r,t),0);for(e=b.activeIndex+b.params.slidesPerView;i>e;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);for(e=s;e<b.activeIndex;e++)b.slides[e]&&b.lazy.loadImageInSlide(e)}else{var n=b.wrapper.children("."+b.params.slideNextClass);n.length>0&&b.lazy.loadImageInSlide(n.index());var o=b.wrapper.children("."+b.params.slidePrevClass);o.length>0&&b.lazy.loadImageInSlide(o.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var a=b.scrollbar,t=b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,r=t-a.track.offset()[b.isHorizontal()?"left":"top"]-a.dragSize/2,i=-b.minTranslate()*a.moveDivider,s=-b.maxTranslate()*a.moveDivider;i>r?r=i:r>s&&(r=s),r=-r/a.moveDivider,b.updateProgress(r),b.setWrapperTranslate(r,!0)},dragStart:function(e){var a=b.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),b.params.scrollbarHide&&a.track.css("opacity",1),b.wrapper.transition(100),a.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var a=b.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),b.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var a=b.scrollbar;a.isTouched&&(a.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},enableDraggable:function(){var e=b.scrollbar,t=b.support.touch?e.track:document;a(e.track).on(b.touchEvents.start,e.dragStart),a(t).on(b.touchEvents.move,e.dragMove),a(t).on(b.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=b.scrollbar,t=b.support.touch?e.track:document;a(e.track).off(b.touchEvents.start,e.dragStart),a(t).off(b.touchEvents.move,e.dragMove),a(t).off(b.touchEvents.end,e.dragEnd)},set:function(){if(b.params.scrollbar){var e=b.scrollbar;e.track=a(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&e.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(e.track=b.container.find(b.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=a('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=b.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=b.size/b.virtualSize,e.moveDivider=e.divider*(e.trackSize/b.size),e.dragSize=e.trackSize*e.divider,b.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",b.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,a=b.scrollbar,t=(b.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):0>e?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),b.isHorizontal()?(b.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(b.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),b.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,r;this.x.length;this.interpolate=function(e){return e?(r=i(this.x,e),t=r-1,(e-this.x[t])*(this.y[r]-this.y[t])/(this.x[r]-this.x[t])+this.y[t]):0};var i=function(){var e,a,t;return function(r,i){for(a=-1,e=r.length;e-a>1;)r[t=e+a>>1]<=i?a=t:e=t;return e}}()},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,a){function r(a){e=a.rtl&&"horizontal"===a.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(a),s=-b.controller.spline.interpolate(-e)),s&&"container"!==b.params.controlBy||(i=(a.maxTranslate()-a.minTranslate())/(b.maxTranslate()-b.minTranslate()),s=(e-b.minTranslate())*i+a.minTranslate()),b.params.controlInverse&&(s=a.maxTranslate()-s),a.updateProgress(s),a.setWrapperTranslate(s,!1,b),a.updateActiveIndex()}var i,s,n=b.params.control;if(b.isArray(n))for(var o=0;o<n.length;o++)n[o]!==a&&n[o]instanceof t&&r(n[o]);else n instanceof t&&a!==n&&r(n)},setTransition:function(e,a){function r(a){a.setWrapperTransition(e,b),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){s&&(a.params.loop&&"slide"===b.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var i,s=b.params.control;if(b.isArray(s))for(i=0;i<s.length;i++)s[i]!==a&&s[i]instanceof t&&r(s[i]);else s instanceof t&&a!==s&&r(s)}},b.hashnav={init:function(){if(b.params.hashnav){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,r=b.slides.length;r>t;t++){var i=b.slides.eq(t),s=i.attr("data-hash");if(s===e&&!i.hasClass(b.params.slideDuplicateClass)){var n=i.index();b.slideTo(n,a,b.params.runCallbacksOnInit,!0)}}}},setHash:function(){b.hashnav.initialized&&b.params.hashnav&&(document.location.hash=b.slides.eq(b.activeIndex).attr("data-hash")||"")}},b.disableKeyboardControl=function(){b.params.keyboardControl=!1,a(document).off("keydown",p)},b.enableKeyboardControl=function(){b.params.keyboardControl=!0,a(document).on("keydown",p)},b.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},b.params.mousewheelControl){try{new window.WheelEvent("wheel"),b.mousewheel.event="wheel"}catch(N){(window.WheelEvent||b.container[0]&&"wheel"in b.container[0])&&(b.mousewheel.event="wheel")}!b.mousewheel.event&&window.WheelEvent,b.mousewheel.event||void 0===document.onmousewheel||(b.mousewheel.event="mousewheel"),b.mousewheel.event||(b.mousewheel.event="DOMMouseScroll")}b.disableMousewheelControl=function(){return b.mousewheel.event?(b.container.off(b.mousewheel.event,d),!0):!1},b.enableMousewheelControl=function(){return b.mousewheel.event?(b.container.on(b.mousewheel.event,d),!0):!1},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){u(this,b.progress)}),b.slides.each(function(){var e=a(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);u(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=a(this),r=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),t.transition(r)})}},b._plugins=[];for(var R in b.plugins){var W=b.plugins[R](b,b.params[R]);W&&b._plugins.push(W)}return b.callPlugins=function(e){for(var a=0;a<b._plugins.length;a++)e in b._plugins[a]&&b._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(b.emitterEventListeners[e])for(a=0;a<b.emitterEventListeners[e].length;a++)b.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,a){return e=c(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(a),b},b.off=function(e,a){var t;if(e=c(e),"undefined"==typeof a)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t]===a&&b.emitterEventListeners[e].splice(t,1);
return b}},b.once=function(e,a){e=c(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,t)};return b.on(e,t),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(a(e.target).is(b.params.nextButton)?(b.onClickNext(e),b.isEnd?b.a11y.notify(b.params.lastSlideMessage):b.a11y.notify(b.params.nextSlideMessage)):a(e.target).is(b.params.prevButton)&&(b.onClickPrev(e),b.isBeginning?b.a11y.notify(b.params.firstSlideMessage):b.a11y.notify(b.params.prevSlideMessage)),a(e.target).is("."+b.params.bulletClass)&&a(e.target)[0].click())},liveRegion:a('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=b.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),a(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var e=a(this);b.a11y.makeFocusable(e),b.a11y.addRole(e,"button"),b.a11y.addLabel(e,b.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&a(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&a(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,a){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),a&&b.cleanupStyles(),b.disconnectObservers(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.emit("onDestroy"),e!==!1&&(b=null)},b.init(),b}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||i||r,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var r=[],i=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var s,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,i=0;i<n.childNodes.length;i++)r.push(n.childNodes[i])}else for(s=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],i=0;i<s.length;i++)s[i]&&r.push(s[i])}else if(a.nodeType||a===window||a===document)r.push(a);else if(a.length>0&&a[0].nodeType)for(i=0;i<a.length;i++)r.push(a[i]);return new e(r)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.remove(a[t]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var r in e)this[t][r]=e[r],this[t].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if("undefined"!=typeof a){for(var t=0;t<this.length;t++){var r=this[t];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=a}return this}if(this[0]){var i=this[0].getAttribute("data-"+e);return i?i:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,r,i){function s(e){var i=e.target;if(a(i).is(t))r.call(i,e);else for(var s=a(i).parents(),n=0;n<s.length;n++)a(s[n]).is(t)&&r.call(s[n],e)}var n,o,l=e.split(" ");for(n=0;n<this.length;n++)if("function"==typeof t||t===!1)for("function"==typeof t&&(r=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++)this[n].addEventListener(l[o],r,i);else for(o=0;o<l.length;o++)this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:r,liveListener:s}),this[n].addEventListener(l[o],s,i);return this},off:function(e,a,t,r){for(var i=e.split(" "),s=0;s<i.length;s++)for(var n=0;n<this.length;n++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],r=arguments[2]||!1),this[n].removeEventListener(i[s],t,r);else if(this[n].dom7LiveListeners)for(var o=0;o<this[n].dom7LiveListeners.length;o++)this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(i[s],this[n].dom7LiveListeners[o].liveListener,r);return this},once:function(e,a,t,r){function i(n){t(n),s.off(e,a,i,r)}var s=this;"function"==typeof a&&(a=!1,t=arguments[1],r=arguments[2]),s.on(e,a,i,r)},trigger:function(e,a){for(var t=0;t<this.length;t++){var r;try{r=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=a}this[t].dispatchEvent(r)}return this},transitionEnd:function(e){function a(s){if(s.target===this)for(e.call(this,s),t=0;t<r.length;t++)i.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<r.length;t++)i.on(r[t],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,r=e.clientTop||t.clientTop||0,i=e.clientLeft||t.clientLeft||0,s=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+s-r,left:a.left+n-i}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var r in e)this[t].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var a=0;a<this.length;a++)this[a].textContent=e;return this},is:function(t){if(!this[0])return!1;var r,i;if("string"==typeof t){var s=this[0];if(s===document)return t===document;if(s===window)return t===window;if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector)return s.mozMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(r=a(t),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(r=t.nodeType?[t]:t,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}},eq:function(a){if("undefined"==typeof a)return this;var t,r=this.length;return a>r-1?new e([]):0>a?(t=r+a,new e(0>t?[]:[this[t]])):new e([this[a]])},append:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a;i.firstChild;)this[t].appendChild(i.firstChild)}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].appendChild(a[r]);else this[t].appendChild(a);return this},prepend:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a,r=i.childNodes.length-1;r>=0;r--)this[t].insertBefore(i.childNodes[r],this[t].childNodes[0])}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].insertBefore(a[r],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0]);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[r].cloneNode(!0),t[i])},insertAfter:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0].nextSibling);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[r].cloneNode(!0),t[i].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var r=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var s=i.nextElementSibling;t?a(s).is(t)&&r.push(s):r.push(s),i=s}return new e(r)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var r=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var s=i.previousElementSibling;t?a(s).is(t)&&r.push(s):r.push(s),i=s}return new e(r)},parent:function(e){for(var t=[],r=0;r<this.length;r++)e?a(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)e?a(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(a),s=0;s<i.length;s++)t.push(i[s]);return new e(t)},children:function(t){for(var r=[],i=0;i<this.length;i++)for(var s=this[i].childNodes,n=0;n<s.length;n++)t?1===s[n].nodeType&&a(s[n]).is(t)&&r.push(s[n]):1===s[n].nodeType&&r.push(s[n]);return new e(a.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,r=this;for(e=0;e<arguments.length;e++){var i=a(arguments[e]);for(t=0;t<i.length;t++)r[r.length]=i[t],r.length++}return r}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)-1===a.indexOf(e[t])&&a.push(e[t]);return a},a}()),i=["jQuery","Zepto","Dom7"],s=0;s<i.length;s++)window[i[s]]&&e(window[i[s]]);var n;n="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,n&&("transitionEnd"in n.fn||(n.fn.transitionEnd=function(e){function a(s){if(s.target===this)for(e.call(this,s),t=0;t<r.length;t++)i.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<r.length;t++)i.on(r[t],a);return this}),"transform"in n.fn||(n.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in n.fn||(n.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper});(function($,r){var h,n=Array.prototype.slice,t=decodeURIComponent,a=$.param,j,c,m,y,b=$.bbq=$.bbq||{},s,x,k,e=$.event.special,d="hashchange",B="querystring",F="fragment",z="elemUrlAttr",l="href",w="src",p=/^.*\?|#.*$/g,u,H,g,i,C,E={};function G(I){return typeof I==="string"}function D(J){var I=n.call(arguments,1);return function(){return J.apply(this,I.concat(n.call(arguments)))}}function o(I){return I.replace(H,"$2")}function q(I){return I.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(K,P,I,L,J){var R,O,N,Q,M;if(L!==h){N=I.match(K?H:/^([^#?]*)\??([^#]*)(#?.*)/);M=N[3]||"";if(J===2&&G(L)){O=L.replace(K?u:p,"")}else{Q=m(N[2]);L=G(L)?m[K?F:B](L):L;O=J===2?L:J===1?$.extend({},L,Q):$.extend({},Q,L);O=j(O);if(K){O=O.replace(g,t)}}R=N[1]+(K?C:O||!N[1]?"?":"")+O+M}else{R=P(I!==h?I:location.href)}return R}a[B]=D(f,0,q);a[F]=c=D(f,1,o);a.sorted=j=function(J,K){var I=[],L={};$.each(a(J,K).split("&"),function(P,M){var O=M.replace(/(?:%5B|=).*$/,""),N=L[O];if(!N){N=L[O]=[];I.push(O)}N.push(M)});return $.map(I.sort(),function(M){return L[M]}).join("&")};c.noEscape=function(J){J=J||"";var I=$.map(J.split(""),encodeURIComponent);g=new RegExp(I.join("|"),"g")};c.noEscape(",/");c.ajaxCrawlable=function(I){if(I!==h){if(I){u=/^.*(?:#!|#)/;H=/^([^#]*)(?:#!|#)?(.*)$/;C="#!"}else{u=/^.*#/;H=/^([^#]*)#?(.*)$/;C="#"}i=!!I}return i};c.ajaxCrawlable(0);$.deparam=m=function(L,I){var K={},J={true:!0,false:!1,null:null};$.each(L.replace(/\+/g," ").split("&"),function(O,T){var N=T.split("="),S=t(N[0]),M,R=K,P=0,U=S.split("]["),Q=U.length-1;if(/\[/.test(U[0])&&/\]$/.test(U[Q])){U[Q]=U[Q].replace(/\]$/,"");U=U.shift().split("[").concat(U);Q=U.length-1}else{Q=0}if(N.length===2){M=t(N[1]);if(I){M=M&&!isNaN(M)?+M:M==="undefined"?h:J[M]!==h?J[M]:M}if(Q){for(;P<=Q;P++){S=U[P]===""?R.length:U[P];R=R[S]=P<Q?R[S]||(U[P+1]&&isNaN(U[P+1])?{}:[]):M}}else{if($.isArray(K[S])){K[S].push(M)}else{if(K[S]!==h){K[S]=[K[S],M]}else{K[S]=M}}}}else{if(S){K[S]=I?h:""}}});return K};function A(K,I,J){if(I===h||typeof I==="boolean"){J=I;I=a[K?F:B]()}else{I=G(I)?I.replace(K?u:p,""):I}return m(I,J)}m[B]=D(A,0);m[F]=y=D(A,1);$[z]||($[z]=function(I){return $.extend(E,I)})({a:l,base:l,iframe:w,img:w,input:w,form:"action",link:l,script:w});k=$[z];function v(L,J,K,I){if(!G(K)&&typeof K!=="object"){I=K;K=J;J=h}return this.each(function(){var O=$(this),M=J||k()[(this.nodeName||"").toLowerCase()]||"",N=M&&O.attr(M)||"";O.attr(M,a[L](N,K,I))})}$.fn[B]=D(v,B);$.fn[F]=D(v,F);b.pushState=s=function(L,I){if(G(L)&&/^#/.test(L)&&I===h){I=2}var K=L!==h,J=c(location.href,K?L:{},K?I:2);location.href=J};b.getState=x=function(I,J){return I===h||typeof I==="boolean"?y(I):y(J)[I]};b.removeState=function(I){var J={};if(I!==h){J=x();$.each($.isArray(I)?I:arguments,function(L,K){delete J[K]})}s(J,2)};e[d]=$.extend(e[d],{add:function(I){var K;function J(M){var L=M[F]=c();M.getState=function(N,O){return N===h||typeof N==="boolean"?m(L,N):m(L,O)[N]};K.apply(this,arguments)}if($.isFunction(I)){K=I;return J}else{K=I.handler;I.handler=J}}})})(jQuery,this);(function(e,t,n){"$:nomunge";function f(e){e=e||location.href;return"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var r="hashchange",i=document,s,o=e.event.special,u=i.documentMode,a="on"+r in t&&(u===n||u>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)};e.fn[r].delay=50;o[r]=e.extend(o[r],{setup:function(){if(a){return false}e(s.start)},teardown:function(){if(a){return false}e(s.stop)}});s=function(){function p(){var n=f(),i=h(u);if(n!==u){c(u=n,i);e(t).trigger(r)}else if(i!==u){location.href=location.href.replace(/#.*/,"")+i}o=setTimeout(p,e.fn[r].delay)}var s={},o,u=f(),l=function(e){return e},c=l,h=l;s.start=function(){o||p()};s.stop=function(){o&&clearTimeout(o);o=n};navigator.appName==="Microsoft Internet Explorer"&&!a&&function(){var t,n;s.start=function(){if(!t){n=e.fn[r].src;n=n&&n+f();t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||c(f());p()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow;i.onpropertychange=function(){try{if(event.propertyName==="title"){t.document.title=i.title}}catch(e){}}}};s.stop=l;h=function(){return f(t.location.href)};c=function(n,s){var o=t.document,u=e.fn[r].domain;if(n!==s){o.title=i.title;o.open();u&&o.write('<script>document.domain="'+u+'"</script>');o.close();t.location.hash=n}}}();return s}()})(jQuery,this);!function(r,n){function t(r,n,t){var e=f[n.type]||{};return null==r?t||!n.def?null:n.def:(r=e.floor?~~r:parseFloat(r),isNaN(r)?n.def:e.mod?(r+e.mod)%e.mod:0>r?0:e.max<r?e.max:r)}function e(n){var t=l(),e=t._rgba=[];return n=n.toLowerCase(),h(u,function(r,o){var a,s=o.re.exec(n),i=s&&o.parse(s),u=o.space||"rgba";return i?(a=t[u](i),t[c[u].cache]=a[c[u].cache],e=t._rgba=a._rgba,!1):void 0}),e.length?("0,0,0,0"===e.join()&&r.extend(e,a.transparent),t):a[n]}function o(r,n,t){return t=(t+1)%1,1>6*t?r+(n-r)*t*6:1>2*t?n:2>3*t?r+(n-r)*(2/3-t)*6:r}var a,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",i=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],l=r.Color=function(n,t,e,o){return new r.Color.fn.parse(n,t,e,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=l.support={},d=r("<p>")[0],h=r.each;d.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=d.style.backgroundColor.indexOf("rgba")>-1,h(c,function(r,n){n.cache="_"+r,n.props.alpha={idx:3,type:"percent",def:1}}),l.fn=r.extend(l.prototype,{parse:function(o,s,i,u){if(o===n)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=r(o).css(s),s=n);var f=this,p=r.type(o),d=this._rgba=[];return s!==n&&(o=[o,s,i,u],p="array"),"string"===p?this.parse(e(o)||a._default):"array"===p?(h(c.rgba.props,function(r,n){d[n.idx]=t(o[n.idx],n)}),this):"object"===p?(o instanceof l?h(c,function(r,n){o[n.cache]&&(f[n.cache]=o[n.cache].slice())}):h(c,function(n,e){var a=e.cache;h(e.props,function(r,n){if(!f[a]&&e.to){if("alpha"===r||null==o[r])return;f[a]=e.to(f._rgba)}f[a][n.idx]=t(o[r],n,!0)}),f[a]&&r.inArray(null,f[a].slice(0,3))<0&&(f[a][3]=1,e.from&&(f._rgba=e.from(f[a])))}),this):void 0},is:function(r){var n=l(r),t=!0,e=this;return h(c,function(r,o){var a,s=n[o.cache];return s&&(a=e[o.cache]||o.to&&o.to(e._rgba)||[],h(o.props,function(r,n){return null!=s[n.idx]?t=s[n.idx]===a[n.idx]:void 0})),t}),t},_space:function(){var r=[],n=this;return h(c,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var e=l(r),o=e._space(),a=c[o],s=0===this.alpha()?l("transparent"):this,i=s[a.cache]||a.to(s._rgba),u=i.slice();return e=e[a.cache],h(a.props,function(r,o){var a=o.idx,s=i[a],l=e[a],c=f[o.type]||{};null!==l&&(null===s?u[a]=l:(c.mod&&(l-s>c.mod/2?s+=c.mod:s-l>c.mod/2&&(s-=c.mod)),u[a]=t((l-s)*n+s,o)))}),this[o](u)},blend:function(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),o=l(n)._rgba;return l(r.map(t,function(r,n){return(1-e)*o[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null==r?n>2?1:0:r});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join()+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&3>n&&(r=Math.round(100*r)+"%"),r});return 1===t[3]&&(t.pop(),n="hsl("),n+t.join()+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r){return r=(r||0).toString(16),1===r.length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n,t,e=r[0]/255,o=r[1]/255,a=r[2]/255,s=r[3],i=Math.max(e,o,a),u=Math.min(e,o,a),l=i-u,c=i+u,f=.5*c;return n=u===i?0:e===i?60*(o-a)/l+360:o===i?60*(a-e)/l+120:60*(e-o)/l+240,t=0===l?0:.5>=f?l/c:l/(2-c),[Math.round(n)%360,t,f,null==s?1:s]},c.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],a=r[3],s=.5>=e?e*(1+t):e+t-e*t,i=2*e-s;return[Math.round(255*o(i,s,n+1/3)),Math.round(255*o(i,s,n)),Math.round(255*o(i,s,n-1/3)),a]},h(c,function(e,o){var a=o.props,s=o.cache,u=o.to,c=o.from;l.fn[e]=function(e){if(u&&!this[s]&&(this[s]=u(this._rgba)),e===n)return this[s].slice();var o,i=r.type(e),f="array"===i||"object"===i?e:arguments,p=this[s].slice();return h(a,function(r,n){var e=f["object"===i?r:n.idx];null==e&&(e=p[n.idx]),p[n.idx]=t(e,n)}),c?(o=l(c(p)),o[s]=p,o):l(p)},h(a,function(n,t){l.fn[n]||(l.fn[n]=function(o){var a,s=r.type(o),u="alpha"===n?this._hsla?"hsla":"rgba":e,l=this[u](),c=l[t.idx];return"undefined"===s?c:("function"===s&&(o=o.call(this,c),s=r.type(o)),null==o&&t.empty?this:("string"===s&&(a=i.exec(o),a&&(o=c+parseFloat(a[2])*("+"===a[1]?1:-1))),l[t.idx]=o,this[u](l)))})})}),l.hook=function(n){var t=n.split(" ");h(t,function(n,t){r.cssHooks[t]={set:function(n,o){var a,s,i="";if("transparent"!==o&&("string"!==r.type(o)||(a=e(o)))){if(o=l(a||o),!p.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===t?n.parentNode:n;(""===i||"transparent"===i)&&s&&s.style;)try{i=r.css(s,"backgroundColor"),s=s.parentNode}catch(u){}o=o.blend(i&&"transparent"!==i?i:"_default")}o=o.toRgbaString()}try{n.style[t]=o}catch(u){}}},r.fx.step[t]=function(n){n.colorInit||(n.start=l(n.elem,t),n.end=l(n.end),n.colorInit=!0),r.cssHooks[t].set(n.elem,n.start.transition(n.end,n.pos))}})},l.hook(s),r.cssHooks.borderColor={expand:function(r){var n={};return h(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=r}),n}},a=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return f({type:O.error,iconClass:g().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=g()),v=e("#"+t.containerId),v.length?v:(n&&(v=c(t)),v)}function i(e,t,n){return f({type:O.info,iconClass:g().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){w=e}function s(e,t,n){return f({type:O.success,iconClass:g().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return f({type:O.warning,iconClass:g().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e){var t=g();v||n(t),l(e,t)||u(t)}function d(t){var i=g();return v||n(i),t&&0===e(":focus",t).length?void h(t):void(v.children().length&&v.remove())}function u(t){for(var n=v.children(),i=n.length-1;i>=0;i--)l(e(n[i]),t)}function l(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0):!1}function c(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function m(e){w&&w(e)}function f(t){function i(t){return!e(":focus",l).length||t?(clearTimeout(O.intervalId),l[r.hideMethod]({duration:r.hideDuration,easing:r.hideEasing,complete:function(){h(l),r.onHidden&&"hidden"!==b.state&&r.onHidden(),b.state="hidden",b.endTime=new Date,m(b)}})):void 0}function o(){(r.timeOut>0||r.extendedTimeOut>0)&&(u=setTimeout(i,r.extendedTimeOut),O.maxHideTime=parseFloat(r.extendedTimeOut),O.hideEta=(new Date).getTime()+O.maxHideTime)}function s(){clearTimeout(u),O.hideEta=0,l.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function a(){var e=(O.hideEta-(new Date).getTime())/O.maxHideTime*100;f.width(e+"%")}var r=g(),d=t.iconClass||r.iconClass;if("undefined"!=typeof t.optionsOverride&&(r=e.extend(r,t.optionsOverride),d=t.optionsOverride.iconClass||d),r.preventDuplicates){if(t.message===C)return;C=t.message}T++,v=n(r,!0);var u=null,l=e("<div/>"),c=e("<div/>"),p=e("<div/>"),f=e("<div/>"),w=e(r.closeHtml),O={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:T,state:"visible",startTime:new Date,options:r,map:t};return t.iconClass&&l.addClass(r.toastClass).addClass(d),t.title&&(c.append(t.title).addClass(r.titleClass),l.append(c)),t.message&&(p.append(t.message).addClass(r.messageClass),l.append(p)),r.closeButton&&(w.addClass("toast-close-button").attr("role","button"),l.prepend(w)),r.progressBar&&(f.addClass("toast-progress"),l.prepend(f)),l.hide(),r.newestOnTop?v.prepend(l):v.append(l),l[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(u=setTimeout(i,r.timeOut),O.maxHideTime=parseFloat(r.timeOut),O.hideEta=(new Date).getTime()+O.maxHideTime,r.progressBar&&(O.intervalId=setInterval(a,10))),l.hover(s,o),!r.onclick&&r.tapToDismiss&&l.click(i),r.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),i(!0)}),r.onclick&&l.click(function(){r.onclick(),i()}),m(b),r.debug&&console&&console.log(b),l}function g(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),C=void 0))}var v,w,C,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:d,error:t,getContainer:n,info:i,options:{},subscribe:o,success:s,version:"2.1.0",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t["offset"+i]?t["offset"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i);
},e=this.width=i(t.canvas,"Width"),n=this.height=i(t.canvas,"Height");t.canvas.width=e,t.canvas.height=n;var e=this.width=t.canvas.width,n=this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,S=Math.round(f/v)}else v/=2,S=Math.round(f/v);return h&&(S=o,v=f/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),w=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),b=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),L=(s.animationLoop=function(t,i,e,s,n,o){var a=0,h=w[e]||w.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=b(l):n.apply(o)};b(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),k=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},F=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},L(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){k(t.chart.canvas,e,i)})}),R=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},T=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+" "+t+"px "+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return P(this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=R(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:T(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{
y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(Math.abs(t)/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);window.Modernizr=function(e,t,n){function r(e){p.cssText=e}function i(e,t){return r(prefixes.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}var a="2.6.2",f={},l=t.documentElement,c="modernizr",h=t.createElement(c),p=h.style,d,v={}.toString,m={},g={},y={},b=[],w=b.slice,E,S={}.hasOwnProperty,x;!s(S,"undefined")&&!s(S.call,"undefined")?x=function(e,t){return S.call(e,t)}:x=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=w.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(w.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(w.call(arguments)))};return r}),m.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")};for(var T in m)x(m,T)&&(E=T.toLowerCase(),f[E]=m[T](),b.push((f[E]?"":"no-")+E));return f.addTest=function(e,t){if(typeof e=="object")for(var r in e)x(e,r)&&f.addTest(r,e[r]);else{e=e.toLowerCase();if(f[e]!==n)return f;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(l.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),h=d=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),f._version=a,f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function o(a){for(var n=new FormData,i=0;i<a.length;i++)n.append(a[i].name,a[i].value);if(t.extraData){var o=r(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:n,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(k),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action"),o="multipart/form-data",c=f.attr("enctype")||f.attr("encoding")||o;w.setAttribute("target",p),(!u||/post/i.test(u))&&w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(D)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&l.push(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(w)[0]:e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(w)[0]);m.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(h){var x=document.createElement("form").submit;x.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",c),r?w.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=k),t===D&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t==k&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);
if(l||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText));try{E=_(x,c,m)}catch(y){i="parsererror",x.error=r=y||i}}catch(y){a("error caught: ",y),i="error",x.error=r=y||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,E,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?v.attr("src",m.iframeSrc):v.remove(),x.responseXML=null},100)}}}var c,l,m,d,p,v,g,x,y,b,T,j,w=f[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)c=e(h[l]),i?c.prop("disabled",!1):c.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),b=v.attr2("name"),b?p=b:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(m.extraData=m.extraData||{},m.extraData[b]=y.value,"image"==y.type&&(m.extraData[b+".x"]=w.clk_x,m.extraData[b+".y"]=w.clk_y)));var D=1,k=2,A=e("meta[name=csrf-token]").attr("content"),L=e("meta[name=csrf-param]").attr("content");L&&A&&(m.extraData=m.extraData||{},m.extraData[L]=A),m.forceSync?o():setTimeout(o,10);var E,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var u,c,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),c=t.url||this.attr2("action"),l="string"==typeof c?e.trim(c):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(y,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++)x[i].apply(n,[e,r,a||f,f])},t.error){var b=t.error;t.error=function(e,r,a){var n=t.context||this;b.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=j.length>0,S="multipart/form-data",D=f.attr("enctype")==S||f.attr("encoding")==S,k=n.fileapi&&n.formdata;a("fileAPI :"+k);var A,L=(w||D)&&!k;t.iframe!==!1&&(t.iframe||L)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||D)&&k?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var i,o=this[0],s=this.attr("id"),u=t?o.getElementsByTagName("*"):o.elements;if(u&&!/MSIE [678]/.test(navigator.userAgent)&&(u=e(u).get()),s&&(i=e(':input[form="'+s+'"]').get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return a;var c,l,f,m,d,p,h;for(c=0,p=u.length;p>c;c++)if(d=u[c],f=d.name,f&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:f,value:v[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&o.clk){var g=e(o.clk),x=g[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:g.val()}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],u=t.options,c="select-one"==n,l=c?o+1:u.length,f=c?o:0;l>f;f++){var m=u[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});!function($){var e=!0;$.flexslider=function(t,a){var n=$(t);n.vars=$.extend({},$.flexslider.defaults,a);var i=n.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,o="click touchend MSPointerUp keyup",l="",c,d="vertical"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={};$.data(t,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=$(n.vars.selector,n),n.container=$(n.containerSelector,n),n.count=n.slides.length,n.syncExists=$(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=$(n.vars.controlsContainer).length>0&&$(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=$(n.vars.manualControls).length>0&&$(n.vars.manualControls)),""!==n.vars.customDirectionNav&&(n.customDirectionNav=2===$(n.vars.customDirectionNav).length&&$(n.vars.customDirectionNav)),
n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===$(n.containerSelector).length||n.vars.multipleKeyboard)&&$(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=39===t?n.getTarget("next"):37===t?n.getTarget("prev"):!1;n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t,a,i){e.preventDefault();var s=0>t?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(s,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),r&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&$(window).bind("resize orientationchange focus",f.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(i+"active-slide").eq(n.currentItem).addClass(i+"active-slide"),s?(t._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=$(this),a=t.index();$(n.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(o,function(e){e.preventDefault();var t=$(this),a=t.index(),s=t.offset().left-$(n).scrollLeft();0>=s&&t.hasClass(i+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):$(n.vars.asNavFor).data("flexslider").animating||t.hasClass(i+"active-slide")||(n.direction=n.currentItem<a?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",t=1,a,s;if(n.controlNavScaffold=$('<ol class="'+i+"control-nav "+i+e+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){if(s=n.slides.eq(r),void 0===s.attr("data-thumb-alt")&&s.attr("data-thumb-alt",""),altText=""!==s.attr("data-thumb-alt")?altText=' alt="'+s.attr("data-thumb-alt")+'"':"",a="thumbnails"===n.vars.controlNav?'<img src="'+s.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+t+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var c=s.attr("data-thumbcaption");""!==c&&void 0!==c&&(a+='<span class="'+i+'caption">'+c+"</span>")}n.controlNavScaffold.append('<li data-animate="zoomIn" data-delay="'+r*200+'">'+a+"</li>"),t++}n.controlsContainer?$(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(n.direction=a>n.currentSlide?"next":"prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(o,function(e){if(e.preventDefault(),""===l||l===e.type){var t=$(this),a=n.controlNav.index(t);t.hasClass(i+"active")||(a>n.currentSlide?n.direction="next":n.direction="prev",n.flexAnimate(a,n.vars.pauseOnAction))}""===l&&(l=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=$("."+i+"control-nav li "+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(i+"active").eq(n.animatingTo).addClass(i+"active")},update:function(e,t){n.pagingCount>1&&"add"===e?n.controlNavScaffold.append($('<li><a href="#">'+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(t).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(t,e):f.controlNav.active()}},directionNav:{setup:function(){var e=$('<ul class="'+i+'direction-nav"><li class="'+i+'nav-prev"><a class="'+i+'prev" href="#">'+n.vars.prevText+'</a></li><li class="'+i+'nav-next"><a class="'+i+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.customDirectionNav?n.directionNav=n.customDirectionNav:n.controlsContainer?($(n.controlsContainer).append(e),n.directionNav=$("."+i+"direction-nav li a",n.controlsContainer)):(n.append(e),n.directionNav=$("."+i+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(o,function(e){e.preventDefault();var t;(""===l||l===e.type)&&(t=$(this).hasClass(i+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(t,n.vars.pauseOnAction)),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=$('<div class="'+i+'pauseplay"><a href="#"></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=$("."+i+"pauseplay a",n.controlsContainer)):(n.append(e),n.pausePlay=$("."+i+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?i+"pause":i+"play"),n.pausePlay.bind(o,function(e){e.preventDefault(),(""===l||l===e.type)&&($(this).hasClass(i+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===l&&(l=e.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(i+"pause").addClass(i+"play").html(n.vars.playText):n.pausePlay.removeClass(i+"play").addClass(i+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),T=0,c=d?n.h:n.w,f=Number(new Date),l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c)}function a(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;return T+=d?i:n,m=T,x=d?Math.abs(T)<Math.abs(-n):Math.abs(T)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!x||Number(new Date)-f>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(m=T/(0===a.currentSlide&&0>T||a.currentSlide===a.last&&T>0?Math.abs(T)/c+2:1)),a.setProps(l+m,"setTouch"))))}}function i(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!x&&null!==m){var a=u?-m:m,n=a>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}r=null,o=null,m=null,l=null,T=0}}var r,o,l,c,m,f,g,h,S,x=!1,y=0,b=0,T=0;s?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=n,t.addEventListener("MSGestureChange",a,!1),t.addEventListener("MSGestureEnd",i,!1)):(g=function(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),c=d?n.h:n.w,f=Number(new Date),y=e.touches[0].pageX,b=e.touches[0].pageY,l=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*c:(n.currentSlide+n.cloneOffset)*c,r=d?b:y,o=d?y:b,t.addEventListener("touchmove",h,!1),t.addEventListener("touchend",S,!1))},h=function(e){y=e.touches[0].pageX,b=e.touches[0].pageY,m=d?r-b:r-y,x=d?Math.abs(m)<Math.abs(y-o):Math.abs(m)<Math.abs(b-o);var t=500;(!x||Number(new Date)-f>t)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(m/=0===n.currentSlide&&0>m||n.currentSlide===n.last&&m>0?Math.abs(m)/c+2:1),n.setProps(l+m,"setTouch")))},S=function(e){if(t.removeEventListener("touchmove",h,!1),n.animatingTo===n.currentSlide&&!x&&null!==m){var a=u?-m:m,i=a>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(a)>50||Math.abs(a)>c/2)?n.flexAnimate(i,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",S,!1),r=null,o=null,m=null,l=null},t.addEventListener("touchstart",g,!1))},resize:function(){!n.animating&&n.is(":visible")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(e){var t=$(n.vars.sync).data("flexslider"),a=n.animatingTo;switch(e){case"animate":t.flexAnimate(a,n.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=$(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(c),c=setTimeout(function(){l=""},3e3)}},n.flexAnimate=function(e,t,a,s,o){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<e?"next":"prev"),!n.animating&&(n.canAdvance(e,o)||a)&&n.is(":visible")){if(m&&s){var l=$(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===e||e===n.count-1,l.flexAnimate(e,!0,!1,!0,o),n.direction=n.currentItem<e?"next":"prev",l.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),!1;n.currentItem=e,n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,t&&n.pause(),n.vars.before(n),n.syncExists&&!o&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(i+"active-slide").eq(e).addClass(i+"active-slide"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&f.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(c)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var c=d?n.slides.filter(":first").height():n.computedW,g,h,S;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*c:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*c:u?(n.count-1-e+n.cloneOffset)*c:(e+n.cloneOffset)*c,n.setProps(h,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(c)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(c)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(c)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&e&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return t?!0:m&&n.currentItem===n.count-1&&0===e&&"prev"===n.direction?!0:m&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||m?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===a&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===a&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,i=function(){if(v)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return u?e:e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}();return-1*i+"px"}();n.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",a=void 0!==a?a/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",a),n.container.css("transition-duration",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(e){if(p)n.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(r?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var t,a;"init"===e&&(n.viewport=$('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(a=$.makeArray(n.slides).reverse(),n.slides=$(a),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,"init"!==e&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=$(n.vars.selector,n),t=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(t*n.h,"init")},"init"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(t*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,marginRight:n.computedM,float:"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}v||n.slides.removeClass(i+"active-slide").eq(n.currentSlide).addClass(i+"active-slide"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.itemM=t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.itemM=t,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding,n.computedM=n.itemM},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(e,t){var a=$(e);n.count+=1,n.last=n.count-1,d&&u?void 0!==t?n.slides.eq(n.count-t).after(a):n.container.prepend(a):void 0!==t?n.slides.eq(t).before(a):n.container.append(a),n.update(t,"add"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var t=isNaN(e)?n.slides.index($(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?$(e,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(t,"remove"),n.slides=$(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},$(window).blur(function(t){e=!1}).focus(function(t){e=!0}),$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},$.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var t=$(this),a=e.selector?e.selector:".slides > li",n=t.find(a);1===n.length&&e.allowOneSlide===!0||0===n.length?(n.fadeIn(400),e.start&&e.start(t)):void 0===t.data("flexslider")&&new $.flexslider(this,e)});var t=$(this).data("flexslider");switch(e){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof e&&t.flexAnimate(e,!0)}}}(jQuery);(function($){$.fn.pajinate=function(options){var current_page="current_page";var items_per_page="items_per_page";var meta;var defaults={item_container_id:".content",items_per_page:10,nav_panel_id:".page_navigation",nav_info_id:".info_text",num_page_links_to_display:20,start_page:0,wrap_around:false,nav_label_first:"First",nav_label_prev:"Prev",nav_label_next:"Next",nav_label_last:"Last",nav_order:["first","prev","num","next","last"],nav_label_info:"Showing {0}-{1} of {2} results",show_first_last:true,abort_on_small_lists:false,jquery_ui:false,jquery_ui_active:"ui-state-highlight",jquery_ui_default:"ui-state-default",jquery_ui_disabled:"ui-state-disabled"};var options=$.extend(defaults,options);var $item_container;var $page_container;var $items;var $nav_panels;var total_page_no_links;var jquery_ui_default_class=options.jquery_ui?options.jquery_ui_default:"";var jquery_ui_active_class=options.jquery_ui?options.jquery_ui_active:"";var jquery_ui_disabled_class=options.jquery_ui?options.jquery_ui_disabled:"";return this.each(function(){$page_container=$(this);$item_container=$(this).find(options.item_container_id);$items=$page_container.find(options.item_container_id).children();if(options.abort_on_small_lists&&options.items_per_page>=$items.size()){return $page_container}meta=$page_container;meta.data(current_page,0);meta.data(items_per_page,options.items_per_page);var total_items=$item_container.children().size();var number_of_pages=Math.ceil(total_items/options.items_per_page);var more='<li class="disabled ellipse more"><span>...</span></li>';var less='<li class="disabled ellipse less"><span>...</span></li>';var first=!options.show_first_last?"":'<li class="first_link '+jquery_ui_default_class+'"><a href="#">'+options.nav_label_first+"</a></li>";var last=!options.show_first_last?"":'<li class="last_link '+jquery_ui_default_class+'"><a href="#">'+options.nav_label_last+"</a></li>";var navigation_html="";for(var i=0;i<options.nav_order.length;i++){switch(options.nav_order[i]){case"first":navigation_html+=first;break;case"last":navigation_html+=last;break;case"next":navigation_html+='<li class="next_link '+jquery_ui_default_class+'"><a href="#">'+options.nav_label_next+"</a></li>";break;case"prev":navigation_html+='<li class="previous_link '+jquery_ui_default_class+'"><a href="#">'+options.nav_label_prev+"</a></li>";break;case"num":navigation_html+=less;var current_link=0;while(number_of_pages>current_link){navigation_html+='<li class="page_link '+jquery_ui_default_class+'" longdesc="'+current_link+'"><a href="#">'+(current_link+1)+"</a></li>";current_link++}navigation_html+=more;break;default:break}}$nav_panels=$page_container.find(options.nav_panel_id);$nav_panels.html(navigation_html).each(function(){$(this).find(".page_link:first").addClass("first");$(this).find(".page_link:last").addClass("last")});$nav_panels.children(".ellipse").hide();$nav_panels.find(".previous_link").next().next().addClass("active "+jquery_ui_active_class);$items.hide();$items.slice(0,meta.data(items_per_page)).show();total_page_no_links=$page_container.find(options.nav_panel_id+":first").children(".page_link").size();options.num_page_links_to_display=Math.min(options.num_page_links_to_display,total_page_no_links);$nav_panels.children(".page_link").hide();$nav_panels.each(function(){$(this).children(".page_link").slice(0,options.num_page_links_to_display).show()});$page_container.find(".first_link").click(function(e){e.preventDefault();movePageNumbersRight($(this),0);gotopage(0)});$page_container.find(".last_link").click(function(e){e.preventDefault();var lastPage=total_page_no_links-1;movePageNumbersLeft($(this),lastPage);gotopage(lastPage)});$page_container.find(".previous_link").click(function(e){e.preventDefault();showPrevPage($(this))});$page_container.find(".next_link").click(function(e){e.preventDefault();showNextPage($(this))});$page_container.find(".page_link").click(function(e){e.preventDefault();gotopage($(this).attr("longdesc"))});gotopage(parseInt(options.start_page));toggleMoreLess();if(!options.wrap_around){tagNextPrev()}});function showPrevPage(e){new_page=parseInt(meta.data(current_page))-1;if($(e).siblings(".active").prev(".page_link").length==true){movePageNumbersRight(e,new_page);gotopage(new_page)}else{if(options.wrap_around){gotopage(total_page_no_links-1)}}}function showNextPage(e){new_page=parseInt(meta.data(current_page))+1;if($(e).siblings(".active").next(".page_link").length==true){movePageNumbersLeft(e,new_page);gotopage(new_page)}else{if(options.wrap_around){gotopage(0)}}}function gotopage(page_num){page_num=parseInt(page_num,10);var ipp=parseInt(meta.data(items_per_page));start_from=page_num*ipp;end_on=start_from+ipp;var items=$items.hide().slice(start_from,end_on);items.fadeIn(700);$page_container.find(options.nav_panel_id).children(".page_link[longdesc="+page_num+"]").addClass("active "+jquery_ui_active_class).siblings(".active").removeClass("active "+jquery_ui_active_class);meta.data(current_page,page_num);var $current_page=parseInt(meta.data(current_page)+1);var total_items=$item_container.children().size();var $number_of_pages=Math.ceil(total_items/options.items_per_page);$page_container.find(options.nav_info_id).html(options.nav_label_info.replace("{0}",start_from+1).replace("{1}",start_from+items.length).replace("{2}",$items.length).replace("{3}",$current_page).replace("{4}",$number_of_pages));toggleMoreLess();tagNextPrev();if(typeof options.onPageDisplayed!=="undefined"){options.onPageDisplayed.call(this,page_num+1)}}function movePageNumbersLeft(e,new_p){var new_page=new_p;var $current_active_link=$(e).siblings(".active");if($current_active_link.siblings(".page_link[longdesc="+new_page+"]").css("display")=="none"){$nav_panels.each(function(){$(this).children(".page_link").hide().slice(parseInt(new_page-options.num_page_links_to_display+1),new_page+1).show()})}}function movePageNumbersRight(e,new_p){var new_page=new_p;var $current_active_link=$(e).siblings(".active");if($current_active_link.siblings(".page_link[longdesc="+new_page+"]").css("display")=="none"){$nav_panels.each(function(){$(this).children(".page_link").hide().slice(new_page,new_page+parseInt(options.num_page_links_to_display)).show()})}}function toggleMoreLess(){}function tagNextPrev(){if($nav_panels.children(".last").hasClass("active")){$nav_panels.children(".next_link").add(".last_link").addClass("no_more "+jquery_ui_disabled_class)}else{$nav_panels.children(".next_link").add(".last_link").removeClass("no_more "+jquery_ui_disabled_class)}if($nav_panels.children(".first").hasClass("active")){$nav_panels.children(".previous_link").add(".first_link").addClass("no_more "+jquery_ui_disabled_class)}else{$nav_panels.children(".previous_link").add(".first_link").removeClass("no_more "+jquery_ui_disabled_class)}}}})(jQuery);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e,t){"use strict";e.infinitescroll=function(n,r,i){this.element=e(i);if(!this._create(n,r)){this.failed=true}};e.infinitescroll.defaults={loading:{finished:t,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",
msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:t},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,isBeyondMaxPage:false,currPage:1},debug:false,behavior:t,binder:e(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:t,dataType:"html",appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:t,path:t,prefill:false,maxPage:t};e.infinitescroll.prototype={_binding:function(n){var r=this,i=r.options;i.v="2.0b2.120520";if(!!i.behavior&&this["_binding_"+i.behavior]!==t){this["_binding_"+i.behavior].call(this);return}if(n!=="bind"&&n!=="unbind"){this._debug("Binding value  "+n+" not valid");return false}if(n==="unbind"){this.options.binder.unbind("smartscroll.infscr."+r.options.infid)}else{this.options.binder[n]("smartscroll.infscr."+r.options.infid,function(){r.scroll()})}this._debug("Binding",n)},_create:function(r,i){var s=e.extend(true,{},e.infinitescroll.defaults,r);this.options=s;var o=e(window);var u=this;if(!u._validate(r)){return false}var a=e(s.nextSelector).attr("href");if(!a){this._debug("Navigation selector not found");return false}s.path=s.path||this._determinepath(a);s.contentSelector=s.contentSelector||this.element;s.loading.selector=s.loading.selector||s.contentSelector;s.loading.msg=s.loading.msg||e('<div id="infscr-loading"><img alt="Loading..." src="'+s.loading.img+'" /><div>'+s.loading.msgText+"</div></div>");(new Image).src=s.loading.img;if(s.pixelsFromNavToBottom===t){s.pixelsFromNavToBottom=e(document).height()-e(s.navSelector).offset().top;this._debug("pixelsFromNavToBottom: "+s.pixelsFromNavToBottom)}var f=this;s.loading.start=s.loading.start||function(){e(s.navSelector).hide();s.loading.msg.appendTo(s.loading.selector).show(s.loading.speed,e.proxy(function(){this.beginAjax(s)},f))};s.loading.finished=s.loading.finished||function(){if(!s.state.isBeyondMaxPage)s.loading.msg.fadeOut(s.loading.speed)};s.callback=function(n,r,u){if(!!s.behavior&&n["_callback_"+s.behavior]!==t){n["_callback_"+s.behavior].call(e(s.contentSelector)[0],r,u)}if(i){i.call(e(s.contentSelector)[0],r,s,u)}if(s.prefill){o.bind("resize.infinite-scroll",n._prefill)}};if(r.debug){if(Function.prototype.bind&&(typeof console==="object"||typeof console==="function")&&typeof console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}}this._setup();if(s.prefill){this._prefill()}return true},_prefill:function(){function i(){return e(n.options.contentSelector).height()<=r.height()}var n=this;var r=e(window);this._prefill=function(){if(i()){n.scroll()}r.bind("resize.infinite-scroll",function(){if(i()){r.unbind("resize.infinite-scroll");n.scroll()}})};this._prefill()},_debug:function(){if(true!==this.options.debug){return}if(typeof console!=="undefined"&&typeof console.log==="function"){if(Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]==="string"){console.log(Array.prototype.slice.call(arguments).toString())}else{console.log(Array.prototype.slice.call(arguments))}}else if(!Function.prototype.bind&&typeof console!=="undefined"&&typeof console.log==="object"){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}},_determinepath:function(n){var r=this.options;if(!!r.behavior&&this["_determinepath_"+r.behavior]!==t){return this["_determinepath_"+r.behavior].call(this,n)}if(!!r.pathParse){this._debug("pathParse manual");return r.pathParse(n,this.options.state.currPage+1)}else if(n.match(/^(.*?)\b2\b(.*?$)/)){n=n.match(/^(.*?)\b2\b(.*?$)/).slice(1)}else if(n.match(/^(.*?)2(.*?$)/)){if(n.match(/^(.*?page=)2(\/.*|$)/)){n=n.match(/^(.*?page=)2(\/.*|$)/).slice(1);return n}n=n.match(/^(.*?)2(.*?$)/).slice(1)}else{if(n.match(/^(.*?page=)1(\/.*|$)/)){n=n.match(/^(.*?page=)1(\/.*|$)/).slice(1);return n}else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");r.state.isInvalidPage=true}}this._debug("determinePath",n);return n},_error:function(n){var r=this.options;if(!!r.behavior&&this["_error_"+r.behavior]!==t){this["_error_"+r.behavior].call(this,n);return}if(n!=="destroy"&&n!=="end"){n="unknown"}this._debug("Error",n);if(n==="end"||r.state.isBeyondMaxPage){this._showdonemsg()}r.state.isDone=true;r.state.currPage=1;r.state.isPaused=false;r.state.isBeyondMaxPage=false;this._binding("unbind")},_loadcallback:function(r,i,s){var o=this.options,u=this.options.callback,a=o.state.isDone?"done":!o.appendCallback?"no-append":"append",f;if(!!o.behavior&&this["_loadcallback_"+o.behavior]!==t){this["_loadcallback_"+o.behavior].call(this,r,i);return}switch(a){case"done":this._showdonemsg();return false;case"no-append":if(o.dataType==="html"){i="<div>"+i+"</div>";i=e(i).find(o.itemSelector)}if(i.length===0){return this._error("end")}break;case"append":var l=r.children();if(l.length===0){return this._error("end")}f=document.createDocumentFragment();while(r[0].firstChild){f.appendChild(r[0].firstChild)}this._debug("contentSelector",e(o.contentSelector)[0]);e(o.contentSelector)[0].appendChild(f);i=l.get();break}o.loading.finished.call(e(o.contentSelector)[0],o);if(o.animate){var c=e(window).scrollTop()+e(o.loading.msg).height()+o.extraScrollPx+"px";e("html,body").animate({scrollTop:c},800,function(){o.state.isDuringAjax=false})}if(!o.animate){o.state.isDuringAjax=false}u(this,i,s);if(o.prefill){this._prefill()}},_nearbottom:function(){var r=this.options,i=0+e(document).height()-r.binder.scrollTop()-e(window).height();if(!!r.behavior&&this["_nearbottom_"+r.behavior]!==t){return this["_nearbottom_"+r.behavior].call(this)}this._debug("math:",i,r.pixelsFromNavToBottom);return i-r.bufferPx<r.pixelsFromNavToBottom},_pausing:function(n){var r=this.options;if(!!r.behavior&&this["_pausing_"+r.behavior]!==t){this["_pausing_"+r.behavior].call(this,n);return}if(n!=="pause"&&n!=="resume"&&n!==null){this._debug("Invalid argument. Toggling pause value instead")}n=n&&(n==="pause"||n==="resume")?n:"toggle";switch(n){case"pause":r.state.isPaused=true;break;case"resume":r.state.isPaused=false;break;case"toggle":r.state.isPaused=!r.state.isPaused;break}this._debug("Paused",r.state.isPaused);return false},_setup:function(){var n=this.options;if(!!n.behavior&&this["_setup_"+n.behavior]!==t){this["_setup_"+n.behavior].call(this);return}this._binding("bind");return false},_showdonemsg:function(){var r=this.options;if(!!r.behavior&&this["_showdonemsg_"+r.behavior]!==t){this["_showdonemsg_"+r.behavior].call(this);return}r.loading.msg.find("img").hide().parent().find("div").html(r.loading.finishedMsg).animate({opacity:1},2e3,function(){e(this).parent().fadeOut(r.loading.speed)});r.errorCallback.call(e(r.contentSelector)[0],"done")},_validate:function(n){for(var r in n){if(r.indexOf&&r.indexOf("Selector")>-1&&e(n[r]).length===0){this._debug("Your "+r+" found no elements.");return false}}return true},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=true;this.options.loading.finished();return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(r){var i=this,s=r.path,o,u,a,f;r.state.currPage++;if(r.maxPage!==t&&r.state.currPage>r.maxPage){r.state.isBeyondMaxPage=true;this.destroy();return}o=e(r.contentSelector).is("table, tbody")?e("<tbody/>"):e("<div/>");u=typeof s==="function"?s(r.state.currPage):s.join(r.state.currPage);i._debug("heading into ajax",u);a=r.dataType==="html"||r.dataType==="json"?r.dataType:"html+callback";if(r.appendCallback&&r.dataType==="html"){a+="+callback"}switch(a){case"html+callback":i._debug("Using HTML via .load() method");o.load(u+" "+r.itemSelector,t,function(t){i._loadcallback(o,t,u)});break;case"html":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");e.ajax({url:u,dataType:r.dataType,complete:function(t,n){f=typeof t.isResolved!=="undefined"?t.isResolved():n==="success"||n==="notmodified";if(f){i._loadcallback(o,t.responseText,u)}else{i._error("end")}}});break;case"json":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");e.ajax({dataType:"json",type:"GET",url:u,success:function(e,n,s){f=typeof s.isResolved!=="undefined"?s.isResolved():n==="success"||n==="notmodified";if(r.appendCallback){if(r.template!==t){var a=r.template(e);o.append(a);if(f){i._loadcallback(o,a)}else{i._error("end")}}else{i._debug("template must be defined.");i._error("end")}}else{if(f){i._loadcallback(o,e,u)}else{i._error("end")}}},error:function(){i._debug("JSON ajax request failed.");i._error("end")}});break}},retrieve:function(r){r=r||null;var i=this,s=i.options;if(!!s.behavior&&this["retrieve_"+s.behavior]!==t){this["retrieve_"+s.behavior].call(this,r);return}if(s.state.isDestroyed){this._debug("Instance is destroyed");return false}s.state.isDuringAjax=true;s.loading.start.call(e(s.contentSelector)[0],s)},scroll:function(){var n=this.options,r=n.state;if(!!n.behavior&&this["scroll_"+n.behavior]!==t){this["scroll_"+n.behavior].call(this);return}if(r.isDuringAjax||r.isInvalidPage||r.isDone||r.isDestroyed||r.isPaused){return}if(!this._nearbottom()){return}this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(n){if(e.isPlainObject(n)){this.options=e.extend(true,this.options,n)}}};e.fn.infinitescroll=function(n,r){var i=typeof n;switch(i){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var t=e.data(this,"infinitescroll");if(!t){return false}if(!e.isFunction(t[n])||n.charAt(0)==="_"){return false}t[n].apply(t,s)});break;case"object":this.each(function(){var t=e.data(this,"infinitescroll");if(t){t.update(n)}else{t=new e.infinitescroll(n,r,this);if(!t.failed){e.data(this,"infinitescroll",t)}}});break}return this};var n=e.event,r;n.special.smartscroll={setup:function(){e(this).bind("scroll",n.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",n.special.smartscroll.handler)},handler:function(t,n){var i=this,s=arguments;t.type="smartscroll";if(r){clearTimeout(r)}r=setTimeout(function(){e(i).trigger("smartscroll",s)},n==="execAsap"?0:100)}};e.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}});(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,_,b,y=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),D={};return b=s(y),y[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,_=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),D[this]=[e?e[0]:0,t?t[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?_.left+=m:"center"===n.at[0]&&(_.left+=m/2),"bottom"===n.at[1]?_.top+=g:"center"===n.at[1]&&(_.top+=g/2),p=t(D.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=e(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),T=c+f+i(this,"marginRight")+w.width,S=d+b+i(this,"marginBottom")+w.height,M=e.extend({},_),N=t(D.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=c:"center"===n.my[0]&&(M.left-=c/2),"bottom"===n.my[1]?M.top-=d:"center"===n.my[1]&&(M.top-=d/2),M.left+=N[0],M.top+=N[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:T,collisionHeight:S,offset:[p[0]+N[0],p[1]+N[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-c,s=v.top-M.top,a=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:c,height:d},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};c>m&&m>r(t+i)&&(h.horizontal="center"),d>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,c=l+t.collisionWidth-o-h,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=d+p+f)):c>0&&(s=e.left-t.collisionPosition.marginLeft+d+p+f-h,(s>0||c>r(s))&&(e.left+=d+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,c=l+t.collisionHeight-o-h,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||c>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),
this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});var o="ui-effects-",r=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var c=this,d=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===d?(n instanceof l?f(u,function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!c[a]&&s.to){if("alpha"===e||null==n[e])return;c[a]=s.to(c._rgba)}c[a][t.idx]=i(n[e],t,!0)}),c[a]&&0>e.inArray(null,c[a].slice(0,3))&&(c[a][3]=1,s.from&&(c._rgba=s.from(c[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=c[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,c=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(t)%360,i,c,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),c="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(e,t){var s=c["object"===r?e:t.idx];null==s&&(s=d[t.idx]),d[t.idx]=i(s,t)}),u?(n=l(u(d)),n[o]=d,n):l(d)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(r.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(o+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(o+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),c[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})}});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);
if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){if(this.length){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d);
},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=h&&g.check(e)))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0]),d in c||!b.objectLength(a(this).rules())?!1:(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);if("function"==typeof f.normalizer){if(i=f.normalizer.call(b,i),"string"!=typeof i)throw new TypeError("The normalizer should return a string value.");delete f.normalizer}for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{boolean:function(a){return a},string:function(b,c){return!!a(b,c.form).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e=a(c).attr("type"),f="Step attribute on input type "+e+" is not supported.",g=["text","number","range"],h=new RegExp("\\b"+e+"\\b"),i=e&&!h.test(g.join());if(i)throw new Error(f);return this.optional(c)||b%d===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})});(function(){var b=true,f=false;function g(a){var c=a||{};this.d=this.c=f;if(a.visible==undefined)a.visible=b;if(a.shadow==undefined)a.shadow="7px -3px 5px rgba(88,88,88,0.7)";if(a.anchor==undefined)a.anchor=i.BOTTOM;this.setValues(c)}g.prototype=new google.maps.OverlayView;window.RichMarker=g;g.prototype.getVisible=function(){return this.get("visible")};g.prototype.getVisible=g.prototype.getVisible;g.prototype.setVisible=function(a){this.set("visible",a)};g.prototype.setVisible=g.prototype.setVisible;g.prototype.s=function(){if(this.c){this.a.style.display=this.getVisible()?"":"none";this.draw()}};g.prototype.visible_changed=g.prototype.s;g.prototype.setFlat=function(a){this.set("flat",!!a)};g.prototype.setFlat=g.prototype.setFlat;g.prototype.getFlat=function(){return this.get("flat")};g.prototype.getFlat=g.prototype.getFlat;g.prototype.p=function(){return this.get("width")};g.prototype.getWidth=g.prototype.p;g.prototype.o=function(){return this.get("height")};g.prototype.getHeight=g.prototype.o;g.prototype.setShadow=function(a){this.set("shadow",a);this.g()};g.prototype.setShadow=g.prototype.setShadow;g.prototype.getShadow=function(){return this.get("shadow")};g.prototype.getShadow=g.prototype.getShadow;g.prototype.g=function(){if(this.c)this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow()};g.prototype.flat_changed=g.prototype.g;g.prototype.setZIndex=function(a){this.set("zIndex",a)};g.prototype.setZIndex=g.prototype.setZIndex;g.prototype.getZIndex=function(){return this.get("zIndex")};g.prototype.getZIndex=g.prototype.getZIndex;g.prototype.t=function(){if(this.getZIndex()&&this.c)this.a.style.zIndex=this.getZIndex()};g.prototype.zIndex_changed=g.prototype.t;g.prototype.getDraggable=function(){return this.get("draggable")};g.prototype.getDraggable=g.prototype.getDraggable;g.prototype.setDraggable=function(a){this.set("draggable",!!a)};g.prototype.setDraggable=g.prototype.setDraggable;g.prototype.k=function(){if(this.c)this.getDraggable()?j(this,this.a):k(this)};g.prototype.draggable_changed=g.prototype.k;g.prototype.getPosition=function(){return this.get("position")};g.prototype.getPosition=g.prototype.getPosition;g.prototype.setPosition=function(a){this.set("position",a)};g.prototype.setPosition=g.prototype.setPosition;g.prototype.q=function(){this.draw()};g.prototype.position_changed=g.prototype.q;g.prototype.l=function(){return this.get("anchor")};g.prototype.getAnchor=g.prototype.l;g.prototype.r=function(a){this.set("anchor",a)};g.prototype.setAnchor=g.prototype.r;g.prototype.n=function(){this.draw()};g.prototype.anchor_changed=g.prototype.n;function l(a,c){var d=document.createElement("DIV");d.innerHTML=c;if(d.childNodes.length==1)return d.removeChild(d.firstChild);else{for(var e=document.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e}}function m(a,c){if(c)for(var d;d=c.firstChild;)c.removeChild(d)}g.prototype.setContent=function(a){this.set("content",a)};g.prototype.setContent=g.prototype.setContent;g.prototype.getContent=function(){return this.get("content")};g.prototype.getContent=g.prototype.getContent;g.prototype.j=function(){if(this.b){m(this,this.b);var a=this.getContent();if(a){if(typeof a=="string"){a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1");a=l(this,a)}this.b.appendChild(a);var c=this;a=this.b.getElementsByTagName("IMG");for(var d=0,e;e=a[d];d++){google.maps.event.addDomListener(e,"mousedown",function(h){if(c.getDraggable()){h.preventDefault&&h.preventDefault();h.returnValue=f}});google.maps.event.addDomListener(e,"load",function(){c.draw()})}google.maps.event.trigger(this,"domready")}this.c&&this.draw()}};g.prototype.content_changed=g.prototype.j;function n(a,c){if(a.c){var d="";if(navigator.userAgent.indexOf("Gecko/")!==-1){if(c=="dragging")d="-moz-grabbing";if(c=="dragready")d="-moz-grab"}else if(c=="dragging"||c=="dragready")d="move";if(c=="draggable")d="pointer";if(a.a.style.cursor!=d)a.a.style.cursor=d}}function o(a,c){if(a.getDraggable())if(!a.d){a.d=b;var d=a.getMap();a.m=d.get("draggable");d.set("draggable",f);a.h=c.clientX;a.i=c.clientY;n(a,"dragready");a.a.style.MozUserSelect="none";a.a.style.KhtmlUserSelect="none";a.a.style.WebkitUserSelect="none";a.a.unselectable="on";a.a.onselectstart=function(){return f};p(a);google.maps.event.trigger(a,"dragstart")}}function q(a){if(a.getDraggable())if(a.d){a.d=f;a.getMap().set("draggable",a.m);a.h=a.i=a.m=null;a.a.style.MozUserSelect="";a.a.style.KhtmlUserSelect="";a.a.style.WebkitUserSelect="";a.a.unselectable="off";a.a.onselectstart=function(){};r(a);n(a,"draggable");google.maps.event.trigger(a,"dragend");a.draw()}}function s(a,c){if(!a.getDraggable()||!a.d)q(a);else{var d=a.h-c.clientX,e=a.i-c.clientY;a.h=c.clientX;a.i=c.clientY;d=parseInt(a.a.style.left,10)-d;e=parseInt(a.a.style.top,10)-e;a.a.style.left=d+"px";a.a.style.top=e+"px";var h=t(a);a.setPosition(a.getProjection().fromDivPixelToLatLng(new google.maps.Point(d-h.width,e-h.height)));n(a,"dragging");google.maps.event.trigger(a,"drag")}}function k(a){if(a.f){google.maps.event.removeListener(a.f);delete a.f}n(a,"")}function j(a,c){if(c){a.f=google.maps.event.addDomListener(c,"mousedown",function(d){o(a,d)});n(a,"draggable")}}function p(a){if(a.a.setCapture){a.a.setCapture(b);a.e=[google.maps.event.addDomListener(a.a,"mousemove",function(c){s(a,c)},b),google.maps.event.addDomListener(a.a,"mouseup",function(){q(a);a.a.releaseCapture()},b)]}else a.e=[google.maps.event.addDomListener(window,"mousemove",function(c){s(a,c)},b),google.maps.event.addDomListener(window,"mouseup",function(){q(a)},b)]}function r(a){if(a.e){for(var c=0,d;d=a.e[c];c++)google.maps.event.removeListener(d);a.e.length=0}}function t(a){var c=a.l();if(typeof c=="object")return c;var d=new google.maps.Size(0,0);if(!a.b)return d;var e=a.b.offsetWidth;a=a.b.offsetHeight;switch(c){case i.TOP:d.width=-e/2;break;case i.TOP_RIGHT:d.width=-e;break;case i.LEFT:d.height=-a/2;break;case i.MIDDLE:d.width=-e/2;d.height=-a/2;break;case i.RIGHT:d.width=-e;d.height=-a/2;break;case i.BOTTOM_LEFT:d.height=-a;break;case i.BOTTOM:d.width=-e/2;d.height=-a;break;case i.BOTTOM_RIGHT:d.width=-e;d.height=-a}return d}g.prototype.onAdd=function(){if(!this.a){this.a=document.createElement("DIV");this.a.style.position="absolute"}if(this.getZIndex())this.a.style.zIndex=this.getZIndex();this.a.style.display=this.getVisible()?"":"none";if(!this.b){this.b=document.createElement("DIV");this.a.appendChild(this.b);var a=this;google.maps.event.addDomListener(this.b,"click",function(){google.maps.event.trigger(a,"click")});google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(a,"mouseover")});google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(a,"mouseout")})}this.c=b;this.j();this.g();this.k();var c=this.getPanes();c&&c.overlayImage.appendChild(this.a);google.maps.event.trigger(this,"ready")};g.prototype.onAdd=g.prototype.onAdd;g.prototype.draw=function(){if(!(!this.c||this.d)){var a=this.getProjection();if(a){var c=this.get("position");a=a.fromLatLngToDivPixel(c);c=t(this);this.a.style.top=a.y+c.height+"px";this.a.style.left=a.x+c.width+"px";a=this.b.offsetHeight;c=this.b.offsetWidth;c!=this.get("width")&&this.set("width",c);a!=this.get("height")&&this.set("height",a)}}};g.prototype.draw=g.prototype.draw;g.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a);k(this)};g.prototype.onRemove=g.prototype.onRemove;var i={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=i})();(function(){var e=!1;try{var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};new(function(){function e(){var e=this,i="constructor";try{(function(){e.ns="CrispLoader",e.__console={warn:function(){},error:function(){},info:function(){},log:function(){},debug:function(){}},e.__project_name="crisp-client",e.__host_assets="client.crisp.im",e.__host_relay="client.relay.crisp.im",e.__client_revision="853ce43",e.__client_environment="production",e.__better_protocol="production"===e.__client_environment?"https:":"http:",e.__url_website="https://crisp.im",e.__url_go="https://go.crisp.im",e.__url_image="https://image.crisp.im",e.__url_relay=[e.__better_protocol+"//",""+e.__host_relay].join(""),e.__url_assets=[e.__better_protocol+"//",""+e.__host_assets].join(""),e.__path_javascripts="static/javascripts",e.__path_stylesheets="static/stylesheets",e.__dollar_crisp="$crisp",e.__check_every=100,e.__check_timeout=3e4,e.__width_threshold=320,e.__website_domain=document.domain,e.__page_url=document.location.href,e.__page_title=document.title,e.__page_referrer=document.referrer,e.__browser_useragent=window.navigator.userAgent,e.__browser_timezone=(new Date).getTimezoneOffset(),e.__browser_locales=navigator.languages?navigator.languages:[navigator.language||navigator.userLanguage],e.__loader_script_regex=new RegExp(["(?:http:|https:)?//",e.__host_assets.replace(".","."),"/l/([a-zA-Z0-9-_]+).js"].join(""),"i"),"string"==typeof CRISP_WEBSITE_ID?e.__website_id=CRISP_WEBSITE_ID:e.__website_id=e.__detect_website_id_from_dom(),"string"==typeof CRISP_TOKEN_ID?e.__token_id=CRISP_TOKEN_ID:e.__token_id=null,"function"==typeof CRISP_READY_TRIGGER?e.__ready_trigger=CRISP_READY_TRIGGER:e.__ready_trigger={},"object"===("undefined"==typeof CRISP_RUNTIME_CONFIG?"undefined":t(CRISP_RUNTIME_CONFIG))?e.__runtime_configuration=CRISP_RUNTIME_CONFIG:e.__runtime_configuration={},"object"===("undefined"==typeof CRISP_INCLUDE_ATTRS?"undefined":t(CRISP_INCLUDE_ATTRS))?e.__include_attrs=CRISP_INCLUDE_ATTRS:e.__include_attrs={},e.__apply_primary_locale();var i=document.onreadystatechange||function(){};Function.prototype.bind?("interactive"===document.readyState||"complete"===document.readyState?e.init():document.onreadystatechange=function(){"function"==typeof i&&i(),"interactive"===document.readyState&&e.init()},"undefined"==typeof window[e.__dollar_crisp]||"function"!=typeof window[e.__dollar_crisp].__init?e.__include_client():_):_})()}catch(e){this.__console.error(this.ns+"."+i,e)}}return e.prototype.init=function(){var e=this,t="init";try{window.innerWidth&&window.innerWidth<this.__width_threshold||navigator.cookieEnabled!==!0||function(){var _=document.createElement("div");_.id="crisp-252",document.getElementsByTagName("body")[0].appendChild(_);var i=function(){var e=window.getComputedStyle(_).getPropertyValue("display");return"none"===e},r=function r(){setTimeout(function(){e.__check_timeout-=e.__check_every,"undefined"!=typeof window[e.__dollar_crisp]&&"function"==typeof window[e.__dollar_crisp].__init&&i()===!0?(e.__console.info(e.ns+"."+t,"Dependencies loaded"),document.body.removeChild(_),window[e.__dollar_crisp].__init({dollar_crisp:window[e.__dollar_crisp],project_name:e.__project_name,url_go:e.__url_go,url_image:e.__url_image,url_relay:e.__url_relay,url_website:e.__url_website,url_assets:e.__url_assets,client_environment:e.__client_environment,client_revision:e.__client_revision,website_domain:e.__website_domain,website_id:e.__website_id,token_id:e.__token_id,page_url:e.__page_url,page_title:e.__page_title,page_referrer:e.__page_referrer,browser_useragent:e.__browser_useragent,browser_timezone:e.__browser_timezone,browser_locales:e.__browser_locales,ready_trigger:e.__ready_trigger,runtime_configuration:e.__runtime_configuration})):e.__check_timeout>0?r():e.__console.error(e.ns+"."+t,"Could not load dependencies")},e.__check_every)};r()}()}catch(e){this.__console.error(this.ns+"."+t,e)}},e.prototype.__include_client=function(){var e="__include_client";try{this.__include_preconnect(this.__url_assets),this.__include_preconnect(this.__url_relay),this.__include_client_javascripts(),this.__include_client_stylesheets()}catch(t){this.__console.error(this.ns+"."+e,t)}},e.prototype.__include_preconnect=function(e){var t="__include_preconnect";try{var _=document.createElement("link");_.setAttribute("href",e),_.setAttribute("rel","preconnect"),_.setAttribute("crossorigin",""),this.__apply_include_attrs(_),document.getElementsByTagName("head")[0].appendChild(_)}catch(e){this.__console.error(this.ns+"."+t,e)}},e.prototype.__include_client_javascripts=function(){var e="__include_client_javascripts";try{var t=document.createElement("script");t.src=[this.__url_assets+"/",this.__path_javascripts+"/","client.js?"+this.__client_revision].join(""),t.type="text/javascript",t.async=1,this.__apply_include_attrs(t),document.getElementsByTagName("head")[0].appendChild(t)}catch(t){this.__console.error(this.ns+"."+e,t)}},e.prototype.__include_client_stylesheets=function(){var e="__include_client_stylesheets";try{var t=this.__detect_include_mode(),_=document.createElement("link");_.href=[this.__url_assets+"/",this.__path_stylesheets+"/","client_"+t+".css?"+this.__client_revision].join(""),_.type="text/css",_.rel="stylesheet",this.__apply_include_attrs(_),document.getElementsByTagName("head")[0].appendChild(_)}catch(t){this.__console.error(this.ns+"."+e,t)}},e.prototype.__apply_primary_locale=function(){var e="__apply_primary_locale";try{if(this.__runtime_configuration.locale){var t=this.__browser_locales.indexOf(this.__runtime_configuration.locale);t!==-1&&this.__browser_locales.splice(t,1),
this.__browser_locales.unshift(this.__runtime_configuration.locale)}}catch(t){this.__console.error(this.ns+"."+e,t)}},e.prototype.__apply_include_attrs=function(e){var t="__apply_include_attrs";try{for(var _ in this.__include_attrs)this.__include_attrs.hasOwnProperty(_)&&e.setAttribute(_,this.__include_attrs[_])}catch(e){this.__console.error(this.ns+"."+t,e)}},e.prototype.__detect_website_id_from_dom=function(){var e="__detect_website_id_from_dom",t=null;try{for(var _=document.querySelectorAll("script[src]"),i=0;i<_.length;i++){var r=this.__loader_script_regex.exec(_[i].src);if(r&&"string"==typeof r[1]){t=r[1];break}}}catch(t){this.__console.error(this.ns+"."+e,t)}finally{return t}},e.prototype.__detect_include_mode=function(){var e="__detect_include_mode",t="default";try{var _=(navigator.userAgent||"").toLowerCase(),i=(navigator.appVersion||"").toLowerCase(),r=((navigator.vendor||"").toLowerCase(),!1);if(r!==!0&&(_.indexOf("msie")===-1&&i.indexOf("trident/")===-1||(r=!0)),r!==!0&&_.indexOf("edge")!==-1&&(r=!0),r!==!0){var n=_.match(/chrom(e|ium)\/([0-9\.]+)/);if(n){var o=29;parseInt(n[2],10)<=o&&(r=!0)}}if(r!==!0){var s=_.match(/firefox\/([0-9\.]+)/);if(s){var c=46;parseInt(s[1],10)<=c&&(r=!0)}}if(r!==!0){var a=_.match(/version\/([0-9\.]+)( mobile\/([^\s]+))? safari\//);if(a){var l=9;parseInt(a[1],10)<=l&&(r=!0)}}if(r!==!0){var d=_.match(/android ([0-9\.]+)/);if(d){var u=6;parseInt(d[1],10)<u&&(r=!0)}}r!==!0&&_.indexOf("opera mini/")!==-1&&(r=!0),r===!0&&(t="legacy")}catch(t){this.__console.error(this.ns+"."+e,t)}finally{return t}},e}())}catch(t){if(e===!0)throw t}})();(function(){var e=!1;try{var t={};t.Library=new(function(){function e(){var e="constructor";try{this.ns="CrispLibrary";var r={},i=t,n={environment:"production"};r.Console=function(){var e={};return e._environment=n.environment,e._development="development"==e._environment,e._available="undefined"!=typeof window.console,e._has=e._development&&e._available,e._log_sink=function(e,t,r){},e.warn=function(t,r){e._has&&console.warn(t,r),e._log_sink("warn",t,r)},e.error=function(t,r){e._has&&console.error(t,r),e._log_sink("error",t,r)},e.info=function(t,r){e._has&&console.info(t,r),e._log_sink("info",t,r)},e.log=function(t,r){e._has&&console.log(t,r),e._log_sink("log",t,r)},e.debug=function(t,r){e._has&&("undefined"!=typeof console.debug?console.debug(t,r):console.log(t,r)),e._log_sink("debug",t,r)},e.set_log_sink=function(t){if("function"!=typeof t)throw new Error("Expected log sink argument to be a function");e._log_sink=t},e}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof __crisp_void_define&&define.amd)define([],e);else{var t;"undefined"!=typeof r?t=r:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jade=e()}}(function(){return function e(t,r,i){function n(a,o){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(s)return s(a,!0);var _=new Error("Cannot find module '"+a+"'");throw _.code="MODULE_NOT_FOUND",_}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return n(r?r:e)},l,l.exports,e,t,r,i)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){"use strict";function i(e){return null!=e&&""!==e}function n(e){return(Array.isArray(e)?e.map(n):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(i).join(" ")}r.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],s=1;s<t.length;s++)n=e(n,t[s]);return n}var a=t.class,o=r.class;(a||o)&&(a=a||[],o=o||[],Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]),t.class=a.concat(o).filter(i));for(var c in r)"class"!=c&&(t[c]=r[c]);return t},r.joinClasses=n,r.cls=function(e,t){for(var i=[],s=0;s<e.length;s++)t&&t[s]?i.push(r.escape(n([e[s]]))):i.push(n(e[s]));var a=n(i);return a.length?' class="'+a+'"':""},r.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},r.attr=function(e,t,i,n){return"style"===e&&(t=r.style(t)),"boolean"==typeof t||null==t?t?" "+(n?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(JSON.stringify(t).indexOf("&")!==-1&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):i?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+r.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},r.attrs=function(e,t){var i=[],s=Object.keys(e);if(s.length)for(var a=0;a<s.length;++a){var o=s[a],c=e[o];"class"==o?(c=n(c))&&i.push(" "+o+'="'+c+'"'):i.push(r.attr(o,c,!1,t))}return i.join("")},r.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},r.rethrow=function t(r,i,n,s){if(!(r instanceof Error))throw r;if(!("undefined"==typeof window&&i||s))throw r.message+=" on line "+n,r;try{s=s||e("fs").readFileSync(i,"utf8")}catch(e){t(r,null,n)}var a=3,o=s.split("\n"),c=Math.max(n-a,0),_=Math.min(o.length,n+a),a=o.slice(c,_).map(function(e,t){var r=t+c+1;return(r==n?"  > ":"    ")+r+"| "+e}).join("\n");throw r.path=i,r.message=(i||"Jade")+":"+n+"\n"+a+"\n\n"+r.message,r}},{fs:2}],2:[function(e,t,r){},{}]},{},[1])(1)}),function(e,t){"function"==typeof __crisp_void_define&&define.amd?define(t):"undefined"!=typeof exports?module.exports=t():e.cash=e.$=t()}(r,function(){function e(t,r){return new e.fn.init(t,r)}function t(e){var t=t||s.createDocumentFragment(),r=r||t.appendChild(s.createElement("div"));return r.innerHTML=e,r}function r(e,t){return parseInt(a.getComputedStyle(e[0],null)[t],10)}function i(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}function n(t,r,n){var s=e(t).data("cshid")||i();e(t).data("cshid",s),s in f||(f[s]={}),r in f[s]||(f[s][r]=[]),f[s][r].push(n)}var s=document,a=window,o=Array.prototype,c=o.slice,_=o.filter,l=/^#[\w-]*$/,p=/^\.[\w-]*$/,h=/^[\w-]*$/,u=e.fn=e.prototype={cash:!0,length:0};u.init=function(t,r){var i,n,a=[];if(!t)return this;if(this.length=1,"string"!=typeof t)return t.cash?t:(this[0]=t,this);if("<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3)a=e.parseHTML(t);else{if(i=l.test(t),n=t.slice(1),!r&&i)return this[0]=s.getElementById(n),this;r=e(r)[0]||s,a=c.call(h.test(n)?p.test(t)?s.getElementsByClassName(n):s.getElementsByTagName(t):r.querySelectorAll(t))}return this.length=0,e.merge(this,a),this},u.init.prototype=u,e.each=function(e,t){for(var r=e.length,i=0;i<r;i++)t.call(e[i],e[i],i,e)},e.extend=u.extend=function(e,t){var r;t||(t=e,e=this);for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},e.matches=function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)},e.merge=function(e,t){for(var r=+t.length,i=e.length,n=0;n<r;i++,n++)e[i]=t[n];return e.length=i,e},e.parseHTML=function(e){var r=/^<(\w+)\s*\/?>(?:<\/\1>|)$/.exec(e);return r?[s.createElement(r[1])]:(r=t(e),c.call(r.childNodes))},e.unique=function(t){return e.merge(e(),c.call(t).filter(function(e,t,r){return r.indexOf(e)===t}))};var d=/\S+/g;u.extend({addClass:function(e){var t,r,i=e.match(d);return this.each(function(e){if(r=i.length,e.classList)for(;r--;)e.classList.add(i[r]);else for(;r--;)t=" "+e.className+" ",t.indexOf(" "+i[r]+" ")===-1&&(e.className+=" "+i[r])}),this},attr:function(e,t){return t?(this.each(function(r){return r.setAttribute(e,t)}),this):this[0].getAttribute(e)},hasClass:function(e){return this[0].classList?this[0].classList.contains(e):this[0].className.indexOf(e)!==-1},prop:function(e){return this[0][e]},removeAttr:function(e){return this.each(function(t){return t.removeAttribute(e)}),this},removeClass:function(e){var t,r,i=e.match(d);return this.each(function(e){if(t=i.length,e.classList)for(;t--;)e.classList.remove(i[t]);else{for(r=" "+e.className+" ";t--;)r=r.replace(" "+i[t]+" "," ");e.className=r.trim()}}),this}}),u.extend({add:function(){var t,r=c.call(this),i=0;for(t=arguments.length;i<t;i++)r=r.concat(c.call(e(arguments[i])));return e.unique(r)},each:function(t){e.each(this,t)},eq:function(t){return e(this[t])},filter:function(t){return"string"==typeof t?_.call(this,function(r){return e.matches(r,t)}):_.call(this,t)},first:function(){return e(this[0])},get:function(e){return this[e]},index:function(t){return t?c.call(e(t).children()).indexOf(this[0]):c.call(e(this[0]).parent().children()).indexOf(this[0])},last:function(){return e(this[this.length-1])}}),u.extend({css:function(e,t){return"object"!=typeof e?t?(this.each(function(r){return r.style[e]=t}),this):a.getComputedStyle(this[0],null)[e]:void this.each(function(t){for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r])})}}),u.extend({data:function(t,r){return r?(this.each(function(i){i.dataset?i.dataset[t]=r:e(i).attr("data-"+t,r)}),this):this[0].dataset?this[0].dataset[t]:e(this[0]).attr("data-"+t)},removeData:function(t){return this.each(function(r){r.dataset?delete r.dataset[t]:e(r).removeAttr("data-"+t)}),this}}),u.extend({height:function(){return this[0].getBoundingClientRect().height},innerWidth:function(){return this[0].clientWidth},innerHeight:function(){return this[0].clientHeight},outerWidth:function(e){return e===!0?this[0].offsetWidth+(r(this,"margin-left")||r(this,"marginLeft")||0)+(r(this,"margin-right")||r(this,"marginRight")||0):this[0].offsetWidth},outerHeight:function(e){return e===!0?this[0].offsetHeight+(r(this,"margin-top")||r(this,"marginTop")||0)+(r(this,"margin-bottom")||r(this,"marginBottom")||0):this[0].offsetHeight},width:function(){return this[0].getBoundingClientRect().width}});var f={};u.extend({off:function(t,r){return this.each(function(i){if(r)i.removeEventListener(t,r);else for(var n in f[e(i).data("cshid")][t])i.removeEventListener(t,f[e(i).data("cshid")][t][n])}),this},on:function(t,r,i){return"function"==typeof r?(i=r,this.each(function(r){n(e(r),t,i),r.addEventListener(t,i)}),this):(this.each(function(s){function a(t){var n=t.target;if(e.matches(n,r))i.call(n);else{for(;!e.matches(n,r);){if(n===s)return n=!1;n=n.parentNode}n&&i.call(n)}}n(e(s),t,a),s.addEventListener(t,a)}),this)},ready:function(e){this[0].addEventListener("DOMContentLoaded",e)},trigger:function(e){var t=s.createEvent("HTMLEvents");return t.initEvent(e,!0,!1),this.each(function(e){return e.dispatchEvent(t)}),this}});var g=encodeURIComponent;return u.extend({serialize:function(){var e,t,r,i=this[0],n="";for(t=i.elements.length-1;t>=0;t--)if(e=i.elements[t],e.name&&"file"!==e.type&&"reset"!==e.type)if("select-multiple"===e.type)for(r=i.elements[t].options.length-1;r>=0;r--)e.options[r].selected&&(n+="&"+e.name+"="+g(e.options[r].value).replace(/%20/g,"+"));else"submit"!==e.type&&"button"!==e.type&&(n+="&"+e.name+"="+g(e.value).replace(/%20/g,"+"));return n.substr(1)},val:function(e){return void 0===e?this[0].value:(this.each(function(t){return t.value=e}),this)}}),u.extend({append:function(t){return this[0].appendChild(e(t)[0]),this},appendTo:function(t){return e(t)[0].appendChild(this[0]),this},clone:function(){return e(this[0].cloneNode(!0))},empty:function(){return this.each(function(e){return e.innerHTML=""}),this},html:function(t){var r;return"undefined"===t?this[0].innerHTML:(r="object"==typeof t?e(t)[0].outerHTML:t,this.each(function(e){return e.innerHTML=""+r}),this)},insertAfter:function(t){return e(t)[0].insertAdjacentHTML("afterend",this[0].outerHTML),this},insertBefore:function(t){return e(t)[0].insertAdjacentHTML("beforebegin",this[0].outerHTML),this},prepend:function(t){return e(this)[0].insertAdjacentHTML("afterBegin",e(t)[0].outerHTML),this},prependTo:function(t){return e(t)[0].insertAdjacentHTML("afterBegin",this[0].outerHTML),this},remove:function(){this.each(function(e){return e.parentNode.removeChild(e)})},text:function(e){return e?(this.each(function(t){return t.textContent=e}),this):this[0].textContent}}),u.extend({children:function(t){return t?e(this[0].children).filter(function(r){return e.matches(r,t)}):e.fn.extend(this[0].children,e.fn)},closest:function(t){return!t||e.matches(this[0],t)?this:this.parent().closest(t)},is:function(t){return!!t&&(t.cash?this[0]===t[0]:"string"==typeof t&&e.matches(this[0],t))},find:function(t){return e.fn.extend(this[0].querySelectorAll(t),e.fn)},has:function(t){return _.call(this,function(r){return 0!==e(r).find(t).length})},next:function(){return e(this[0].nextElementSibling)},not:function(t){return _.call(this,function(r){return!e.matches(r,t)})},parent:function(){var t=o.map.call(this,function(e){return e.parentElement||s.body.parentNode});return e.unique(t)},parents:function(t){var r,i=[],n=0;return this.each(function(a){for(r=a;r!==s.body.parentNode;)r=r.parentElement,(!t||t&&e.matches(r,t))&&(i[n]=r,n++)}),e.unique(i)},prev:function(){return e(this[0].previousElementSibling)},siblings:function(){var e=this.parent().children(),t=this[0];return _.call(e,function(e){return e!==t})}}),e}),function(e,t){e.CrispLibraryWeb=new t}(r,function(){function e(){}return e.prototype.init=function(e){var t=function(){function e(e){this.parent=e,this.__smiley_list={angry:/(^|\s|\()((?:=|:)(?:-)?@)($|\s|\))/i,blushing:/(^|\s|\()((?:=|:)(?:-)?\$)($|\s|\))/i,cool:/(^|\s|\()(8(?:-)?\))($|\s|\))/i,confused:/(^|\s|\()(x(?:-)?\))($|\s|\))/i,crying:/(^|\s|\()((?:=|:)&#039;(?:-)?\()($|\s|\))/i,embarrased:/(^|\s|\()((?:=|:)(?:-)?\/)($|\s|\))/i,heart:/(^|\s|\()(&lt;3)($|\s|\))/i,laughing:/(^|\s|\()((?:=|:)(?:-)?&#039;D)($|\s|\))/i,sad:/(^|\s|\()((?:=|:)(?:-)?(?:\(|\|))($|\s|\))/i,sick:/(^|\s|\()((?:=|:)(?:-)?S)($|\s|\))/i,"small-smile":/(^|\s|\()((?:=|:)(?:-)?\))($|\s|\))/i,"big-smile":/(^|\s|\()((?:=|:)(?:-)?D)($|\s|\))/i,"thumbs-up":/(^|\s|\()(\+1)($|\s|\))/i,surprised:/(^|\s|\()((?:=|:)(?:-)?o)($|\s|\))/i,tongue:/(^|\s|\()((?:=|:)(?:-)?P)($|\s|\))/i,winking:/(^|\s|\()(;(?:-)?\))($|\s|\))/i}}return e.prototype.code=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",r=this.parent.template.render("smiley",{name:e,size:t});return r},e.prototype.parse=function(e){var t=void 0,r=void 0,i=void 0,n=void 0,s=void 0,a=e;for(t in this.__smiley_list)this.__smiley_list.hasOwnProperty(t)&&(r=this.__smiley_list[t],s=a.match(r),s&&(i="small",a===s[2]&&(i="large"),n=this.code(t,i),a=a.replace(r,"$1"+n+"$3")));return a},e.prototype.name=function(e){var t=void 0,r=void 0,i=null;for(t in this.__smiley_list)if(this.__smiley_list.hasOwnProperty(t)&&(r=this.__smiley_list[t],e.match(r))){i=t;break}return i},e}(),r=function(){function e(e){this.parent=e,this.__gtld_list=["ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","be","bf","bg","bh","bi","biz","bj","bm","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","cl","cm","cn","co","com","coop","cr","cu","cv","cw","cx","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","es","eu","fi","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","im","in","info","int","io","iq","ir","is","it","je","jo","jobs","jp","kg","ki","km","kn","kp","kr","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","na","name","nc","ne","net","nf","ng","nl","no","nr","nu","nz","om","org","pa","pe","pf","ph","pk","pl","pm","pn","post","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sx","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","yt","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ","","","","","","","","","xxx","","","","","","camera","clothing","lighting","singles","ventures","voyage","guru","holdings","equipment","bike","estate","tattoo","","","land","plumbing","contractors","sexy","menu","","uno","gallery","technology","","reviews","guide"," ","graphics","construction","onl","","diamonds","kiwi","enterprises","today","futbol","photography","tips","directory","kitchen","","kim","","monash","wed","pink","ruhr","buzz","careers","shoes","","career","otsuka","","gift","recipes","coffee","luxury","domains","photos","limo","viajes","wang","democrat","mango","cab","support","dance","nagoya","computer","wien","berlin","codes","email","","repair","holiday","center","systems","wiki","ceo","international","solar","company","education","training","academy","marketing","florist","solutions","build","institute","builders","red","blue","ninja","business","gal","social","house","camp","immobilien","moda","glass","management","kaufen","farm","","","club","voting","tokyo","moe","guitars","bargains","","desi","cool","boutique","pics","","","","cheap","","photo","network","zone","","link","qpon"," ","agency","tienda","works","london","watch","rocks","shiksha","","budapest","nrw","vote","fishing","expert","horse","christmas","cooking","","casa","rich","voto","tools","","praxi","events","flights","report","partners","neustar","rentals","catering","community","maison","parts","cleaning","okinawa","foundation","properties","vacations","productions","industries","haus","vision","mormon","cards","ink","villas","consulting","cruises","krd","xyz","dating","exposed","condos","eus","caravan","actor","saarland","yokohama","pub","","ren","fish","bar","dnp","bid","supply","miami","supplies","quebec","moscow","globo","axa","","","vodka","rest","frogans","wtc","rodeo","sohu","best","country","kred","feedback","work","luxe","ryukyu","autos","homes","jetzt","yachts","motorcycles","mini","ggee","beer","","college","ovh","meet","","gop","blackfriday","lacaixa"," ","vegas","black","soy","trade","gent","ing","dad","shriram","bayern","scot","webcam","foo","eat","nyc","prod","how","day","meme","mov","paris","boo","new","ifm","life","archi","spiegel","brussels","church","here","dabur","vlaanderen","cologne","","wme","nhk","suzuki","whoswho","scb","hamburg","services","bzh","rio","cash","gives","hiphop","degree","digital","rehab","wtf","financial","limited","discount","fail","vet","ngo","fitness","schule","navy","bio","ong","town","toys","army","engineering","capital","exchange","fan","market","media","lease","university","reisen","airforce","pictures","gripe","engineering","associates","","williamhill","hiv","sca","reise","accountants","clinic","versicherung","top","furniture","dental","fund","creditcard","insure","audio","claims","loans","auction","attorney","finance","investments","juegos","dentist","lds","lawyer","surgery","gratis","software","mortgage","republican","credit","tax","africa","joburg","durban","capetown","sap","datsun","infiniti","firmdale","organic","nissan","website","space","schmidt","cuisinella","samsung","crs","doosan","press","emerck","erni","direct","yandex","lotto","toshiba","bauhaus","host","ltda","global","abogado","place","tirol","gmx","tatar","scholarships","eurovision","wedding","active","madrid","youtube","sharp","uol","physio","gmail","channel","fly","zip","esq","rsvp","wales","cymru","green","lgbt","","cancerresearch","everbank","frl","property","forsale","seat","deals","nra","","realtor","bnpparibas","melbourne","hosting","yoga","city","bond","click","cern"],this.__html_escape={"&amp;":/&/g,"&lt;":/</g,"&gt;":/>/g,"&quot;":/"/g,"&#039;":/'/g},this.__attribute_escape={"\\\\":/\\/g,"\\t":/\t/g,"\\n":/\n/g,"\\u00A0":/\u00A0/g},this.__links_regex={email:new RegExp("(\\s|<[^<>]+\\/>|^)([\\w\\._-]+@[\\w\\.\\/_-]+)(,|\\s|$)","gi"),domain:new RegExp("(\\s|<[^<>]+\\/>|^|\\()((?:[^<>\\s@]+)(?:\\.(?:"+this.__gtld_list.map(this.__regex_escape).join("|")+")))(,|\\s|$)","gim"),uri:new RegExp("(\\s|<[^<>]+\\/>|^|\\()((?:https?|ftp|file):(?:[^<>\\s]+))(,|\\s|$)","gim")},this.__markdown_regex=[["title",/(^)(#{1})([^#].*)($)/gim],["title",/(^)(#{2})([^#].*)($)/gim],["title",/(^)(#{3})([^#].*)($)/gim],["title",/(^)(#{4})([^#].*)($)/gim],["title",/(^)(#{5})([^#].*)($)/gim],["title",/(^)(#{6})([^#].*)($)/gim],["image",/(\s|<[^<>]+\/>|^)!\[([^\[]*)\]\(([^\)]+)\)(\s|$)/gim],["link",/(\s|<[^<>]+\/>|^)\[([^\[]+)\]\(([^\)]+)\)(\s|$)/gim],["bold",/(\s|<[^<>]+\/>|^)(\*\*|__)(.*?)(?:\2)/gim],["italic",/(\s|<[^<>]+\/>|^)(\*|_)(.*?)(?:\2)/gim],["delete",/(\s|<[^<>]+\/>|^)(\~\~)(.*?)(?:\2)/gim],["list",/(^\s*)(\*|(?:[\d]+\.))(?:[\s]+)(.*?)($)/gim],["code",/(\s|<[^<>]+\/>|^)(`{1,3})([^`].*)(?:\2)(\s|$)/gim],["blockquote",/(^)(&gt;|\>)(.*)($)/gim],["line",/(^)(\s+)?(-{5,})(\s|$)/gim]],this.__markdown_trim_items=["title","list","code","blockquote"],this.__shortcuts_regex_cache={},this.__shortcuts_list={},this.__shorcuts_list_extended=!1,this.__format_pipeline=[this.__apply_escape,this.__apply_consecutive_lines,this.__apply_markdown,this.__apply_shortcuts,this.__apply_links_uri,this.__apply_links_domain,this.__apply_emails,this.__apply_smileys,this.__apply_new_lines]}return e.prototype.format=function(e){var t=void 0,r=e;for(t=0;t<this.__format_pipeline.length;t++)r=this.__format_pipeline[t].bind(this)(r);return r},e.prototype.replace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=void 0,i=void 0,n=e;for(r=0;r<t.length;r++)i=r+1,n=n.replace("%"+i+"s",t[r]);return n},e.prototype.attribute=function(e){return this.__apply_escape(e,"attribute")},e.prototype.__apply_escape=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",r=void 0,i=void 0,n=e,s=this["__"+t+"_escape"];for(i in s)s.hasOwnProperty(i)&&(r=s[i],n=n.replace(r,i));return n},e.prototype.__apply_consecutive_lines=function(e){return e.replace(/\n(\s+)?\n(\s+)?\n/g,"\n\n")},e.prototype.__apply_new_lines=function(e){var t=this.parent.template.render("new_line");return e.trim().replace(/\n/g,t)},e.prototype.__apply_emails=function(e){var t=this;return e.replace(this.__links_regex.email,function(e,r,i,n){var s=t.parent.template.render("link_email",{email:i,no_external_link:t.parent.config.runtime.no_external_link||!1});return""+r+s+n})},e.prototype.__apply_markdown=function(e){e="\n"+e+"\n";for(var t=0;t<this.__markdown_regex.length;t++)e=e.replace(this.__markdown_regex[t][1],this.__replace_markdown_item(this.__markdown_regex[t]));return e=e.trim()},e.prototype.__apply_links_domain=function(e){var t=this;return e.replace(this.__links_regex.domain,function(e,r,i,n){var s=t.parent.template.render("link_domain",{domain_value:i,domain_name:i,no_external_link:t.parent.config.runtime.no_external_link||!1});return""+r+s+n})},e.prototype.__apply_links_uri=function(e){var t=this;return e.replace(this.__links_regex.uri,function(e,r,i,n){var s=t.parent.template.render("link_uri",{uri_value:i,uri_name:i,no_external_link:t.parent.config.runtime.no_external_link||!1});return""+r+s+n})},e.prototype.__apply_shortcuts=function(e){var t=this,r=void 0,i=void 0,n=e;return this.__discover_shortcuts(),Object.keys(this.__shortcuts_list).forEach(function(e){t.__shortcuts_list.hasOwnProperty(e)&&(r=t.__shortcuts_list[e],"undefined"==typeof t.__shortcuts_regex_cache[e]&&(i=t.__regex_escape(e),t.__shortcuts_regex_cache[e]=new RegExp("([^\\w.<>/-]+|^)"+("("+i+")")+"([^\\w.<>/-]+|$)","gi")),n=n.replace(t.__shortcuts_regex_cache[e],function(e,i,n,s){var a=t.parent.template.render("link_uri",{uri_value:r,uri_name:n});return""+i+a+s}))}),n},e.prototype.__apply_smileys=function(e){return this.parent.Smileys.parse(e)},e.prototype.__replace_markdown_item=function(e){var t=this;return function(r,i,n,s,a){var o="",c="",_={type:null,value:null,url_crisp_image:t.parent.config.url.crisp_image,no_external_link:t.parent.config.runtime.no_external_link||!1};o=("string"==typeof i?i:null)||"",c=("string"==typeof a?a:null)||"",_.type=n,_.value=s,t.__markdown_trim_items.indexOf(e[0])!==-1&&"string"==typeof _.value&&(_.value=_.value.trim());var l=t.parent.template.render("markdown_"+e[0],_);return""+o+l+c}},e.prototype.__discover_shortcuts=function(){this.__shorcuts_list_extended!==!0&&(this.__shortcuts_list.crisp=this.parent.config.url.crisp_web,this.parent.config.context&&this.parent.config.context.name&&this.parent.config.context.protocol&&this.parent.config.context.domain&&(this.__shortcuts_list[(""+this.parent.config.context.name).toLowerCase()]=this.parent.config.context.protocol+"//"+(this.parent.config.context.domain+"/")),this.__shorcuts_list_extended=!0)},e.prototype.__regex_escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e}(),i=function(){function e(e){this.parent=e,this.__full_name_regex=/^(\S+)((\s+)(.+))?$/}return e.prototype.parse_first_name=function(e){var t=e;if(t){t=t.trim();var r=t.match(this.__full_name_regex);r&&(t=r[1])}return t},e}();this.__configure(e),this.Smileys=new t(this),this.Parse=new r(this),this.Name=new i(this)},e.prototype.__configure=function(e){e&&e.template&&(this.template=e.template),e&&e.config&&(this.config=e.config)},e}()),function(e,t){e.CrispLibraryClient=new t}(r,function(){function e(){}return e.prototype.init=function(e){var t={},r=function(){function e(e){this.parent=e,this.__message_compose_resend_delay=6e4,this.__message_compose_regex=/(^(?:\S+(?:\s+|\?|\!|\.|\(|\)|:|;))+).*$/i,this.__init_storage(),this.__init_events()}return e.prototype.send_text_message=function(e){this.__send_raw_message({type:"text",origin:"chat",content:e,timestamp:Date.now(),fingerprint:this.__gen_fingerprint()})},e.prototype.send_file_message=function(e,t,r){this.__send_raw_message({type:"file",origin:"chat",content:{name:e,url:t,type:r},timestamp:Date.now(),fingerprint:this.__gen_fingerprint()})},e.prototype.send_animation_message=function(e,t){this.__send_raw_message({type:"animation",origin:"chat",content:{url:e,type:t},timestamp:Date.now(),fingerprint:this.__gen_fingerprint()})},e.prototype.send_message_compose=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;navigator&&"1"===navigator.doNotTrack&&(t=null),t=this.__rasterize_message_compose_excerpt(t),(e!==this.__message_compose.local.type||t!==(this.__message_compose.local.excerpt||null)||"start"===this.__message_compose.local.type&&this.__message_compose_local_since&&Date.now()-this.__message_compose_local_since>=this.__message_compose_resend_delay)&&(this.__message_compose_local_since=Date.now(),this.__message_compose.local={type:e},t&&(this.__message_compose.local.excerpt=t),this.parent.socket.emit("message:compose:send",this.__message_compose.local),this.parent.event.publish("message:compose:send",this.__message_compose.local))},e.prototype.receive_message_local=function(e,t,r){var i={from:"operator",type:e,origin:"local",timestamp:Date.now(),content:t,fingerprint:this.__gen_fingerprint(),user:r};this.parent.socket.emit("message:received:local",i),this.__handle_message_received_local(i)},e.prototype.get_message_compose=function(){this.parent.event.publish("message:compose:received",this.__message_compose.remote)},e.prototype.count_message_history=function(){return this.__messages_history_diff.length},e.prototype.get_message_history=function(){for(var e=0;e<this.__messages.length;e++){var t=this.__messages[e];t.origin="history",t.index={current:e+1,total:this.__messages.length},t.is_me?this.parent.event.publish("history:message:sent",t):this.parent.event.publish("history:message:received",t)}for(var r=0;r<this.__messages_history_diff.length;r++){var i=this.__messages_history_diff[r];i.is_me?this.__handle_message_sent(i,origin="diff"):this.__handle_message_received(i,origin="diff")}this.__messages_history_diff=[]},e.prototype.is_sending_messages=function(){return this.__sending_messages_index.length>0&&!0},e.prototype.set_messages_in_view=function(e){this.__messages_in_view=e,this.__check_mark_messages_read()===!0&&this.__write_messages_cache()},e.prototype.get_unread_messages=function(){this.__unread_messages_count=-1,this.__handle_unread_messages()},e.prototype.set_unread_messages_callback=function(e){this.__unread_messages_callback=e},e.prototype._clear=function(){this.__init_storage()},e.prototype._storage_session_message_handle=function(e){this._restore_messages(e)},e.prototype._sync_message_compose_diff=function(e){e&&(this.__message_compose.remote=e)},e.prototype._sync_message_history_diff=function(e){if(e){this.__sort_messages_by_timestamp(e);for(var t=0;t<e.length;t++)this.__messages_history_diff.push(e[t]);this.__handle_unread_messages()}},e.prototype._restore_messages=function(e){e||(e=[]),this.__messages=e,this.__sort_messages_by_timestamp(this.__messages);for(var t=0;t<this.__messages.length;t++){var r=this.__messages[t];this.__received_messages_index.push(r.fingerprint),e[t].is_me||r.read||this.__unread_messages_index.push(r.fingerprint)}this.__handle_unread_messages()},e.prototype.__init_storage=function(){this.__messages=[],this.__messages_history_diff=[],this.__received_messages_index=[],this.__unread_messages_index=[],this.__sending_messages_index=[],this.__updated_messages_index=[],this.__messages_in_view=!1,this.__unread_messages_callback=function(){},this.__unread_messages_count=-1,this.__message_compose_local_since=0,this.__message_compose={local:{type:"stop"},remote:{type:"stop"}}},e.prototype.__init_events=function(){this.parent.socket.on("message:sent",this.__handle_message_sent.bind(this)),this.parent.socket.on("message:received",this.__handle_message_received.bind(this)),this.parent.socket.on("message:received:local",this.__handle_message_received_local.bind(this)),this.parent.socket.on("message:compose:received",this.__handle_message_compose_received.bind(this)),this.parent.socket.on("message:acknowledge:read:send",this.__handle_message_read_send.bind(this)),this.parent.socket.on("message:acknowledge:read:received",this.__handle_message_read_received.bind(this)),this.parent.socket.on("message:acknowledge:pending",this.__handle_message_acknowledge_pending.bind(this))},e.prototype.__rasterize_message_compose_excerpt=function(e){var t=null;if(null!==e){var r=e.match(this.__message_compose_regex);r&&(t=(r[1]||"").trim())}return t},e.prototype.__send_raw_message=function(e){this.__sending_messages_index.indexOf(e.fingerprint)===-1&&this.__sending_messages_index.push(e.fingerprint),this.parent.socket.emit("message:send",e),this.parent.event.publish("message:send",e)},e.prototype.__acknowledge_messages_pending=function(e){this.parent.socket.emit("message:acknowledge:pending",{origin:"chat",fingerprints:e}),this.parent.socket.emit("message:acknowledge:delivered",{origin:"chat",fingerprints:e})},e.prototype.__acknowledge_messages_read_received=function(e){this.parent.socket.emit("message:acknowledge:read:received",{origin:"chat",fingerprints:e})},e.prototype.__mark_messages_read=function(e,t){var r=!1;t===!1&&(this.__unread_messages_index=[],
this.__handle_unread_messages());for(var i=0;i<this.__messages.length;i++){var n=this.__messages[i];if(n.read!==!0&&(0===e.length||e.indexOf(n.fingerprint)!==-1)){var s=n.is_me===!0;t===s&&(n.read=!0,r=!0,this.__set_message_updated(n))}}return r},e.prototype.__check_mark_messages_read=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t||!1;return t===!1&&this.__messages_in_view===!0&&this.__unread_messages_index.length>0&&(this.__acknowledge_messages_read_received(this.__unread_messages_index),r=!0),r===!0&&this.__mark_messages_read(e,t)},e.prototype.__write_messages_cache=function(e,t){if(this.__updated_messages_index.length>0){for(var r=[],i=0;i<this.__messages.length;i++)this.__updated_messages_index.indexOf(this.__messages[i].fingerprint)!==-1&&r.push(this.__messages[i]);this.__updated_messages_index=[],this.parent.Storage.update("message",r,e,t)}else"function"==typeof e&&e()},e.prototype.__cache_message=function(e,t,r){this.__is_message_received(e)?"function"==typeof t&&t():(this.__received_messages_index.push(e.fingerprint),this.__messages.push(e),this.__check_mark_messages_read(),this.__set_message_updated(e),this.__write_messages_cache(t,r))},e.prototype.__set_message_updated=function(e){this.__updated_messages_index.indexOf(e.fingerprint)===-1&&this.__updated_messages_index.push(e.fingerprint)},e.prototype.__sort_messages_by_timestamp=function(e){e.sort(function(e,t){return e.timestamp<t.timestamp?-1:e.timestamp>t.timestamp?1:0})},e.prototype.__gen_fingerprint=function(){for(var e=5,t=navigator.userAgent+Date.now(),r=5381,i=0;i<t.length;i++){var n=t.charCodeAt(i);r=(r<<e)+r+n}return r},e.prototype.__handle_unread_messages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.__unread_messages_index.length;t!==this.__unread_messages_count&&(this.__unread_messages_count=t,"function"==typeof this.__unread_messages_callback&&this.__unread_messages_callback(t,this.__unread_messages_index,[].concat(this.__messages,e)))},e.prototype.__handle_message_sent=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"network",i=this.__sending_messages_index.indexOf(e.fingerprint);i!==-1&&this.__sending_messages_index.splice(i,1),e.origin=r,e.index={current:1,total:1},this.__cache_message(e,function(){t.parent.event.publish("message:sent",e)})},e.prototype.__handle_message_received=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"network",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"message:received";e.origin=r,e.index={current:1,total:1},this.__unread_messages_index.push(e.fingerprint),this.__handle_unread_messages(pending_messages=[e]),this.__cache_message(e,function(){t.__acknowledge_messages_pending([e.fingerprint]),t.parent.event.publish(i,e)})},e.prototype.__handle_message_received_local=function(e){this.__handle_message_received(e,origin="local",event="message:received:local")},e.prototype.__handle_message_compose_received=function(e){this.__message_compose.remote=e,this.parent.event.publish("message:compose:received",e)},e.prototype.__handle_message_read_send=function(e){this.__check_mark_messages_read(e.fingerprints,!0)===!0&&this.__write_messages_cache(),this.parent.event.publish("message:acknowledge:read:send",e.fingerprints)},e.prototype.__handle_message_read_received=function(e){for(var t=0;t<e.fingerprints.length;t++){var r=this.__unread_messages_index.indexOf(e.fingerprints[t]);r!==-1&&this.__unread_messages_index.splice(r,1)}this.__handle_unread_messages()},e.prototype.__handle_message_acknowledge_pending=function(e){this.parent.event.publish("message:acknowledge:pending",e.fingerprints)},e.prototype.__is_message_received=function(e){return this.__received_messages_index.indexOf(e.fingerprint)>-1},e}(),i=function(){function e(e){this.parent=e,this.__regex_referer=new RegExp("^(https?\\:\\/\\/[^/]+)\\/chat\\/resume\\/\\?target_url=(.+)&session_id=(.+)$"),this.__regex_parameter_sid=/^\?.*(crisp_sid=([^&=]+)).*$/,this.__interval_heartbeat_soft=15e4,this.__interval_heartbeat_hard=18e4,this.parent.disable_autoload||(this.__init_storage(),this.__init_events())}return e.prototype.save=function(){this.parent.cookie.set(this.__get_cookie_key(),this.__session_id,{domain:this.__get_base_domain(),expires:1/0}),this.parent.event.publish("session:saved",this.__session_id)},e.prototype.storage_session_retrieve=function(e){this.__storage_session_state_handle(e.state),this.parent.Message._storage_session_message_handle(e.message)},e.prototype.sync_session_diff=function(e){this.parent.Message._sync_message_compose_diff(e.compose),this.parent.Message._sync_message_history_diff(e.messages)},e.prototype.sync_user_data=function(e){this.__user_data.email&&this.__user_data.email!==e.email?this.set_email(this.__user_data.email,!0):this.__user_data.email=e.email||null,this.__user_data.nickname&&this.__user_data.nickname!==e.nickname?this.set_nickname(this.__user_data.nickname,!0):this.__user_data.nickname=e.nickname||null,this.__sync_data_diff(e.data||{},this.__user_data.data)},e.prototype.send_device=function(){this.parent.socket.emit("session:device",{page_url:this.parent.device.page_url,page_title:this.parent.device.page_title,page_referrer:this.parent.device.page_referrer})},e.prototype.get_request_initiate=function(e){Object.keys&&0===Object.keys(this.__state).length&&this.parent.Message.count_message_history()>0&&this.__handle_session_request_initiate({}),"function"==typeof e&&e()},e.prototype.get_state=function(e){this.handle_state(this.__state,e)},e.prototype.handle_state=function(e,t){this.__state=e,this.parent.event.publish("session:state",this.__state),"function"==typeof t&&t()},e.prototype.set_state=function(e,t){for(var r in e)this.__state[r]=e[r];this.parent.Storage.update("state",e),this.sync_state(e,t)},e.prototype.sync_state=function(e,t){this.parent.socket.emit("session:state",e),this.handle_state(e,t)},e.prototype.create=function(){var e={website_id:this.parent.website_id,website_domain:this.parent.website_domain,useragent:this.parent.device.useragent,timezone:this.parent.device.timezone,locales:this.parent.device.locales};this.parent.token_id&&(e.token_id=this.parent.token_id),this.parent.socket.emit("session:create",e)},e.prototype.get_email=function(){return this.__user_data.email},e.prototype.set_email=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.__user_data.email===e&&t!==!0||(this.__user_data.email=e,this.__connected===!0&&this.parent.socket.emit("session:set_email",{email:e}))},e.prototype.get_nickname=function(){return this.__user_data.nickname},e.prototype.set_nickname=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.__user_data.nickname===e&&t!==!0||(this.__user_data.nickname=e,this.__connected===!0&&this.parent.socket.emit("session:set_nickname",{nickname:e}))},e.prototype.get_data=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.__user_data.data:this.__user_data.data[e]||null},e.prototype.set_data=function(e,t){var r={};r[e]=t,this.__sync_data_diff(this.__user_data.data||{},r)},e.prototype.mark_active=function(){this.__last_active=Date.now()},e.prototype.restore=function(){var e=this.__obtain_cached_session_id(),t=null,r=(location.search||"").match(this.__regex_parameter_sid),i=(document.referrer||"").match(this.__regex_referer);r&&r[2]&&r[2]!==e&&(t=r[2]||null),i&&i[1]===this.parent.url_go&&i[3]!==e&&(t=i[3]||null);var n=t||e,s=t&&!0;this.__restore_session(n,s)},e.prototype.join=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.parent.socket.emit("session:join",{session_id:this.__session_id,expire:this.__interval_heartbeat_hard,storage:!0,sync:e,useragent:this.parent.device.useragent,timezone:this.parent.device.timezone,locales:this.parent.device.locales})},e.prototype.clear=function(e,t){var r=null;try{this.parent.Message._clear(),this.parent.Browsing._clear(),this.parent.Storage._clear(),this.__clear()}catch(e){r=e}r?"function"==typeof t&&t(r):"function"==typeof e&&e()},e.prototype.__init_storage=function(){this.__session_id=null,this.__connected=!1,this.__last_active=Date.now(),this.__user_data={},this.__state={}},e.prototype.__init_events=function(){var e=this;this.parent.socket.on("session:created",this.__handle_session_created.bind(this)),this.parent.socket.on("session:joined",this.__handle_session_joined.bind(this)),this.parent.socket.on("session:state",this.__handle_session_state.bind(this)),this.parent.socket.on("session:error",this.__handle_session_error.bind(this)),this.parent.socket.on("session:request:initiate",this.__handle_session_request_initiate.bind(this)),this.parent.socket.on("connect",function(){e.__connected?e.join():e.restore()})},e.prototype.__handle_session_created=function(e){e.error?this.parent.event.publish("session:created",{error:e.error}):(this.__session_id=e.session_id,this.save(),this.join(),this.parent.event.publish("session:created",{session_id:this.__session_id}))},e.prototype.__handle_session_joined=function(e){e.error?this.parent.event.publish("session:joined",{error:e.error}):(this.__connected||(this.__connected=!0,this.send_device()),this.parent.Website.set_users_available(e.users_available),this.storage_session_retrieve(e.storage||{}),this.sync_session_diff(e.sync||{}),this.sync_user_data(e),this.parent.Browsing.restore_browsing_state(),this.parent.event.publish("session:joined",e),this.__keep_alive())},e.prototype.__handle_session_state=function(e){this.handle_state(e)},e.prototype.__handle_session_error=function(e){this.parent.event.publish("session:error",e)},e.prototype.__handle_session_request_initiate=function(e){this.parent.event.publish("session:request:initiate",e)},e.prototype.__clear=function(){this.__init_storage(),this.parent.cookie.expire(this.__get_cookie_key(),{domain:this.__get_base_domain()})},e.prototype.__obtain_cached_session_id=function(){return this.parent.cookie.get(this.__get_cookie_key())||null},e.prototype.__restore_session=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.__session_id=e,t===!0&&this.save(),this.join(!0)):this.create()},e.prototype.__storage_session_state_handle=function(e){this.__state=e||{}},e.prototype.__keep_alive=function(){var e=this;setInterval(function(){e.parent.socket.emit("session:heartbeat",{last_active:e.__last_active||0,availability:{type:"online",time:{for:e.__interval_heartbeat_hard}}})},this.__interval_heartbeat_soft)},e.prototype.__get_cookie_key=function(){return"crisp-client/session/"+this.parent.website_id},e.prototype.__get_base_domain=function(){var e=document.domain,t=e;try{for(var r=0,i=t.split("."),n="crisp-client/domain-detect/"+Date.now();r<i.length-1&&document.cookie.indexOf(n+"="+n)===-1;)t=i.slice(-1-++r).join("."),document.cookie=n+"="+n+";domain="+t+";";document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";"}catch(e){}finally{return t||e}},e.prototype.__sync_data_diff=function(e,t){this.__user_data.data||(this.__user_data.data={});var r=!1,i={};for(var n in t)e[n]!==t[n]&&(r=!0,i[n]=t[n]);this.__user_data.data=e;for(var s in i)this.__user_data.data[s]=i[s];r===!0&&this.__connected===!0&&this.parent.socket.emit("session:set_data",{data:i})},e}(),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e){this.parent=e,this.__ray_entropy_factor=1e4,this.__init_storage(),this.__init_events()}return e.prototype.update=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},n={ray:this.__gen_ray(e),type:e,data:t};this.__pending_rays_index.push(n.ray),this.__callback_register[n.ray]={success:r,error:i},this.parent.socket.emit("storage:sync:update",n),this.parent.event.publish("storage:sync:update",n)},e.prototype.is_syncing_storage=function(){return this.__pending_rays_index.length>0&&!0},e.prototype._clear=function(){this.__init_storage()},e.prototype.__init_storage=function(){this.__ray_entropy_seed=1,this.__ray_entropy_increment=0,this.__callback_register={},this.__pending_rays_index=[]},e.prototype.__init_events=function(){this.parent.socket.on("storage:sync:updated",this.__handle_storage_sync_updated.bind(this))},e.prototype.__handle_storage_sync_updated=function(e){if("object"===n(this.__callback_register[e.ray])){e.error?this.__callback_register[e.ray].error():this.__callback_register[e.ray].success(),delete this.__callback_register[e.ray];var t=this.__pending_rays_index.indexOf(e.ray);t!==-1&&this.__pending_rays_index.splice(t,1)}this.parent.event.publish("storage:sync:updated",e)},e.prototype.__gen_ray=function(e){var t=void 0,r=void 0;return t=Math.sin(this.__ray_entropy_seed++)*this.__ray_entropy_factor,t-=Math.floor(t),r=this.__ray_entropy_increment++,e+"/"+Date.now()+"/"+t+"/"+r},e}(),a=function(){function e(e){this.parent=e,this.__init_storage(),this.__init_events()}return e.prototype.get_users_available=function(){this.__publish_users_available()},e.prototype.set_users_available=function(e){this.__users_available=e},e.prototype.__init_storage=function(){this.__users_available=!1},e.prototype.__init_events=function(){this.parent.socket.on("website:users:available",this.__handle_website_users_available.bind(this))},e.prototype.__handle_website_users_available=function(e){"boolean"==typeof e&&(this.set_users_available(e),this.__publish_users_available())},e.prototype.__publish_users_available=function(){this.parent.event.publish("website:users:available",this.__users_available)},e}(),o=function(){function e(e){this.parent=e,this.__init_events()}return e.prototype.get_url_upload=function(e,t){var r={id:Date.now(),from:"visitor",file:{name:e,type:t}};this.parent.socket.emit("bucket:url:upload:generate",r),this.parent.event.publish("bucket:url:upload:generate",r)},e.prototype.__init_events=function(){this.parent.socket.on("bucket:url:upload:generated",this.__handle_bucket_url_upload_generate.bind(this))},e.prototype.__handle_bucket_url_upload_generate=function(e){this.parent.event.publish("bucket:url:upload:generated",e)},e}(),c=function(){function e(e){this.parent=e,this.__init_events()}return e.prototype.get_animation_list=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r={id:Date.now(),from:"visitor",list:{page:t}};e&&(r.list.query=e),this.parent.socket.emit("media:animation:list",r),this.parent.event.publish("media:animation:list",r)},e.prototype.__init_events=function(){this.parent.socket.on("media:animation:listed",this.__handle_media_animation_list.bind(this))},e.prototype.__handle_media_animation_list=function(e){this.parent.event.publish("media:animation:listed",e)},e}(),_=function(){function e(e){this.parent=e,this.__interval_heartbeat=1e4,this.__timeout_dead_peer=45e3,this.__throttle_delay=150,this.__is_initiated=!1,this.__browsing_id=null,this.__is_playing=!1,this.__last_heartbeat=null,this.__keep_alive_interval=null,this.__tree_mirror=null,this.__mouse_position={x:0,y:0,last_call:Date.now()},this.__scroll_position={x:0,y:0,last_call:Date.now()},this.__resize_params={last_call:Date.now()},this.__initial_stream=null,this.__init_events(),this.__restore_browsing_cache(),this.__bind_mouse(),this.__bind_resize(),this.__bind_scroll()}return e.prototype.init=function(e){this.__tree_mirror=e.deps.tree_mirror||null,this.__is_initiated=!0,e.resume===!0?(this.parent.socket.emit("browsing:resume",{browsing_id:this.__browsing_id}),this.__keep_alive(!0),this.__is_playing===!0&&this.__start(!0)):navigator&&"1"===navigator.doNotTrack?this.parent.socket.emit("browsing:request:decline",{}):(this.__keep_alive(!0),this.parent.socket.emit("browsing:request:accept",{useragent:navigator.userAgent}))},e.prototype.restore_browsing_state=function(){this.__browsing_id&&(this.__is_dead_remote_peer()===!1?this.__handle_request_initiate({resume:!0}):this.__stop())},e.prototype._clear=function(){this.__init_storage(),"undefined"!=typeof window.sessionStorage&&window.sessionStorage.removeItem(this.__get_cookie_key())},e.prototype.__init_storage=function(){this.__browsing_id=null,this.__is_playing=!1,this.__last_heartbeat=null,this.__keep_alive_interval=null},e.prototype.__get_cookie_key=function(){return"crisp-client/browsing/"+this.parent.website_id},e.prototype.__init_events=function(){this.parent.socket.on("browsing:request:initiate",this.__handle_request_initiate.bind(this)),this.parent.socket.on("browsing:request:initiated",this.__handle_request_initiated.bind(this)),this.parent.socket.on("browsing:action:start",this.__handle_action_start.bind(this)),this.parent.socket.on("browsing:action:stop",this.__handle_action_stop.bind(this)),this.parent.socket.on("browsing:action:heartbeat",this.__handle_action_heartbeat.bind(this))},e.prototype.__restore_browsing_cache=function(){if(void 0!==window.sessionStorage){var e=window.sessionStorage.getItem(this.__get_cookie_key());e&&(e=JSON.parse(e),this.__browsing_id=e.browsing_id||null,this.__is_playing=e.is_playing||!1,this.__last_heartbeat=e.last_heartbeat||null)}},e.prototype.__handle_request_initiate=function(e){e.resume!==!0&&this.__stop(),this.parent.event.publish("browsing:request:initiate",e||{})},e.prototype.__handle_request_initiated=function(e){this.__is_initiated===!0&&(this.__browsing_id=e.browsing_id,this.__last_heartbeat=Date.now(),this.__save_cache())},e.prototype.__handle_action_start=function(){this.__is_initiated===!0&&this.__browsing_id&&this.__start()},e.prototype.__handle_action_stop=function(){this.__is_initiated===!0&&this.__browsing_id&&this.__stop()},e.prototype.__handle_action_heartbeat=function(){this.__is_initiated===!0&&this.__browsing_id&&(this.__last_heartbeat=Date.now(),this.__save_cache())},e.prototype.__save_cache=function(){"undefined"!=typeof window.sessionStorage&&JSON&&"function"==typeof JSON.stringify&&window.sessionStorage.setItem(this.__get_cookie_key(),JSON.stringify({browsing_id:this.__browsing_id,is_playing:this.__is_playing,last_heartbeat:this.__last_heartbeat}))},e.prototype.__start=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__is_playing=!0,this.__last_heartbeat=Date.now(),this.__save_cache(),this.__stream(),e!==!0&&this.parent.socket.emit("browsing:action:started",{})},e.prototype.__stop=function(){var e=this.__is_playing;this.__browsing_id=null,this.__is_playing=!1,this.__last_heartbeat=null,this.__save_cache(),this.__keep_alive(!1),e===!0&&this.parent.socket.emit("browsing:action:stopped",{})},e.prototype.__stream=function(){var e=this;return this.__stream_mouse(),this.__stream_tab(),this.__stream_scroll(),this.__mirror_client?this.__stream_mirror(this.__initial_stream):void(this.__mirror_client=new this.__tree_mirror(document,{initialize:function(t,r){e.__initial_stream={f:"initialize",args:[t,r]},e.__stream_mirror(e.__initial_stream)},applyChanged:function(t,r,i,n){e.__stream_mirror({f:"applyChanged",args:[t,r,i,n]})}}))},e.prototype.__stream_mirror=function(e){this.parent.socket.emit("browsing:stream:mirror",e)},e.prototype.__stream_tab=function(){this.parent.socket.emit("browsing:stream:tab",{title:document.title,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight})},e.prototype.__stream_mouse=function(){this.parent.socket.emit("browsing:stream:mouse",{x:this.__mouse_position.x,y:this.__mouse_position.y})},e.prototype.__stream_scroll=function(){this.parent.socket.emit("browsing:stream:scroll",{x:this.__scroll_position.x,y:this.__scroll_position.y})},e.prototype.__bind_mouse=function(){var e=this,t=void 0;"function"==typeof document.onmousemove&&(t=document.onmousemove),document.onmousemove=function(r){var i=e.__mouse_position.last_call;e.__mouse_position.x=r.pageX,e.__mouse_position.y=r.pageY,e.__mouse_position.last_call=Date.now(),i&&Date.now()>i+e.__throttle_delay&&e.__is_playing&&e.__stream_mouse(),"function"==typeof t&&t(r)}},e.prototype.__bind_resize=function(){var e=this,t=void 0;"function"==typeof window.onmousemove&&(t=window.onresize),window.onresize=function(r){var i=e.__resize_params.last_call;e.__resize_params.last_call=Date.now(),i&&Date.now()>i+e.__throttle_delay&&e.__is_playing&&e.__stream_tab(),"function"==typeof t&&t(r)}},e.prototype.__bind_scroll=function(){var e=this,t=void 0;"function"==typeof window.onscroll&&(t=window.onscroll),window.onscroll=function(r){var i=e.__scroll_position.last_call,n=document.documentElement;e.__scroll_position.x=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),e.__scroll_position.y=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),e.__scroll_position.last_call=Date.now(),i&&Date.now()>i+e.__throttle_delay&&e.__is_playing&&e.__stream_scroll(),"function"==typeof t&&t(r)}},e.prototype.__is_dead_remote_peer=function(){return null===this.__last_heartbeat||null!==this.__last_heartbeat&&Date.now()-this.__last_heartbeat>=this.__timeout_dead_peer},e.prototype.__keep_alive=function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==this.__keep_alive_interval&&clearInterval(this.__keep_alive_interval),t===!0&&(this.__keep_alive_interval=setInterval(function(){e.parent.socket.emit("browsing:heartbeat",{}),e.__is_dead_remote_peer()===!0&&e.__stop()},this.__interval_heartbeat))},e}(),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e){this.parent=e,this.__init_storage()}return e.prototype.configure=function(e){this._state_project=e.project,this._state_revision=e.revision,this._state_environment=e.environment,this._state_useragent=e.useragent,this._state_page=e.page},e.prototype.report=function(e,t,r){if(!(this._state_project&&this._state_revision&&this._state_environment&&this._state_useragent&&this._state_page))throw new Error("Missing a configuration parameter. Did you call configure() before?");"object"===("undefined"==typeof r?"undefined":n(r))&&r instanceof Error&&(r={fileName:r.fileName,lineNumber:r.lineNumber,columnNumber:r.columnNumber,message:r.message,stack:r.stack});var i={project:this._state_project,revision:this._state_revision,environment:this._state_environment,useragent:this._state_useragent,page:this._state_page,level:e,namespace:t,traceback:r};this.parent.socket.emit("issue:report",i),this.parent.event.publish("issue:report",i)},e.prototype.__init_storage=function(){this._state_project=null,this._state_revision=null,this._state_environment=null,this._state_useragent=null,this._state_page=null},e}();(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof __crisp_void_define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()})(t,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e,t){"object"===("undefined"==typeof e?"undefined":s(e))&&(t=e,e=void 0),t=t||{};var r,i=a(e),o=i.source,p=i.id,h=i.path,u=l[p]&&h in l[p].nsps,d=t.forceNew||t["force new connection"]||!1===t.multiplex||u;return d?(_("ignoring socket cache for %s",o),r=c(o,t)):(l[p]||(_("new io instance for %s",o),l[p]=c(o,t)),r=l[p]),i.query&&!t.query?t.query=i.query:t&&"object"===s(t.query)&&(t.query=n(t.query)),r.socket(i.path,t)}function n(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(1),o=r(7),c=r(17),_=r(3)("socket.io-client");e.exports=t=i;var l=t.managers={};t.protocol=o.protocol,t.connect=i,t.Manager=r(17),t.Socket=r(44)},function(e,t,r){(function(t){"use strict";function i(e,r){var i=e;r=r||t.location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e="undefined"!=typeof r?r.protocol+"//"+e:"https://"+e),s("parse %s",e),i=n(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var a=i.host.indexOf(":")!==-1,o=a?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port,i.href=i.protocol+"://"+o+(r&&r.port===i.port?"":":"+i.port),i}var n=r(2),s=r(3)("socket.io-client:url");e.exports=i}).call(t,function(){return this}())},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var a=r.exec(e||""),o={},c=14;c--;)o[i[c]]=a[c]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o}},function(e,t,r){(function(i){function n(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function s(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(s=n))}),e.splice(s,0,i),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){try{return t.storage.debug}catch(e){}if("undefined"!=typeof i&&"env"in i)return i.env.DEBUG}function _(){try{return window.localStorage}catch(e){}}t=e.exports=r(5),t.log=a,t.formatArgs=s,t.save=o,t.load=c,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:_(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,r(4))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){f&&u&&(f=!1,u.length?d=u.concat(d):g=-1,d.length&&o())}function o(){if(!f){var e=n(a);f=!0;for(var t=d.length;t;){for(u=d,d=[];++g<t;)u&&u[g].run();g=-1,t=d.length}u=null,f=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function _(){}var l,p,h=e.exports={};(function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}})();var u,d=[],f=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new c(e,t)),1!==d.length||f||n(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=_,h.addListener=_,h.once=_,h.off=_,h.removeListener=_,h.removeAllListeners=_,h.emit=_,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,r){function i(){return t.colors[l++%t.colors.length]}function n(e){function r(){}function n(){var e=n,r=+new Date,s=r-(_||r);e.diff=s,e.prev=_,e.curr=r,_=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(r,i){if("%%"===r)return r;c++;var n=t.formatters[i];if("function"==typeof n){var s=a[c];r=n.call(e,s),a.splice(c,1),c--}return r}),a=t.formatArgs.apply(e,a);var l=n.log||t.log||console.log.bind(console);l.apply(e,a)}r.enabled=!1,n.enabled=!0;var s=t.enabled(e)?n:r;return s.namespace=e,s}function s(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),i=r.length,n=0;n<i;n++)r[n]&&(e=r[n].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function o(e){var r,i;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=n.debug=n,t.coerce=c,t.disable=a,t.enable=s,t.enabled=o,t.humanize=r(6),t.names=[],t.skips=[],t.formatters={};var _,l=0},function(e,t){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*_;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function i(e){return e>=_?Math.round(e/_)+"d":e>=c?Math.round(e/c)+"h":e>=o?Math.round(e/o)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function n(e){return s(e,_,"day")||s(e,c,"hour")||s(e,o,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,o=60*a,c=60*o,_=24*c,l=365.25*_;e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return r(e);if("number"===s&&isNaN(e)===!1)return t.long?n(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){function i(){}function n(e){var r="",i=!1;return r+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(r+=e.attachments,r+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,r+=e.nsp),null!=e.id&&(i&&(r+=",",i=!1),r+=e.id),null!=e.data&&(i&&(r+=","),r+=h.stringify(e.data)),p("encoded %j as %s",e,r),r}function s(e,t){function r(e){var r=d.deconstructPacket(e),i=n(r.packet),s=r.buffers;s.unshift(i),t(s)}d.removeBlobs(e,r)}function a(){this.reconstructor=null}function o(e){var r={},i=0;if(r.type=Number(e.charAt(0)),
null==t.types[r.type])return l();if(t.BINARY_EVENT==r.type||t.BINARY_ACK==r.type){for(var n="";"-"!=e.charAt(++i)&&(n+=e.charAt(i),i!=e.length););if(n!=Number(n)||"-"!=e.charAt(i))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"==e.charAt(i+1))for(r.nsp="";++i;){var s=e.charAt(i);if(","==s)break;if(r.nsp+=s,i==e.length)break}else r.nsp="/";var a=e.charAt(i+1);if(""!==a&&Number(a)==a){for(r.id="";++i;){var s=e.charAt(i);if(null==s||Number(s)!=s){--i;break}if(r.id+=e.charAt(i),i==e.length)break}r.id=Number(r.id)}return e.charAt(++i)&&(r=c(r,e.substr(i))),p("decoded %s as %j",e,r),r}function c(e,t){try{e.data=h.parse(t)}catch(e){return l()}return e}function _(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error"}}var p=r(8)("socket.io-parser"),h=r(11),u=r(13),d=r(14),f=r(16);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=i,t.Decoder=a,i.prototype.encode=function(e,r){if(p("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)s(e,r);else{var i=n(e);r([i])}},u(a.prototype),a.prototype.add=function(e){var r;if("string"==typeof e)r=o(e),t.BINARY_EVENT==r.type||t.BINARY_ACK==r.type?(this.reconstructor=new _(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,this.emit("decoded",r))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},_.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},_.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,r){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function n(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(s=n))}),e.splice(s,0,i),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function o(){var e;try{e=t.storage.debug}catch(e){}return e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=r(9),t.log=s,t.formatArgs=n,t.save=a,t.load=o,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(o())},function(e,t,r){function i(){return t.colors[l++%t.colors.length]}function n(e){function r(){}function n(){var e=n,r=+new Date,s=r-(_||r);e.diff=s,e.prev=_,e.curr=r,_=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var o=0;a[0]=a[0].replace(/%([a-z%])/g,function(r,i){if("%%"===r)return r;o++;var n=t.formatters[i];if("function"==typeof n){var s=a[o];r=n.call(e,s),a.splice(o,1),o--}return r}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var c=n.log||t.log||console.log.bind(console);c.apply(e,a)}r.enabled=!1,n.enabled=!0;var s=t.enabled(e)?n:r;return s.namespace=e,s}function s(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),i=r.length,n=0;n<i;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function o(e){var r,i;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=n,t.coerce=c,t.disable=a,t.enable=s,t.enabled=o,t.humanize=r(10),t.names=[],t.skips=[],t.formatters={};var _,l=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*_;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function i(e){return e>=_?Math.round(e/_)+"d":e>=c?Math.round(e/c)+"h":e>=o?Math.round(e/o)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function n(e){return s(e,_,"day")||s(e,c,"hour")||s(e,o,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,o=60*a,c=60*o,_=24*c,l=365.25*_;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?n(e):i(e)}},function(e,t,r){(function(e,r){var i=!1;(function(){function n(e,t){function r(e){if(r[e]!==g)return r[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=r("json-stringify")&&r("json-parse");else{var a,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&v;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===c(0)&&"0"===c(new i)&&'""'==c(new s)&&c(y)===g&&c(g)===g&&c()===g&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,y,null])&&c({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new _(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new _(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new _(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new _(-1))}catch(e){l=!1}}n=l}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){a=p(o);var h=5==a.a.length&&1===a.a[0];if(h){try{h=!p('"\t"')}catch(e){}if(h)try{h=1!==p("01")}catch(e){}if(h)try{h=1!==p("1.")}catch(e){}}}}catch(e){h=!1}n=h}}return r[e]=!!n}e||(e=c.Object()),t||(t=c.Object());var i=e.Number||c.Number,s=e.String||c.String,o=e.Object||c.Object,_=e.Date||c.Date,l=e.SyntaxError||c.SyntaxError,p=e.TypeError||c.TypeError,h=e.Math||c.Math,u=e.JSON||c.JSON;"object"==typeof u&&u&&(t.stringify=u.stringify,t.parse=u.parse);var d,f,g,m=o.prototype,y=m.toString,v=new _(-0xc782b5b800cec);try{v=v.getUTCFullYear()==-109252&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(e){}if(!r("json")){var b="[object Function]",w="[object Date]",k="[object Number]",L="[object String]",x="[object Array]",C="[object Boolean]",S=r("bug-string-char-index");if(!v)var j=h.floor,z=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return z[t]+365*(e-1970)+j((e-1969+(t=+(t>1)))/4)-j((e-1901+t)/100)+j((e-1601+t)/400)};if((d=m.hasOwnProperty)||(d=function(e){var t,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=y?d=function(e){var t=this.__proto__,r=e in(this.__proto__=null,this);return this.__proto__=t,r}:(t=r.constructor,d=function(e){var r=(this.constructor||t).prototype;return e in this&&!(e in r&&this[e]===r[e])}),r=null,d.call(this,e)}),f=function(e,t){var r,i,n,s=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,i=new r;for(n in i)d.call(i,n)&&s++;return r=i=null,s?f=2==s?function(e,t){var r,i={},n=y.call(e)==b;for(r in e)n&&"prototype"==r||d.call(i,r)||!(i[r]=1)||!d.call(e,r)||t(r)}:function(e,t){var r,i,n=y.call(e)==b;for(r in e)n&&"prototype"==r||!d.call(e,r)||(i="constructor"===r)||t(r);(i||d.call(e,r="constructor"))&&t(r)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(e,t){var r,n,s=y.call(e)==b,o=!s&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(r in e)s&&"prototype"==r||!o.call(e,r)||t(r);for(n=i.length;r=i[--n];o.call(e,r)&&t(r));}),f(e,t)},!r("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",B=function(e,t){return(T+(t||0)).slice(-e)},I="\\u00",O=function(e){for(var t='"',r=0,i=e.length,n=!S||i>10,s=n&&(S?e.split(""):e);r<i;r++){var a=e.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[a];break;default:if(a<32){t+=I+B(2,a.toString(16));break}t+=n?s[r]:e.charAt(r)}}return t+'"'},P=function(e,t,r,i,n,s,a){var o,c,_,l,h,u,m,v,b,S,z,E,T,I,M,D;try{o=t[e]}catch(e){}if("object"==typeof o&&o)if(c=y.call(o),c!=w||d.call(o,"toJSON"))"function"==typeof o.toJSON&&(c!=k&&c!=L&&c!=x||d.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&o<1/0){if(A){for(h=j(o/864e5),_=j(h/365.2425)+1970-1;A(_+1,0)<=h;_++);for(l=j((h-A(_,0))/30.42);A(_,l+1)<=h;l++);h=1+h-A(_,l),u=(o%864e5+864e5)%864e5,m=j(u/36e5)%24,v=j(u/6e4)%60,b=j(u/1e3)%60,S=u%1e3}else _=o.getUTCFullYear(),l=o.getUTCMonth(),h=o.getUTCDate(),m=o.getUTCHours(),v=o.getUTCMinutes(),b=o.getUTCSeconds(),S=o.getUTCMilliseconds();o=(_<=0||_>=1e4?(_<0?"-":"+")+B(6,_<0?-_:_):B(4,_))+"-"+B(2,l+1)+"-"+B(2,h)+"T"+B(2,m)+":"+B(2,v)+":"+B(2,b)+"."+B(3,S)+"Z"}else o=null;if(r&&(o=r.call(t,e,o)),null===o)return"null";if(c=y.call(o),c==C)return""+o;if(c==k)return o>-1/0&&o<1/0?""+o:"null";if(c==L)return O(""+o);if("object"==typeof o){for(I=a.length;I--;)if(a[I]===o)throw p();if(a.push(o),z=[],M=s,s+=n,c==x){for(T=0,I=o.length;T<I;T++)E=P(T,o,r,i,n,s,a),z.push(E===g?"null":E);D=z.length?n?"[\n"+s+z.join(",\n"+s)+"\n"+M+"]":"["+z.join(",")+"]":"[]"}else f(i||o,function(e){var t=P(e,o,r,i,n,s,a);t!==g&&z.push(O(e)+":"+(n?" ":"")+t)}),D=z.length?n?"{\n"+s+z.join(",\n"+s)+"\n"+M+"}":"{"+z.join(",")+"}":"{}";return a.pop(),D}};t.stringify=function(e,t,r){var i,n,s,o;if(a[typeof t]&&t)if((o=y.call(t))==b)n=t;else if(o==x){s={};for(var c,_=0,l=t.length;_<l;c=t[_++],o=y.call(c),(o==L||o==k)&&(s[c]=1));}if(r)if((o=y.call(r))==k){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else o==L&&(i=r.length<=10?r:r.slice(0,10));return P("",(c={},c[""]=e,c),n,s,i,"",[])}}if(!r("json-parse")){var M,D,N=s.fromCharCode,q={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw M=D=null,l()},U=function(){for(var e,t,r,i,n,s=D,a=s.length;M<a;)switch(n=s.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=S?s.charAt(M):s[M],M++,e;case 34:for(e="@",M++;M<a;)if(n=s.charCodeAt(M),n<32)R();else if(92==n)switch(n=s.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=q[n],M++;break;case 117:for(t=++M,r=M+4;M<r;M++)n=s.charCodeAt(M),n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70||R();e+=N("0x"+s.slice(t,M));break;default:R()}else{if(34==n)break;for(n=s.charCodeAt(M),t=M;n>=32&&92!=n&&34!=n;)n=s.charCodeAt(++M);e+=s.slice(t,M)}if(34==s.charCodeAt(M))return M++,e;R();default:if(t=M,45==n&&(i=!0,n=s.charCodeAt(++M)),n>=48&&n<=57){for(48==n&&(n=s.charCodeAt(M+1),n>=48&&n<=57)&&R(),i=!1;M<a&&(n=s.charCodeAt(M),n>=48&&n<=57);M++);if(46==s.charCodeAt(M)){for(r=++M;r<a&&(n=s.charCodeAt(r),n>=48&&n<=57);r++);r==M&&R(),M=r}if(n=s.charCodeAt(M),101==n||69==n){for(n=s.charCodeAt(++M),43!=n&&45!=n||M++,r=M;r<a&&(n=s.charCodeAt(r),n>=48&&n<=57);r++);r==M&&R(),M=r}return+s.slice(t,M)}if(i&&R(),"true"==s.slice(M,M+4))return M+=4,!0;if("false"==s.slice(M,M+5))return M+=5,!1;if("null"==s.slice(M,M+4))return M+=4,null;R()}return"$"},H=function(e){var t,r;if("$"==e&&R(),"string"==typeof e){if("@"==(S?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=U(),"]"!=e;r||(r=!0))r&&(","==e?(e=U(),"]"==e&&R()):R()),","==e&&R(),t.push(H(e));return t}if("{"==e){for(t={};e=U(),"}"!=e;r||(r=!0))r&&(","==e?(e=U(),"}"==e&&R()):R()),","!=e&&"string"==typeof e&&"@"==(S?e.charAt(0):e[0])&&":"==U()||R(),t[e.slice(1)]=H(U());return t}R()}return e},$=function(e,t,r){var i=F(e,t,r);i===g?delete e[t]:e[t]=i},F=function(e,t,r){var i,n=e[t];if("object"==typeof n&&n)if(y.call(n)==x)for(i=n.length;i--;)$(n,i,r);else f(n,function(e){$(n,e,r)});return r.call(e,t,n)};t.parse=function(e,t){var r,i;return M=0,D=""+e,r=H(U()),"$"!=U()&&R(),M=D=null,t&&y.call(t)==b?F((i={},i[""]=r,i),"",t):r}}}return t.runInContext=n,t}var s="function"==typeof __crisp_void_define&&i.amd,a={function:!0,object:!0},o=a[typeof t]&&t&&!t.nodeType&&t,c=a[typeof window]&&window||this,_=o&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof r&&r;if(!_||_.global!==_&&_.window!==_&&_.self!==_||(c=_),o&&!s)n(c,o);else{var l=c.JSON,p=c.JSON3,h=!1,u=n(c,c.JSON3={noConflict:function(){return h||(h=!0,c.JSON=l,c.JSON3=p,l=p=null),u}});c.JSON={parse:u.parse,stringify:u.stringify}}s&&i(function(){return u})}).call(this)}).call(t,r(12)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){i.off(e,r),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===t||i.fn===t){r.splice(n,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){(function(e){var i=r(15),n=r(16);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(n(e)){var s={_placeholder:!0,num:r.length};return r.push(e),s}if(i(e)){for(var a=new Array(e.length),o=0;o<e.length;o++)a[o]=t(e[o]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c]);return a}return e}var r=[],s=e.data,a=e;return a.data=t(s),a.attachments=r.length,{packet:a,buffers:r}},t.reconstructPacket=function(e,t){function r(e){if(e&&e._placeholder){var n=t[e.num];return n}if(i(e)){for(var s=0;s<e.length;s++)e[s]=r(e[s]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=r(e[a]);return e}return e}return e.data=r(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,r){function s(t,c,_){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var l=new FileReader;l.onload=function(){_?_[c]=this.result:o=this.result,--a||r(o)},l.readAsArrayBuffer(t)}else if(i(t))for(var p=0;p<t.length;p++)s(t[p],p,t);else if(t&&"object"==typeof t&&!n(t))for(var h in t)s(t[h],h,t)}var a=0,o=t;s(o),a||r(o)}}).call(t,function(){return this}())},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){(function(t){function r(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=r}).call(t,function(){return this}())},function(e,t,r){"use strict";function i(e,t){return this instanceof i?(e&&"object"===("undefined"==typeof e?"undefined":n(e))&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(e,t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(18),a=r(44),o=r(35),c=r(7),_=r(46),l=r(47),p=r(3)("socket.io-client:manager"),h=r(42),u=r(48),d=Object.prototype.hasOwnProperty;e.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e,t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=s(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var n=_(r,"open",function(){i.onopen(),e&&e()}),a=_(r,"error",function(t){if(p("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;p("connect attempt will timeout after %d",o);var c=setTimeout(function(){p("connect attempt timed out after %d",o),n.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(n),this.subs.push(a),this},i.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(_(e,"data",l(this,"ondata"))),this.subs.push(_(e,"ping",l(this,"onping"))),this.subs.push(_(e,"pong",l(this,"onpong"))),this.subs.push(_(e,"error",l(this,"onerror"))),this.subs.push(_(e,"close",l(this,"onclose"))),this.subs.push(_(this.decoder,"decoded",l(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){p("error",e),this.emitAll("error",e)},i.prototype.socket=function(e,t){function r(){~h(n.connecting,i)||n.connecting.push(i)}var i=this.nsps[e];if(!i){i=new a(this,e,t),this.nsps[e]=i;var n=this;i.on("connecting",r),i.on("connect",function(){i.id=n.engine.id}),this.autoConnect&&r()}return i},i.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){p("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var i=0;i<r.length;i++)t.engine.write(r[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){p("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){p("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){p("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();p("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(p("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(p("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(p("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,r){e.exports=r(19)},function(e,t,r){e.exports=r(20),e.exports.parser=r(27)},function(e,t,r){(function(t){function i(e,r){if(!(this instanceof i))return new i(e,r);r=r||{},e&&"object"==typeof e&&(r=e,e=null),e?(e=l(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=l(r.host).host),this.secure=null!=r.secure?r.secure:t.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(t.location?location.hostname:"localhost"),this.port=r.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?null:r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n="object"==typeof t&&t;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function n(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var s=r(21),a=r(35),o=r(3)("engine.io-client:socket"),c=r(42),_=r(27),l=r(2),p=r(43),h=r(36);e.exports=i,i.priorWebsocketSuccess=!1,a(i.prototype),i.protocol=_.protocol,i.Socket=i,i.Transport=r(26),i.transports=r(21),i.parser=r(27),i.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=n(this.query);t.EIO=_.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return r},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(o('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(o('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",l),!l)return;i.priorWebsocketSuccess="websocket"===l.name,o('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"!==h.readyState&&(o("changing transport and sending upgrade packet"),_(),h.setTransport(l),l.send([{type:"upgrade"}]),h.emit("upgrade",l),l=null,h.upgrading=!1,h.flush())})}else{o('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=l.name,h.emit("upgradeError",r)}}))}function r(){p||(p=!0,_(),l.close(),l=null)}function n(t){var i=new Error("probe error: "+t);i.transport=l.name,r(),o('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",i)}function s(){n("transport closed")}function a(){n("socket closed")}function c(e){l&&e.name!==l.name&&(o('"%s" works - aborting "%s"',e.name,l.name),r())}function _(){l.removeListener("open",t),l.removeListener("error",n),l.removeListener("close",s),h.removeListener("close",a),h.removeListener("upgrading",c)}o('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),p=!1,h=this;i.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",n),l.once("close",s),this.once("close",a),this.once("upgrading",c),l.open()},i.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},i.prototype.sendPacket=function(e,t,r,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof r&&(i=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var n={type:e,data:t,options:r};this.emit("packetCreate",n),this.writeBuffer.push(n),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),o("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function r(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}return this},i.prototype.onError=function(e){o("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],r=0,i=e.length;r<i;r++)~c(this.transports,e[r])&&t.push(e[r]);
return t}}).call(t,function(){return this}())},function(e,t,r){(function(e){function i(t){var r,i=!1,o=!1,c=!1!==t.jsonp;if(e.location){var _="https:"===location.protocol,l=location.port;l||(l=_?443:80),i=t.hostname!==location.hostname||l!==t.port,o=t.secure!==_}if(t.xdomain=i,t.xscheme=o,r=new n(t),"open"in r&&!t.forceJSONP)return new s(t);if(!c)throw new Error("JSONP disabled");return new a(t)}var n=r(22),s=r(24),a=r(39),o=r(40);t.polling=i,t.websocket=o}).call(t,function(){return this}())},function(e,t,r){(function(t){var i=r(23);e.exports=function(e){var r=e.xdomain,n=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(e){}if(!r)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,r){(function(t){function i(){}function n(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var r="https:"===location.protocol,i=location.port;i||(i=r?443:80),this.xd=e.hostname!==t.location.hostname||i!==e.port,this.xs=e.secure!==r}else this.extraHeaders=e.extraHeaders}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var o=r(22),c=r(25),_=r(35),l=r(37),p=r(3)("engine.io-client:polling-xhr");e.exports=n,e.exports.Request=s,l(n,c),n.prototype.supportsBinary=!0,n.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new s(e)},n.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:r}),n=this;i.on("success",t),i.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=i},n.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},_(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new o(e),i=this;try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var n in this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.extraHeaders[n])}}catch(e){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){i.onLoad()},r.onerror=function(){i.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?i.onLoad():setTimeout(function(){i.onError(r.status)},0))},p("xhr data %s",this.data),r.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}t.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}t.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var r=new Uint8Array(this.xhr.response),i=[],n=0,s=r.length;n<s;n++)i.push(r[n]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},s.requestsCount=0,s.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,r){function i(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),n.call(this,e)}var n=r(26),s=r(36),a=r(27),o=r(37),c=r(38),_=r(3)("engine.io-client:polling");e.exports=i;var l=function(){var e=r(22),t=new e({xdomain:!1});return null!=t.responseType}();o(i,n),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){_("paused"),r.readyState="paused",e()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(_("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){_("pre-pause polling complete"),--i||t()})),this.writable||(_("we are currently writing - waiting to pause"),i++,this.once("drain",function(){_("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){_("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;_("polling got data %s",e);var r=function(e,r,i){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():_('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){_("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(_("transport open - closing"),e()):(_("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e}},function(e,t,r){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var n=r(27),s=r(35);e.exports=i,s(i.prototype),i.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,r){(function(e){function i(e,r){var i="b"+t.packets[e.type]+e.data.data;return r(i)}function n(e,r,i){if(!r)return t.encodeBase64Packet(e,i);var n=e.data,s=new Uint8Array(n),a=new Uint8Array(1+n.byteLength);a[0]=y[e.type];for(var o=0;o<s.length;o++)a[o+1]=s[o];return i(a.buffer)}function s(e,r,i){if(!r)return t.encodeBase64Packet(e,i);var n=new FileReader;return n.onload=function(){e.data=n.result,t.encodePacket(e,r,!0,i)},n.readAsArrayBuffer(e.data)}function a(e,r,i){if(!r)return t.encodeBase64Packet(e,i);if(m)return s(e,r,i);var n=new Uint8Array(1);n[0]=y[e.type];var a=new w([n.buffer,e.data]);return i(a)}function o(e){try{e=d.decode(e)}catch(e){return!1}return e}function c(e,t,r){for(var i=new Array(e.length),n=u(e.length,r),s=function(e,r,n){t(r,function(t,r){i[e]=r,n(t,i)})},a=0;a<e.length;a++)s(a,e[a],n)}var _,l=r(28),p=r(29),h=r(30),u=r(31),d=r(32);e&&e.ArrayBuffer&&(_=r(33));var f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=f||g;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=l(y),b={type:"error",data:"parser error"},w=r(34);t.encodePacket=function(t,r,s,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof s&&(o=s,s=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return n(t,r,o);if(w&&c instanceof e.Blob)return a(t,r,o);if(c&&c.base64)return i(t,o);var _=y[t.type];return void 0!==t.data&&(_+=s?d.encode(String(t.data)):String(t.data)),o(""+_)},t.encodeBase64Packet=function(r,i){var n="b"+t.packets[r.type];if(w&&r.data instanceof e.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];i(n+e)},s.readAsDataURL(r.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(e){for(var o=new Uint8Array(r.data),c=new Array(o.length),_=0;_<o.length;_++)c[_]=o[_];a=String.fromCharCode.apply(null,c)}return n+=e.btoa(a),i(n)},t.decodePacket=function(e,r,i){if(void 0===e)return b;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(i&&(e=o(e),e===!1))return b;var n=e.charAt(0);return Number(n)==n&&v[n]?e.length>1?{type:v[n],data:e.substring(1)}:{type:v[n]}:b}var s=new Uint8Array(e),n=s[0],a=h(e,1);return w&&"blob"===r&&(a=new w([a])),{type:v[n],data:a}},t.decodeBase64Packet=function(e,t){var r=v[e.charAt(0)];if(!_)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=_.decode(e.substr(1));return"blob"===t&&w&&(i=new w([i])),{type:r,data:i}},t.encodePayload=function(e,r,i){function n(e){return e.length+":"+e}function s(e,i){t.encodePacket(e,!!a&&r,!0,function(e){i(null,n(e))})}"function"==typeof r&&(i=r,r=null);var a=p(e);return r&&a?w&&!m?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void c(e,s,function(e,t){return i(t.join(""))}):i("0:")},t.decodePayload=function(e,r,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,i);"function"==typeof r&&(i=r,r=null);var n;if(""==e)return i(b,0,1);for(var s,a,o="",c=0,_=e.length;c<_;c++){var l=e.charAt(c);if(":"!=l)o+=l;else{if(""==o||o!=(s=Number(o)))return i(b,0,1);if(a=e.substr(c+1,s),o!=a.length)return i(b,0,1);if(a.length){if(n=t.decodePacket(a,r,!0),b.type==n.type&&b.data==n.data)return i(b,0,1);var p=i(n,c+s,_);if(!1===p)return}c+=s,o=""}}return""!=o?i(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){function i(e,r){t.encodePacket(e,!0,!0,function(e){return r(null,e)})}return e.length?void c(e,i,function(e,t){var i=t.reduce(function(e,t){var r;return r="string"==typeof t?t.length:t.byteLength,e+r.toString().length+r+2},0),n=new Uint8Array(i),s=0;return t.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);r=i.buffer}t?n[s++]=0:n[s++]=1;for(var o=r.byteLength.toString(),a=0;a<o.length;a++)n[s++]=parseInt(o[a]);n[s++]=255;for(var i=new Uint8Array(r),a=0;a<i.length;a++)n[s++]=i[a]}),r(n.buffer)}):r(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,r){function i(e,r){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);e=i.buffer,t[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,a=s.toString(),o=new Uint8Array(a.length+1),n=0;n<a.length;n++)o[n]=parseInt(a[n]);if(o[a.length]=255,w){var c=new w([t.buffer,o.buffer,e]);r(null,c)}})}c(e,i,function(e,t){return r(new w(t))})},t.decodePayloadAsBinary=function(e,r,i){"function"==typeof r&&(i=r,r=null);for(var n=e,s=[],a=!1;n.byteLength>0;){for(var o=new Uint8Array(n),c=0===o[0],_="",l=1;255!=o[l];l++){if(_.length>310){a=!0;break}_+=o[l]}if(a)return i(b,0,1);n=h(n,2+_.length),_=parseInt(_);var p=h(n,0,_);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var u=new Uint8Array(p);p="";for(var l=0;l<u.length;l++)p+=String.fromCharCode(u[l])}s.push(p),n=h(n,_)}var d=s.length;s.forEach(function(e,n){i(t.decodePacket(e,r,!0),n,d)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var i in e)r.call(e,i)&&t.push(i);return t}},function(e,t,r){(function(t){function i(e){function r(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(n(e)){for(var i=0;i<e.length;i++)if(r(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return!0}return!1}return r(e)}var n=r(15);e.exports=i}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,r){var i=e.byteLength;if(t=t||0,r=r||i,e.slice)return e.slice(t,r);if(t<0&&(t+=i),r<0&&(r+=i),r>i&&(r=i),t>=i||t>=r||0===i)return new ArrayBuffer(0);for(var n=new Uint8Array(e),s=new Uint8Array(r-t),a=t,o=0;a<r;a++,o++)s[o]=n[a];return s.buffer}},function(e,t){function r(e,t,r){function n(e,i){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(s=!0,t(e),t=r):0!==n.count||s||t(null,i)}var s=!1;return r=r||i,n.count=e,0===e?t():n}function i(){}e.exports=r},function(e,t,r){var i;(function(e,n){(function(s){function a(e){for(var t,r,i=[],n=0,s=e.length;n<s;)t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<s?(r=e.charCodeAt(n++),56320==(64512&r)?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),n--)):i.push(t);return i}function o(e){for(var t,r=e.length,i=-1,n="";++i<r;)t=e[i],t>65535&&(t-=65536,n+=v(t>>>10&1023|55296),t=56320|1023&t),n+=v(t);return n}function c(e,t){return v(e>>t&63|128)}function _(e){if(0==(4294967168&e))return v(e);var t="";return 0==(4294965248&e)?t=v(e>>6&31|192):0==(4294901760&e)?(t=v(e>>12&15|224),t+=c(e,6)):0==(4292870144&e)&&(t=v(e>>18&7|240),t+=c(e,12),t+=c(e,6)),t+=v(63&e|128)}function l(e){for(var t,r=a(e),i=r.length,n=-1,s="";++n<i;)t=r[n],s+=_(t);return s}function p(){if(y>=m)throw Error("Invalid byte index");var e=255&g[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(){var e,t,r,i,n;if(y>m)throw Error("Invalid byte index");if(y==m)return!1;if(e=255&g[y],y++,0==(128&e))return e;if(192==(224&e)){var t=p();if(n=(31&e)<<6|t,n>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=p(),r=p(),n=(15&e)<<12|t<<6|r,n>=2048)return n;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=p(),r=p(),i=p(),n=(15&e)<<18|t<<12|r<<6|i,n>=65536&&n<=1114111))return n;throw Error("Invalid WTF-8 detected")}function u(e){g=a(e),m=g.length,y=0;for(var t,r=[];(t=h())!==!1;)r.push(t);return o(r)}var d="object"==typeof t&&t,f=("object"==typeof e&&e&&e.exports==d&&e,"object"==typeof n&&n);f.global!==f&&f.window!==f||(s=f);var g,m,y,v=String.fromCharCode,b={version:"1.0.0",encode:l,decode:u};i=function(){return b}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))})(this)}).call(t,r(12)(e),function(){return this}())},function(e,t){(function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),i=0;i<e.length;i++)r[e.charCodeAt(i)]=i;t.encode=function(t){var r,i=new Uint8Array(t),n=i.length,s="";for(r=0;r<n;r+=3)s+=e[i[r]>>2],s+=e[(3&i[r])<<4|i[r+1]>>4],s+=e[(15&i[r+1])<<2|i[r+2]>>6],s+=e[63&i[r+2]];return n%3===2?s=s.substring(0,s.length-1)+"=":n%3===1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,i,n,s,a,o=.75*e.length,c=e.length,_=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l=new ArrayBuffer(o),p=new Uint8Array(l);for(t=0;t<c;t+=4)i=r[e.charCodeAt(t)],n=r[e.charCodeAt(t+1)],s=r[e.charCodeAt(t+2)],a=r[e.charCodeAt(t+3)],p[_++]=i<<2|n>>4,p[_++]=(15&n)<<4|s>>2,p[_++]=(3&s)<<6|63&a;return l}})()},function(e,t){(function(t){function r(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var i=r.buffer;if(r.byteLength!==i.byteLength){var n=new Uint8Array(r.byteLength);n.set(new Uint8Array(i,r.byteOffset,r.byteLength)),i=n.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new s;r(e);for(var n=0;n<e.length;n++)i.append(e[n]);return t.type?i.getBlob(t.type):i.getBlob()}function n(e,t){return r(e),new Blob(e,t||{})}var s=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),o=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;e.exports=function(){return a?o?t.Blob:n:c?i:void 0}()}).call(t,function(){return this}())},function(e,t,r){function i(e){if(e)return n(e)}function n(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===t||i.fn===t){r.splice(n,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),i=0,n=r.length;i<n;i++){var s=r[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){"use strict";function r(e){var t="";do t=a[e%o]+t,e=Math.floor(e/o);while(e>0);return t}function i(e){var t=0;for(l=0;l<e.length;l++)t=t*o+c[e.charAt(l)];return t}function n(){var e=r(+new Date);return e!==s?(_=0,s=e):e+"."+r(_++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,c={},_=0,l=0;l<o;l++)c[a[l]]=l;n.encode=r,n.decode=i,e.exports=n},function(e,t,r){(function(t){function i(){}function n(e){s.call(this,e),this.query=this.query||{},o||(t.___eio||(t.___eio=[]),o=t.___eio),this.index=o.length;var r=this;o.push(function(e){r.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=i)},!1)}var s=r(25),a=r(37);e.exports=n;var o,c=/\n/g,_=/\\n/g;a(n,s),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},n.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},n.prototype.doWrite=function(e,t){function r(){i(),t()}function i(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(e)}catch(e){s=document.createElement("iframe"),s.name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}var n=this;if(!this.form){var s,a=document.createElement("form"),o=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),o.name="d",a.appendChild(o),document.body.appendChild(a),this.form=a,this.area=o}this.form.action=this.uri(),i(),e=e.replace(_,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&r()}:this.iframe.onload=r}}).call(t,function(){return this}())},function(e,t,r){(function(t){function i(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.usingBrowserWebSocket||(h=n),s.call(this,e)}var n,s=r(26),a=r(27),o=r(36),c=r(37),_=r(38),l=r(3)("engine.io-client:websocket"),p=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{n=r(41)}catch(e){}var h=p;h||"undefined"!=typeof window||(h=n),e.exports=i,c(i,s),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new h(e):new h(e,t,r)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},i.prototype.write=function(e){function r(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var n=e.length,s=0,o=n;s<o;s++)(function(e){a.encodePacket(e,i.supportsBinary,function(s){if(!i.usingBrowserWebSocket){var a={};if(e.options&&(a.compress=e.options.compress),i.perMessageDeflate){var o="string"==typeof s?t.Buffer.byteLength(s):s.length;o<i.perMessageDeflate.threshold&&(a.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(s):i.ws.send(s,a)}catch(e){l("websocket closed before onclose event")}--n||r()})})(e[s])},i.prototype.onClose=function(){s.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=_()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+r+this.path+e},i.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===i.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t){(function(t){var r=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,o=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(o,""),t.JSON&&JSON.parse?JSON.parse(e):r.test(e.replace(i,"@").replace(n,"]").replace(s,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,r){"use strict";function i(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var n=r(7),s=r(35),a=r(45),o=r(46),c=r(47),_=r(3)("socket.io-client:socket"),l=r(29);e.exports=t=i;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=s.prototype.emit;s(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",c(this,"onopen")),o(e,"packet",c(this,"onpacket")),o(e,"close",c(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(p.hasOwnProperty(e))return h.apply(this,arguments),this;var t=a(arguments),r=n.EVENT;l(t)&&(r=n.BINARY_EVENT);var i={type:r,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(_("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){_("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:n.CONNECT,query:this.query}):this.packet({type:n.CONNECT}))},i.prototype.onclose=function(e){_("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:this.onevent(e);break;case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:this.onack(e);break;case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];_("emitting event %j",t),null!=e.id&&(_("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=a(arguments);_("sending ack %j",i);var s=l(i)?n.BINARY_ACK:n.ACK;t.packet({type:s,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(_("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):_("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){_("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(_("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function r(e,t){var r=[];t=t||0;for(var i=t||0;i<e.length;i++)r[i-t]=e[i];return r}e.exports=r},function(e,t){function r(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}e.exports=r},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=r.call(arguments,2);return function(){return t.apply(e,i.concat(r.call(arguments)))}}},function(e,t){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}}])}),function(e,t){"use strict";if("function"==typeof __crisp_void_define&&define.amd)define(["exports"],t);else if("object"==typeof exports)t(exports);else{var r={};e.PubSub=r,t(r)}}("object"==typeof t&&t||this,function(e){"use strict";function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e){return function(){throw e}}function i(e,t,i){try{e(t,i)}catch(e){setTimeout(r(e),0)}}function n(e,t,r){e(t,r)}function s(e,t,r,s){var a,o=_[t],c=s?n:i;if(_.hasOwnProperty(t))for(a in o)o.hasOwnProperty(a)&&c(o[a],e,r)}function a(e,t,r){return function(){var i=String(e),n=i.lastIndexOf(".");for(s(e,e,t,r);n!==-1;)i=i.substr(0,n),n=i.lastIndexOf("."),s(e,i,t,r)}}function o(e){for(var r=String(e),i=Boolean(_.hasOwnProperty(r)&&t(_[r])),n=r.lastIndexOf(".");!i&&n!==-1;)r=r.substr(0,n),n=r.lastIndexOf("."),i=Boolean(_.hasOwnProperty(r)&&t(_[r]));return i}function c(e,t,r,i){
var n=a(e,t,i),s=o(e);return!!s&&(r===!0?n():setTimeout(n,0),!0)}var _={},l=-1;e.publish=function(t,r){return c(t,r,!1,e.immediateExceptions)},e.publishSync=function(t,r){return c(t,r,!0,e.immediateExceptions)},e.subscribe=function(e,t){if("function"!=typeof t)return!1;_.hasOwnProperty(e)||(_[e]={});var r="uid_"+String(++l);return _[e][r]=t,r},e.clearAllSubscriptions=function(){_={}},e.clearSubscriptions=function(e){var t;for(t in _)_.hasOwnProperty(t)&&0===t.indexOf(e)&&delete _[t]},e.unsubscribe=function(e){var t,r,i,n="string"==typeof e&&_.hasOwnProperty(e),s=!n&&"string"==typeof e,a="function"==typeof e,o=!1;if(n)return void delete _[e];for(t in _)if(_.hasOwnProperty(t)){if(r=_[t],s&&r[e]){delete r[e],o=e;break}if(a)for(i in r)r.hasOwnProperty(i)&&r[i]===e&&(delete r[i],o=!0)}return o}}),function(e,t){"use strict";var r=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var r=function(e,t,i){return 1===arguments.length?r.get(e):r.set(e,t,i)};return r._document=e.document,r._cacheKeyPrefix="cookey.",r._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),r.defaults={path:"/",secure:!1},r.get=function(e){r._cachedDocumentCookie!==r._document.cookie&&r._renewCache();var i=r._cache[r._cacheKeyPrefix+e];return i===t?t:decodeURIComponent(i)},r.set=function(e,i,n){return n=r._getExtendedOptions(n),n.expires=r._getExpiresDate(i===t?-1:n.expires),r._document.cookie=r._generateCookieString(e,i,n),r},r.expire=function(e,i){return r.set(e,t,i)},r._getExtendedOptions=function(e){return{path:e&&e.path||r.defaults.path,domain:e&&e.domain||r.defaults.domain,expires:e&&e.expires||r.defaults.expires,secure:e&&e.secure!==t?e.secure:r.defaults.secure}},r._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},r._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?r._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!r._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},r._generateCookieString=function(e,t,r){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),r=r||{};var i=e+"="+t;return i+=r.path?";path="+r.path:"",i+=r.domain?";domain="+r.domain:"",i+=r.expires?";expires="+r.expires.toUTCString():"",i+=r.secure?";secure":""},r._getCacheFromString=function(e){for(var i={},n=e?e.split("; "):[],s=0;s<n.length;s++){var a=r._getKeyValuePairFromCookieString(n[s]);i[r._cacheKeyPrefix+a.key]===t&&(i[r._cacheKeyPrefix+a.key]=a.value)}return i},r._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var r,i=e.substr(0,t);try{r=decodeURIComponent(i)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+i+'"',e)}return{key:r,value:e.substr(t+1)}},r._renewCache=function(){r._cache=r._getCacheFromString(r._document.cookie),r._cachedDocumentCookie=r._document.cookie},r._areEnabled=function(){var e="cookies.js",t="1"===r.set(e,1).get(e);return r.expire(e),t},r.enabled=r._areEnabled(),r},i="object"==typeof e.document?r(e):r;"function"==typeof __crisp_void_define&&define.amd?define(function(){return i}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=i),exports.Cookies=i):e.Cookies=i}(t),this.__configure(e),this.__transports(e,t),this.Browsing=new _(this),this.Message=new r(this),this.Session=new i(this),this.Storage=new s(this),this.Website=new a(this),this.Bucket=new o(this),this.Media=new c(this),this.Issue=new l(this)},e.prototype.__configure=function(e){e&&e.environment&&(this.environment=e.environment||"development"),e&&e.disable_autoload&&(this.disable_autoload=e.disable_autoload),e&&e.url_go&&(this.url_go=e.url_go),e&&e.website_domain&&(this.website_domain=e.website_domain),e&&e.website_id&&(this.website_id=e.website_id),e&&e.token_id&&(this.token_id=e.token_id),this.device={},e&&e.useragent&&(this.device.useragent=e.useragent),e&&e.timezone&&(this.device.timezone=e.timezone),e&&e.locales&&(this.device.locales=e.locales),e&&e.page_url&&(this.device.page_url=e.page_url),e&&e.page_title&&(this.device.page_title=e.page_title),e&&e.page_referrer&&(this.device.page_referrer=e.page_referrer)},e.prototype.__transports=function(e,t){var r=this,i=["websocket","polling"];"production"===this.environment&&(i=["websocket"]),this.event=t.PubSub,this.socket=t.io(e.url_relay,{path:"/",transports:i,reconnectionDelay:1e4,reconnectionDelayMax:3e4}),window.addEventListener("unload",function(){r.socket.connected===!0&&r.socket.disconnect()}),this.cookie=t.Cookies(window)},e}());var s={};s.client=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p,h,u,d){r.push('<div class="crisp-client"><div class="crisp-0"><style type="text/css">.crisp-client .crisp-1 .crisp-2,\n.crisp-client .crisp-1 .crisp-3:hover,\n.crisp-client .crisp-1 .crisp-3:focus {\n  color: '+i.Library.jade.runtime.escape(null==(t=a.reverse.hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a.reverse.hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-4,\n.crisp-client .crisp-1 .crisp-5:hover,\n.crisp-client .crisp-1 .crisp-5:focus {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[900].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[900].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-6,\n.crisp-client .crisp-1 .crisp-7:hover,\n.crisp-client .crisp-1 .crisp-7:focus {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[500].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[500].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-8,\n.crisp-client .crisp-1 .crisp-9:hover,\n.crisp-client .crisp-1 .crisp-9:focus {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[300].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[300].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-10 {\n  background-color: "+i.Library.jade.runtime.escape(null==(t=a.reverse.hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-11 {\n  background-color: "+i.Library.jade.runtime.escape(null==(t=a[500].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-12 {\n  background-color: "+i.Library.jade.runtime.escape(null==(t=a[10].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-13,\n.crisp-client .crisp-1 .crisp-14:hover,\n.crisp-client .crisp-1 .crisp-14:focus {\n  border-color: "+i.Library.jade.runtime.escape(null==(t=a.reverse.hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-15,\n.crisp-client .crisp-1 .crisp-16:hover,\n.crisp-client .crisp-1 .crisp-16:focus {\n  border-color: "+i.Library.jade.runtime.escape(null==(t=a.reverse.rgba(.6))?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-17,\n.crisp-client .crisp-1 .crisp-18:hover,\n.crisp-client .crisp-1 .crisp-18:focus {\n  border-color: "+i.Library.jade.runtime.escape(null==(t=a[800].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-19,\n.crisp-client .crisp-1 .crisp-20:hover,\n.crisp-client .crisp-1 .crisp-20:focus {\n  border-color: "+i.Library.jade.runtime.escape(null==(t=a[500].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-21:placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-21:-moz-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-21::-moz-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-21:-ms-input-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-21::-webkit-input-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-22:placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-22:-moz-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-22::-moz-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-22:-ms-input-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-22::-webkit-input-placeholder {\n  color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n  -webkit-text-fill-color: "+i.Library.jade.runtime.escape(null==(t=a[200].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-23 {\n  background: "+i.Library.jade.runtime.escape(null==(t=a[500].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-23:hover,\n.crisp-client .crisp-1 .crisp-23:focus {\n  background: "+i.Library.jade.runtime.escape(null==(t=a[700].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-23:active {\n  background: "+i.Library.jade.runtime.escape(null==(t=a[900].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-24::-moz-selection,\n.crisp-client .crisp-1 .crisp-24 *::-moz-selection {\n  background-color: "+i.Library.jade.runtime.escape(null==(t=a[100].hex)?"":t)+" !important;\n}\n\n.crisp-client .crisp-1 .crisp-24::selection,\n.crisp-client .crisp-1 .crisp-24 *::selection {\n  background-color: "+i.Library.jade.runtime.escape(null==(t=a[100].hex)?"":t)+" !important;\n}</style>"),u.default_button_horizontal&&r.push('<style type="text/css">.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="false"] .crisp-25 .crisp-26,\n.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="false"] .crisp-25 .crisp-27 {\n  margin-right: '+i.Library.jade.runtime.escape(null==(t=u.default_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="false"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-right: '+i.Library.jade.runtime.escape(null==(t=u.default_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="true"] .crisp-25 .crisp-26,\n.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="true"] .crisp-25 .crisp-27 {\n  margin-left: '+i.Library.jade.runtime.escape(null==(t=u.default_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="false"][data-position-reverse="true"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-left: '+i.Library.jade.runtime.escape(null==(t=u.default_button_horizontal)?"":t)+"px !important;\n}\n</style>"),u.default_button_vertical&&r.push('<style type="text/css">.crisp-client .crisp-1[data-full-view="false"] .crisp-25 .crisp-26,\n.crisp-client .crisp-1[data-full-view="false"] .crisp-25 .crisp-27 {\n  margin-bottom: '+i.Library.jade.runtime.escape(null==(t=u.default_button_vertical)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="false"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-bottom: '+i.Library.jade.runtime.escape(null==(t=u.default_button_vertical)?"":t)+"px !important;\n}\n</style>"),u.mobile_button_horizontal&&r.push('<style type="text/css">.crisp-client .crisp-1[data-full-view="true"][data-position-reverse="false"] .crisp-25 .crisp-26 {\n  margin-right: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="true"][data-position-reverse="false"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-right: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="true"][data-position-reverse="true"] .crisp-25 .crisp-26 {\n  margin-left: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_horizontal)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="true"][data-position-reverse="true"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-left: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_horizontal)?"":t)+"px !important;\n}\n</style>"),u.mobile_button_vertical&&r.push('<style type="text/css">.crisp-client .crisp-1[data-full-view="true"] .crisp-25 .crisp-26 {\n  margin-bottom: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_vertical)?"":t)+'px !important;\n}\n\n.crisp-client .crisp-1[data-full-view="true"] .crisp-25 .crisp-26 .crisp-28 .crisp-29 {\n  margin-bottom: '+i.Library.jade.runtime.escape(null==(t=u.mobile_button_vertical)?"":t)+"px !important;\n}</style>"),r.push("</div><div"+i.Library.jade.runtime.attr("lang",""+l,!0,!1)+i.Library.jade.runtime.attr("dir",""+o,!0,!1)+i.Library.jade.runtime.attr("data-blocked-page",""+s,!0,!1)+i.Library.jade.runtime.attr("data-blocked-locale",""+n,!0,!1)+i.Library.jade.runtime.attr("data-lock-maximized",""+h,!0,!1)+i.Library.jade.runtime.attr("data-last-operator-face",""+p,!0,!1)+i.Library.jade.runtime.attr("data-availability-tooltip",""+e,!0,!1)+i.Library.jade.runtime.attr("data-hide-on-away",""+_,!0,!1)+i.Library.jade.runtime.attr("data-position-reverse",""+d,!0,!1)+i.Library.jade.runtime.attr("data-force-identify",""+c,!0,!1)+' data-availability="none" data-was-availability-online="false" data-has-exchanged-messages="false" data-has-trigger-messages="false" class="crisp-1"></div></div>')}.call(this,"availability_tooltip"in n?n.availability_tooltip:"undefined"!=typeof availability_tooltip?availability_tooltip:void 0,"blocked_locale"in n?n.blocked_locale:"undefined"!=typeof blocked_locale?blocked_locale:void 0,"blocked_page"in n?n.blocked_page:"undefined"!=typeof blocked_page?blocked_page:void 0,"colors"in n?n.colors:"undefined"!=typeof colors?colors:void 0,"direction"in n?n.direction:"undefined"!=typeof direction?direction:void 0,"force_identify"in n?n.force_identify:"undefined"!=typeof force_identify?force_identify:void 0,"hide_on_away"in n?n.hide_on_away:"undefined"!=typeof hide_on_away?hide_on_away:void 0,"lang"in n?n.lang:"undefined"!=typeof lang?lang:void 0,"last_operator_face"in n?n.last_operator_face:"undefined"!=typeof last_operator_face?last_operator_face:void 0,"lock_maximized"in n?n.lock_maximized:"undefined"!=typeof lock_maximized?lock_maximized:void 0,"position"in n?n.position:"undefined"!=typeof position?position:void 0,"position_reverse"in n?n.position_reverse:"undefined"!=typeof position_reverse?position_reverse:void 0),r.join("")},s.viewport=function(e){var t=[],r=e||{};return function(e){t.push('<meta name="viewport"'+i.Library.jade.runtime.attr("content",""+e,!0,!1)+"/>")}.call(this,"content"in r?r.content:"undefined"!=typeof content?content:void 0),t.join("")},s.clear=function(e){var t=[];return t.push('<span class="crisp-30"></span>'),t.join("")},s.new_line=function(e){var t=[];return t.push('<br class="crisp-31"/>'),t.join("")},s.link_email=function(e){var t,r=[],n=e||{};return function(e){r.push("<a"+i.Library.jade.runtime.attr("href","mailto:"+e,!0,!1)+' class="crisp-32 crisp-33">'+(null==(t=e)?"":t)+"</a>")}.call(this,"email"in n?n.email:"undefined"!=typeof email?email:void 0),r.join("")},s.link_uri=function(e){var t,r=[],n=e||{};return function(e,n){r.push("<a"+i.Library.jade.runtime.attr("href",""+n,!0,!1)+' target="_blank" class="crisp-32 crisp-34">'+(null==(t=e)?"":t)+"</a>")}.call(this,"uri_name"in n?n.uri_name:"undefined"!=typeof uri_name?uri_name:void 0,"uri_value"in n?n.uri_value:"undefined"!=typeof uri_value?uri_value:void 0),r.join("")},s.link_domain=function(e){var t,r=[],n=e||{};return function(e,n){r.push("<a"+i.Library.jade.runtime.attr("href","http://"+n+"/",!0,!1)+' target="_blank" class="crisp-32 crisp-35">'+(null==(t=e)?"":t)+"</a>")}.call(this,"domain_name"in n?n.domain_name:"undefined"!=typeof domain_name?domain_name:void 0,"domain_value"in n?n.domain_value:"undefined"!=typeof domain_value?domain_value:void 0),r.join("")},s.markdown_blockquote=function(e){var t,r=[],i=e||{};return function(e){r.push('<span class="crisp-36 crisp-37">'+(null==(t=e)?"":t)+"</span>")}.call(this,"value"in i?i.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_bold=function(e){var t,r=[],i=e||{};return function(e){r.push('<span class="crisp-36 crisp-38 crisp-39">'+(null==(t=e)?"":t)+"</span>")}.call(this,"value"in i?i.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_code=function(e){var t,r=[],i=e||{};return function(e){r.push('<span class="crisp-36 crisp-40">'+(null==(t=e)?"":t)+"</span>")}.call(this,"value"in i?i.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_delete=function(e){var t,r=[],i=e||{};return function(e){r.push('<span class="crisp-36 crisp-41">'+(null==(t=e)?"":t)+"</span>")}.call(this,"value"in i?i.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_image=function(e){var t=[],r=e||{};return function(e,r,n,s){t.push("");var a=e(s);t.push("<img"+i.Library.jade.runtime.attr("src",""+n+"/process/original/?url="+a,!0,!1)+i.Library.jade.runtime.attr("alt",""+r,!0,!1)+' class="crisp-36 crisp-42"/>')}.call(this,"encodeURIComponent"in r?r.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0,"url_crisp_image"in r?r.url_crisp_image:"undefined"!=typeof url_crisp_image?url_crisp_image:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0),t.join("")},s.markdown_italic=function(e){var t,r=[],i=e||{};return function(e){r.push('<span class="crisp-36 crisp-43">'+(null==(t=e)?"":t)+"</span>")}.call(this,"value"in i?i.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_line=function(e){var t=[];return t.push('<span class="crisp-36 crisp-44"></span>'),t.join("")},s.markdown_link=function(e){var t,r=[],n=e||{};return function(e,n){r.push("<a"+i.Library.jade.runtime.attr("href",""+n,!0,!1)+' target="_blank" class="crisp-36 crisp-45">'+(null==(t=e)?"":t)+"</a>")}.call(this,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_list=function(e){var t,r=[],n=e||{};return function(e,n){r.push("<span"+i.Library.jade.runtime.attr("data-type",""+e,!0,!1)+' class="crisp-36 crisp-46">'+(null==(t=n)?"":t)+"</span>")}.call(this,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),r.join("")},s.markdown_title=function(e){var t,r=[],n=e||{};return function(e,n){r.push("<span"+i.Library.jade.runtime.attr("data-type",""+e,!0,!1)+' class="crisp-36 crisp-47 crisp-39">'+(null==(t=n)?"":t)+"</span>")}.call(this,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),r.join("")},s.smiley=function(e){var t=[],r=e||{};return function(e,r){t.push("<span"+i.Library.jade.runtime.attr("data-size",r,!0,!1)+i.Library.jade.runtime.attr("data-name",e,!0,!1)+' class="crisp-48"></span>')}.call(this,"name"in r?r.name:"undefined"!=typeof name?name:void 0,"size"in r?r.size:"undefined"!=typeof size?size:void 0),t.join("")},s.sounds_events=function(e){var t=[],r=e||{};return function(e,r,n,s){t.push("");var a=[["oga","audio/ogg"],["m4a","audio/aac"],["mp3","audio/mpeg"]],o="events",c=["chat-message-receive"],_="auto";t.push("<div"+i.Library.jade.runtime.attr("data-subset",""+o,!0,!1)+' class="crisp-49">'),function(){var n=c;if("number"==typeof n.length)for(var l=0,p=n.length;l<p;l++){var h=n[l];t.push("<audio"+i.Library.jade.runtime.attr("data-name",""+h,!0,!1)+i.Library.jade.runtime.attr("preload",""+_,!0,!1)+' class="crisp-50">'),function(){var n=a;if("number"==typeof n.length)for(var c=0,_=n.length;c<_;c++){var l=n[c];r&&r!==l[0]||t.push("<source"+i.Library.jade.runtime.attr("src",""+s+"/static/sounds/"+o+"/"+h+"."+l[0]+"?"+e,!0,!1)+i.Library.jade.runtime.attr("type",""+l[1],!0,!1)+' class="crisp-51"/>')}else{var _=0;for(var c in n){_++;var l=n[c];r&&r!==l[0]||t.push("<source"+i.Library.jade.runtime.attr("src",""+s+"/static/sounds/"+o+"/"+h+"."+l[0]+"?"+e,!0,!1)+i.Library.jade.runtime.attr("type",""+l[1],!0,!1)+' class="crisp-51"/>')}}}.call(this),t.push("</audio>")}else{var p=0;for(var l in n){p++;var h=n[l];t.push("<audio"+i.Library.jade.runtime.attr("data-name",""+h,!0,!1)+i.Library.jade.runtime.attr("preload",""+_,!0,!1)+' class="crisp-50">'),function(){var n=a;if("number"==typeof n.length)for(var c=0,_=n.length;c<_;c++){var l=n[c];r&&r!==l[0]||t.push("<source"+i.Library.jade.runtime.attr("src",""+s+"/static/sounds/"+o+"/"+h+"."+l[0]+"?"+e,!0,!1)+i.Library.jade.runtime.attr("type",""+l[1],!0,!1)+' class="crisp-51"/>')}else{var _=0;for(var c in n){_++;var l=n[c];r&&r!==l[0]||t.push("<source"+i.Library.jade.runtime.attr("src",""+s+"/static/sounds/"+o+"/"+h+"."+l[0]+"?"+e,!0,!1)+i.Library.jade.runtime.attr("type",""+l[1],!0,!1)+' class="crisp-51"/>')}}}.call(this),t.push("</audio>")}}}.call(this),t.push("</div>")}.call(this,"client_revision"in r?r.client_revision:"undefined"!=typeof client_revision?client_revision:void 0,"selected_format"in r?r.selected_format:"undefined"!=typeof selected_format?selected_format:void 0,"undefined"in r?r.undefined:void 0,"url_assets"in r?r.url_assets:"undefined"!=typeof url_assets?url_assets:void 0),t.join("")},s.magnify=function(e){var t=[],r=e||{};return function(e,r,n){switch(t.push('<div tabindex="0"'+i.Library.jade.runtime.attr("data-type",""+n,!0,!1)+' data-state="loading" class="crisp-52"><span class="crisp-53"></span>'),n){case"embed":t.push('<iframe type="text/html"'+i.Library.jade.runtime.attr("src",""+r,!0,!1)+' frameborder="0" class="crisp-54"></iframe>');break;default:t.push("<img"+i.Library.jade.runtime.attr("src",""+r,!0,!1)+' alt="" class="crisp-54"/>')}t.push('<div class="crisp-55">'),"file"===n&&t.push('<a data-action="download"'+i.Library.jade.runtime.attr("href",""+r,!0,!1)+i.Library.jade.runtime.attr("download",""+(e||r),!0,!1)+' target="_blank" class="crisp-56"></a><span class="crisp-57"></span>'),t.push('<a data-action="close" href="#" class="crisp-56"></a></div></div>')}.call(this,"name"in r?r.name:"undefined"!=typeof name?name:void 0,"source"in r?r.source:"undefined"!=typeof source?source:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0),t.join("")},s.date_now=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="now" class="crisp-58">'+i.Library.jade.runtime.escape(null==(t=e("date","now"))?"":t)+"</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0),r.join("")},s.date_seconds=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="seconds" class="crisp-58">'+i.Library.jade.runtime.escape(null==(t=e("date","second"))?"":t)+"</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0),r.join("")},s.date_minutes=function(e){var t,r=[],n=e||{};return function(e,n){r.push('<span data-type="minutes" class="crisp-58">'),1===n?r.push(i.Library.jade.runtime.escape(null==(t=e("date","minute_singular"))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=e("date","minute_plural",[n]))?"":t)),r.push("</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"minutes"in n?n.minutes:"undefined"!=typeof minutes?minutes:void 0),r.join("")},s.date_hours=function(e){var t,r=[],n=e||{};return function(e,n){r.push('<span data-type="hours" class="crisp-58">'),1===n?r.push(i.Library.jade.runtime.escape(null==(t=e("date","hour_singular"))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=e("date","hour_plural",[n]))?"":t)),r.push("</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"hours"in n?n.hours:"undefined"!=typeof hours?hours:void 0),r.join("")},s.date_far_away=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="far_away" class="crisp-58">'+i.Library.jade.runtime.escape(null==(t=e)?"":t)+"</span>")}.call(this,"date_full"in n?n.date_full:"undefined"!=typeof date_full?date_full:void 0),r.join("")},s.duration_now=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="now" class="crisp-59">'+i.Library.jade.runtime.escape(null==(t=e("duration","now"))?"":t)+"</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0),r.join("")},s.duration_seconds=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="seconds" class="crisp-59">'+i.Library.jade.runtime.escape(null==(t=e("duration","second"))?"":t)+"</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0),r.join("")},s.duration_minutes=function(e){var t,r=[],n=e||{};return function(e,n){r.push('<span data-type="minutes" class="crisp-59">'),1===n?r.push(i.Library.jade.runtime.escape(null==(t=e("duration","minute_singular"))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=e("duration","minute_plural",[n]))?"":t)),r.push("</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"minutes"in n?n.minutes:"undefined"!=typeof minutes?minutes:void 0),r.join("")},s.duration_hours=function(e){var t,r=[],n=e||{};return function(e,n){r.push('<span data-type="hours" class="crisp-59">'),1===n?r.push(i.Library.jade.runtime.escape(null==(t=e("duration","hour_singular"))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=e("duration","hour_plural",[n]))?"":t)),r.push("</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"hours"in n?n.hours:"undefined"!=typeof hours?hours:void 0),r.join("")},s.duration_days=function(e){var t,r=[],n=e||{};return function(e){r.push('<span data-type="days" class="crisp-59">'+i.Library.jade.runtime.escape(null==(t=e("duration","days"))?"":t)+"</span>")}.call(this,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0),r.join("")},s.chat=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p){r.push("");r.push('<div class="crisp-25 crisp-24"><div data-visible="true" data-chat-status="none" class="crisp-27"><div class="crisp-60"><div class="crisp-61 crisp-11 crisp-17"><span class="crisp-62 crisp-11"></span><span class="crisp-63">');var h=_.active_operators(p.id,a);(function(){var n=h;if("number"==typeof n.length)for(var s=0,a=n.length;s<a;s++){var o=n[s],c=e(240,"operator",o.identifier,o.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+c+"') !important;",!0,!1)+' class="crisp-64 crisp-19"><span'+i.Library.jade.runtime.attr("data-has-name",o.name?"true":"false",!0,!1)+' class="crisp-65"><span class="crisp-66"><span class="crisp-67"></span><span class="crisp-68 crisp-69">'+i.Library.jade.runtime.escape(null==(t=o.name)?"":t)+"</span></span></span></span>")}else{var a=0;for(var s in n){a++;var o=n[s],c=e(240,"operator",o.identifier,o.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+c+"') !important;",!0,!1)+' class="crisp-64 crisp-19"><span'+i.Library.jade.runtime.attr("data-has-name",o.name?"true":"false",!0,!1)+' class="crisp-65"><span class="crisp-66"><span class="crisp-67"></span><span class="crisp-68 crisp-69">'+i.Library.jade.runtime.escape(null==(t=o.name)?"":t)+"</span></span></span></span>")}}}).call(this),r.push('</span><span class="crisp-70"><span class="crisp-71 crisp-2 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("theme_text",["default_chat",a.chat.theme_text+"_chat"]))?"":t)+'</span><span class="crisp-72"><span data-type="operator_name" class="crisp-73 crisp-74 crisp-2 crisp-39"></span><span class="crisp-73 crisp-2 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_from"))?"":t)+'</span><span data-type="website_name" class="crisp-73 crisp-2 crisp-69">'+i.Library.jade.runtime.escape(null==(t=a.website.name)?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-75"><span data-id="online" class="crisp-76">');var u=a.chat.activity_metrics===!0&&s.metrics&&!0;r.push('<span data-type="default"'+i.Library.jade.runtime.attr("data-duration",u===!0?s.metrics.raw:null,!0,!1)+' class="crisp-77 crisp-2 crisp-69">'),u===!0?r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_metrics",[s.metrics.format]))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_online"))?"":t)),r.push('</span><span data-type="ongoing" class="crisp-77 crisp-2 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_online"))?"":t)+'</span></span><span data-id="away" class="crisp-76">');var u=a.chat.activity_metrics===!0&&s.last&&!0;r.push('<span data-type="default"'+i.Library.jade.runtime.attr("data-date-iso",u===!0?s.last.raw:null,!0,!1)+i.Library.jade.runtime.attr("data-date-format",u===!0?n("chat","chat_header_ongoing_status_last"):null,!0,!1)+i.Library.jade.runtime.attr("data-date-watch",u===!0?"true":null,!0,!1)+' class="crisp-77 crisp-2 crisp-69">'),u===!0?r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_last",[s.last.format]))?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_away"))?"":t)),r.push('</span><span data-type="ongoing" class="crisp-77 crisp-2 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_header_ongoing_status_away"))?"":t)+'</span></span><span class="crisp-30"></span></span></span><span class="crisp-78"><span class="crisp-79"></span></span></div><span class="crisp-80"></span></div><div class="crisp-81"><div'+i.Library.jade.runtime.attr("data-refer-hide-space","urn:crisp.im:debranding:0"in a.plugins?"true":"false",!0,!1)+' class="crisp-82"><div'+i.Library.jade.runtime.attr("data-tile",a.chat.tile?a.chat.tile:null,!0,!1)+' class="crisp-83 crisp-12"><div class="crisp-84"><div class="crisp-85"></div><div class="crisp-86"></div></div></div><div class="crisp-87"><div class="crisp-88"></div><div class="crisp-89"><div class="crisp-90"><div class="crisp-91"></div><div class="crisp-92 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_form_attach_tooltip"))?"":t)+'</div></div></div></div><div data-has-animation="true" class="crisp-93"><div class="crisp-94"><div class="crisp-95"><a href="#" data-type="smiley" class="crisp-96 crisp-7 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_pickers_selector_smileys"))?"":t)+'</a><span class="crisp-97"></span><a href="#" data-type="gif" class="crisp-96 crisp-7 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_pickers_selector_gifs"))?"":t)+'</a></div><div class="crisp-98"><div data-type="smiley" class="crisp-99"><span class="crisp-100">'),function(){var e=c.smileys;if("number"==typeof e.length)for(var t=0,n=e.length;t<n;t++){var s=e[t];r.push('<a href="#" data-size="large"'+i.Library.jade.runtime.attr("data-name",t,!0,!1)+i.Library.jade.runtime.attr("data-value",s,!0,!1)+' class="crisp-101 crisp-48"></a>')}else{var n=0;for(var t in e){n++;var s=e[t];r.push('<a href="#" data-size="large"'+i.Library.jade.runtime.attr("data-name",t,!0,!1)+i.Library.jade.runtime.attr("data-value",s,!0,!1)+' class="crisp-101 crisp-48"></a>');
}}}.call(this),r.push('</span></div><div data-type="gif" data-has-search="false" class="crisp-99"><span class="crisp-102"><span data-action="search" class="crisp-103">');var d=n("chat","chat_pickers_gif_search");r.push('<a href="#" class="crisp-104"></a><input type="text" name="gif_search"'+i.Library.jade.runtime.attr("placeholder",""+d,!0,!1)+' maxlength="25" autocomplete="off" autocorrect="off" autocapitalize="off" class="crisp-105 crisp-106 crisp-69"/></span></span><span class="crisp-100"></span><span class="crisp-107"><span data-notice="no_results" class="crisp-108 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_pickers_gif_no_results"))?"":t)+'</span></span></div></div></div></div><div class="crisp-109"><a href="#" data-type="new_messages" class="crisp-110"><span class="crisp-111 crisp-112"><span class="crisp-113"></span><span class="crisp-114 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_new_messages"))?"":t)+'</span></span></a><a href="#" data-type="warn_reply" class="crisp-110"><div class="crisp-111"><span class="crisp-114 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_warn_reply"))?"":t)+'</span></div></a><a href="#" data-type="email_invalid" class="crisp-110"><div class="crisp-111"><span class="crisp-114 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_invalid"))?"":t)+'</span></div></a><div data-type="wait_reply" class="crisp-110"><div class="crisp-111 crisp-112"><span class="crisp-114 crisp-39"><span data-id="online" class="crisp-115">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_wait_reply_online"))?"":t)+'</span><span data-id="away" class="crisp-115">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_wait_reply_away"))?"":t)+'</span></span></div></div><div data-type="email_form" data-error="false" class="crisp-110"><div class="crisp-111"><span class="crisp-114 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_form_label"))?"":t)+'</span><span class="crisp-114 crisp-116 crisp-117 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_form_entice_default"))?"":t)+'</span><span class="crisp-114 crisp-116 crisp-118 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_form_entice_error"))?"":t)+'</span><form action="#" method="post" class="crisp-119"><div class="crisp-120">');var f=n("chat","chat_alerts_email_form_email_field");r.push('<div class="crisp-121"><input type="email" name="client_email"'+i.Library.jade.runtime.attr("placeholder",""+f,!0,!1)+' autocomplete="off" autocorrect="off" autocapitalize="off" class="crisp-122 crisp-106 crisp-21 crisp-69"/></div><a href="#" data-for="email_validate" class="crisp-123 crisp-23"><span class="crisp-124 crisp-2 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_form_email_button"))?"":t)+'</span></a><span class="crisp-30"></span></div></form><div class="crisp-125"><a href="#" data-for="email_validate" class="crisp-126 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_alerts_email_form_email_cancel"))?"":t)+'</a></div></div></div></div><div data-has-value="false" class="crisp-127"><form name="form_message" action="#" method="post" class="crisp-128">');var g=n("chat","chat_form_field_message");if(r.push('<textarea name="message"'+i.Library.jade.runtime.attr("placeholder",""+g,!0,!1)+' cols="20" rows="1" autocomplete="off" data-has-selection-range="data-has-selection-range" class="crisp-129 crisp-106 crisp-22 crisp-69"></textarea></form><div class="crisp-130"><div class="crisp-131"><div data-type="smiley" data-state="none" class="crisp-132"><span class="crisp-133"><span class="crisp-134 crisp-69"><span class="crisp-135">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_form_smiley_tooltip"))?"":t)+'</span></span><span class="crisp-136"></span><span class="crisp-30"></span></span><span class="crisp-137"><span class="crisp-138"><span class="crisp-139"><span class="crisp-140 crisp-141"></span><span class="crisp-142 crisp-141"></span></span></span></span></div><div data-type="file" data-state="none" class="crisp-132"><span class="crisp-133"><span class="crisp-134 crisp-69"><span class="crisp-135">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_form_attach_tooltip"))?"":t)+'</span></span><span class="crisp-136"></span><span class="crisp-30"></span></span><span class="crisp-137"><input type="file" name="attach_file" title="" multiple="multiple" class="crisp-143"/><span class="crisp-138 crisp-141"></span><span class="crisp-144"><span class="crisp-145"></span></span></span></div><span class="crisp-146"><a href="#" class="crisp-147 crisp-23"><span class="crisp-148"></span></a></span><span class="crisp-30"></span></div><span class="crisp-30"></span></div></div>'),!("urn:crisp.im:debranding:0"in a.plugins)){r.push('<div class="crisp-149"><div class="crisp-150">');var m=o(p.domain);r.push("<a"+i.Library.jade.runtime.attr("href",""+c.url.crisp_web+"?ref=chatbox&domain="+m,!0,!1)+' target="_blank" class="crisp-151"><span class="crisp-152 crisp-69">We run on</span><span class="crisp-153"></span><span class="crisp-152 crisp-154 crisp-39">Crisp</span><span class="crisp-30"></span></a><span class="crisp-30"></span></div><span class="crisp-30"></span></div>')}if(r.push('</div></div></div><a data-visible="false" data-is-failure="false" href="#" class="crisp-26"><span class="crisp-28"><span data-id="new_messages" class="crisp-29"><span class="crisp-155"><span class="crisp-156"></span></span><span class="crisp-157"><span class="crisp-158"><span data-variant="plural" data-for-id="new_messages" class="crisp-159 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","minimized_tooltip_unread_plural"))?"":t)+'</span><span data-variant="singular" data-for-id="new_messages" class="crisp-159 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("chat","minimized_tooltip_unread_singular"))?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-160"><span class="crisp-161 crisp-162"></span><span class="crisp-161 crisp-163"></span><span class="crisp-30"></span></span></span></span></span><span class="crisp-164 crisp-11"><span data-id="chat_opened" class="crisp-165"><span data-is-ongoing="false" class="crisp-166">'),a.chat.last_operator_face===!0&&a.website.active_operators.length>0){var y=a.website.active_operators[0],v=e(240,"operator",y.user_id,y.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+v+"') !important;",!0,!1)+' class="crisp-167"></span>')}else r.push('<span class="crisp-167"></span>');r.push('<span class="crisp-168"></span><span class="crisp-169 crisp-39">0</span></span></span></span></a><span data-visible="false" data-visible-subtle="false" class="crisp-170"><span class="crisp-171"></span></span></div>')}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"activity"in n?n.activity:"undefined"!=typeof activity?activity:void 0,"configuration"in n?n.configuration:"undefined"!=typeof configuration?configuration:void 0,"encodeURIComponent"in n?n.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"environment"in n?n.environment:"undefined"!=typeof environment?environment:void 0,"methods"in n?n.methods:"undefined"!=typeof methods?methods:void 0,"undefined"in n?n.undefined:void 0,"website"in n?n.website:"undefined"!=typeof website?website:void 0),r.join("")},s.minimized_authorized=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c){r.push("");var _=!1;if(r.push('<div class="crisp-25 crisp-24"><a data-maximized="false"'+i.Library.jade.runtime.attr("data-is-failure",_===!0?"true":"false",!0,!1)+' href="#" class="crisp-26"><span class="crisp-28">'),!_){r.push('<span data-id="general_entice" class="crisp-29"><span class="crisp-157"><span class="crisp-158 crisp-8 crisp-69">');var l=a.active_operators(c.id,s);r.push('<span class="crisp-172 crisp-173 crisp-39"><span class="crisp-174 crisp-173"></span><span class="crisp-175 crisp-173">'+i.Library.jade.runtime.escape(null==(t=n("minimized","tooltip_entice_close"))?"":t)+'</span><span class="crisp-30"></span></span><span'+i.Library.jade.runtime.attr("data-avatar-count",""+(l.length||0),!0,!1)+' class="crisp-176">'),l.length>0&&(r.push('<span class="crisp-177">'),function(){var t=l;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var a=t[n],o=e(240,"operator",a.identifier,a.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+o+"') !important;",!0,!1)+' class="crisp-178"></span>')}else{var s=0;for(var n in t){s++;var a=t[n],o=e(240,"operator",a.identifier,a.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+o+"') !important;",!0,!1)+' class="crisp-178"></span>')}}}.call(this),r.push("</span>")),r.push('<span class="crisp-179"><span class="crisp-180"><span class="crisp-181 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("minimized","tooltip_entice_title",[s.website.name]))?"":t)+'</span><span data-id="online" class="crisp-182 crisp-2 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("minimized","tooltip_entice_status_online"))?"":t)+'</span></span><span class="crisp-183 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("minimized","tooltip_entice_explain_online"))?"":t)+'</span></span></span><span class="crisp-184"><span class="crisp-185"><span class="crisp-186"></span><span class="crisp-187"></span></span><span class="crisp-188 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("minimized","tooltip_entice_form_compose"))?"":t)+'</span></span></span><span class="crisp-160"><span class="crisp-161 crisp-162"></span><span class="crisp-161 crisp-163"></span><span class="crisp-30"></span></span></span></span>')}if(_&&r.push('<span data-id="failure_notice" class="crisp-29"><span class="crisp-157"><span class="crisp-158 crisp-39"></span><span class="crisp-160"><span class="crisp-161 crisp-162"></span><span class="crisp-161 crisp-163"></span><span class="crisp-30"></span></span></span></span>'),r.push("</span>"),_)r.push('<span class="crisp-164 crisp-189"><span data-id="in_failure" class="crisp-165"><span data-is-ongoing="false" class="crisp-166"></span></span></span>');else{if(r.push('<span class="crisp-164 crisp-11"><span data-id="chat_closed" class="crisp-165"><span data-is-ongoing="false" class="crisp-166">'),s.chat.last_operator_face===!0&&s.website.active_operators.length>0){var p=s.website.active_operators[0],h=e(240,"operator",p.user_id,p.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+h+"') !important;",!0,!1)+' class="crisp-167"></span>')}r.push("</span></span></span>")}r.push("</a></div>")}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"configuration"in n?n.configuration:"undefined"!=typeof configuration?configuration:void 0,"methods"in n?n.methods:"undefined"!=typeof methods?methods:void 0,"undefined"in n?n.undefined:void 0,"website"in n?n.website:"undefined"!=typeof website?website:void 0),r.join("")},s.minimized_unauthorized=function(e){var t,r=[],n=e||{};return function(e,n,s){r.push("");var a=!0;if(r.push('<div class="crisp-25 crisp-24"><a data-maximized="false"'+i.Library.jade.runtime.attr("data-is-failure",a===!0?"true":"false",!0,!1)+' href="#" class="crisp-26"><span class="crisp-28">'),a||r.push('<span data-id="general_entice" class="crisp-29"><span class="crisp-157"><span class="crisp-158 crisp-8 crisp-69"></span><span class="crisp-160"><span class="crisp-161 crisp-162"></span><span class="crisp-161 crisp-163"></span><span class="crisp-30"></span></span></span></span>'),a&&r.push('<span data-id="failure_notice" class="crisp-29"><span class="crisp-157"><span class="crisp-158 crisp-39">'+i.Library.jade.runtime.escape(null==(t=n("minimized","unauthorized_pane"))?"":t)+'</span><span class="crisp-160"><span class="crisp-161 crisp-162"></span><span class="crisp-161 crisp-163"></span><span class="crisp-30"></span></span></span></span>'),r.push("</span>"),a)r.push('<span class="crisp-164 crisp-189"><span data-id="in_failure" class="crisp-165"><span data-is-ongoing="false" class="crisp-166"></span></span></span>');else{if(r.push('<span class="crisp-164 crisp-11"><span data-id="chat_closed" class="crisp-165"><span data-is-ongoing="false" class="crisp-166">'),s.chat.last_operator_face===!0&&s.website.active_operators.length>0){var o=s.website.active_operators[0],c=e(240,"operator",o.user_id,o.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+c+"') !important;",!0,!1)+' class="crisp-167"></span>')}r.push("</span></span></span>")}r.push("</a></div>")}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"configuration"in n?n.configuration:"undefined"!=typeof configuration?configuration:void 0),r.join("")},s.chat_preview_message=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p,h){if(r.push(""),"text"===p||"file"===p||"animation"===p){r.push('<span class="crisp-190"><span class="crisp-191">');var u=e(240,h.type||l,h.user_id,h.avatar);switch(r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+u+"') !important;",!0,!1)+' class="crisp-192"></span><span class="crisp-193"><span class="crisp-194"></span><span class="crisp-195"><span class="crisp-196 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","minimized_tooltip_message_from"))?"":t)+'</span><span class="crisp-197 crisp-39">'+i.Library.jade.runtime.escape(null==(t=a(h.nickname))?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-198 crisp-69">'),p){case"text":r.push(null==(t=s(o))?"":t);break;case"file":case"animation":switch(o.type){case"image/jpg":case"image/jpeg":case"image/png":case"image/gif":var d=c(o.url);switch(p){case"animation":r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+_.url.crisp_image+"/process/original/?url="+d+"') !important;",!0,!1)+' class="crisp-199"></span>');break;default:var f=180,g=180;r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+_.url.crisp_image+"/process/resize/?url="+d+"&width="+f+"&height="+g+"') !important;",!0,!1)+' class="crisp-199"></span>')}break;default:o.name?r.push(""+i.Library.jade.runtime.escape(null==(t=o.name)?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_file_name"))?"":t))}}r.push('</span></span></span><span class="crisp-30"></span></span>')}}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"_f"in n?n._f:"undefined"!=typeof _f?_f:void 0,"_n"in n?n._n:"undefined"!=typeof _n?_n:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"encodeURIComponent"in n?n.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"environment"in n?n.environment:"undefined"!=typeof environment?environment:void 0,"from"in n?n.from:"undefined"!=typeof from?from:void 0,"type"in n?n.type:"undefined"!=typeof type?type:void 0,"user"in n?n.user:"undefined"!=typeof user?user:void 0),r.join("")},s.chat_message_text=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p,h,u,d,f,g,m){r.push("");var y="text";if(r.push("<div"+i.Library.jade.runtime.attr("data-from",""+u,!0,!1)+i.Library.jade.runtime.attr("data-date-iso",""+_,!0,!1)+i.Library.jade.runtime.attr("data-fingerprint",""+h,!0,!1)+i.Library.jade.runtime.attr("data-type",""+y,!0,!1)+i.Library.jade.runtime.attr("data-is-preview",""+d,!0,!1)+' class="crisp-200">'),"operator"===u){var v=e(96,m.type||u,m.user_id,m.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+v+"') !important;",!0,!1)+' class="crisp-201">'),m.nickname&&r.push('<span class="crisp-202"><span class="crisp-203"><span class="crisp-204"></span><span class="crisp-205 crisp-69">'+i.Library.jade.runtime.escape(null==(t=a(m.nickname))?"":t)+"</span></span></span>"),r.push("</span>")}r.push("<span"+i.Library.jade.runtime.cls(["crisp-206","crisp-106","operator"===u?"crisp-11":""],[null,null,!0])+"><span"+i.Library.jade.runtime.cls(["crisp-207","crisp-69","operator"===u?"crisp-2":""],[null,null,!0])+">"+(null==(t=s(o))?"":t)),f.preview&&function(){var e=f.preview;if("number"==typeof e.length)for(var n=0,s=e.length;n<s;n++){var a=e[n];if(r.push('<span class="crisp-208">'),a.preview&&a.preview.embed&&a.preview.image){var o=l(a.preview.image),c=600,_=600;r.push("<a"+i.Library.jade.runtime.attr("href",""+a.preview.embed,!0,!1)+' target="_blank" data-type="embed"'+i.Library.jade.runtime.attr("style","background-image: url('"+p.url.crisp_image+"/process/resize/?url="+o+"&width="+c+"&height="+_+"') !important;",!0,!1)+' class="crisp-209 crisp-209"><span class="crisp-210"></span><span class="crisp-211"></span></a>')}else{r.push("<a"+i.Library.jade.runtime.attr("href",""+a.url,!0,!1)+' target="_blank" data-type="link"'+i.Library.jade.runtime.cls(["crisp-209","crisp-69","operator"===u?"crisp-15 crisp-2":""],[null,null,!0])+">");var h=a.title||a.website||a.url;r.push(""+i.Library.jade.runtime.escape(null==(t=h)?"":t)+"</a>")}r.push("</span>")}else{var s=0;for(var n in e){s++;var a=e[n];if(r.push('<span class="crisp-208">'),a.preview&&a.preview.embed&&a.preview.image){var o=l(a.preview.image),c=600,_=600;r.push("<a"+i.Library.jade.runtime.attr("href",""+a.preview.embed,!0,!1)+' target="_blank" data-type="embed"'+i.Library.jade.runtime.attr("style","background-image: url('"+p.url.crisp_image+"/process/resize/?url="+o+"&width="+c+"&height="+_+"') !important;",!0,!1)+' class="crisp-209 crisp-209"><span class="crisp-210"></span><span class="crisp-211"></span></a>')}else{r.push("<a"+i.Library.jade.runtime.attr("href",""+a.url,!0,!1)+' target="_blank" data-type="link"'+i.Library.jade.runtime.cls(["crisp-209","crisp-69","operator"===u?"crisp-15 crisp-2":""],[null,null,!0])+">");var h=a.title||a.website||a.url;r.push(""+i.Library.jade.runtime.escape(null==(t=h)?"":t)+"</a>")}r.push("</span>")}}}.call(this),r.push("</span>"),c&&r.push('<span class="crisp-212"><span class="crisp-213"><span class="crisp-214"></span><span'+i.Library.jade.runtime.attr("data-date-iso",""+_,!0,!1)+' data-date-watch="true" class="crisp-215 crisp-69">'+i.Library.jade.runtime.escape(null==(t=c)?"":t)+"</span></span></span>"),r.push('<span class="crisp-30"></span></span><span class="crisp-30"></span>'),"visitor"===u&&r.push('<span class="crisp-216"><span class="crisp-217"><span class="crisp-218"></span><span class="crisp-219 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_info_read"))?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-30"></span></span>'),"visitor"===u&&r.push('<a href="#" class="crisp-220"><span class="crisp-221 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_error_retry"))?"":t)+'</span><span class="crisp-222"></span><span class="crisp-30"></span></a>'),r.push('<span class="crisp-30"></span></div>')}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"_f"in n?n._f:"undefined"!=typeof _f?_f:void 0,"_n"in n?n._n:"undefined"!=typeof _n?_n:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"date_formatted"in n?n.date_formatted:"undefined"!=typeof date_formatted?date_formatted:void 0,"date_iso"in n?n.date_iso:"undefined"!=typeof date_iso?date_iso:void 0,"encodeURIComponent"in n?n.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"environment"in n?n.environment:"undefined"!=typeof environment?environment:void 0,"fingerprint"in n?n.fingerprint:"undefined"!=typeof fingerprint?fingerprint:void 0,"from"in n?n.from:"undefined"!=typeof from?from:void 0,"message_is_preview"in n?n.message_is_preview:"undefined"!=typeof message_is_preview?message_is_preview:void 0,"metas"in n?n.metas:"undefined"!=typeof metas?metas:void 0,"undefined"in n?n.undefined:void 0,"user"in n?n.user:"undefined"!=typeof user?user:void 0),r.join("")},s.chat_message_file=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p,h,u){r.push("");var d="file",f=["image/jpg","image/jpeg","image/png","image/gif"].indexOf(a.type)!==-1&&!0;if(r.push("<div"+i.Library.jade.runtime.attr("data-from",""+h,!0,!1)+i.Library.jade.runtime.attr("data-date-iso",""+c,!0,!1)+i.Library.jade.runtime.attr("data-fingerprint",""+p,!0,!1)+i.Library.jade.runtime.attr("data-type",""+d,!0,!1)+i.Library.jade.runtime.attr("data-is-preview",""+f,!0,!1)+' class="crisp-200">'),"operator"===h){var g=e(96,u.type||h,u.user_id,u.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+g+"') !important;",!0,!1)+' class="crisp-201">'),u.nickname&&r.push('<span class="crisp-202"><span class="crisp-203"><span class="crisp-204"></span><span class="crisp-205 crisp-69">'+i.Library.jade.runtime.escape(null==(t=s(u.nickname))?"":t)+"</span></span></span>"),r.push("</span>")}switch(r.push("<span"+i.Library.jade.runtime.cls(["crisp-206","crisp-106","operator"===h?"crisp-11":""],[null,null,!0])+"><span"+i.Library.jade.runtime.cls(["crisp-207","crisp-69","operator"===h?"crisp-2":""],[null,null,!0])+'><span class="crisp-223"><span class="crisp-224 crisp-69">'),a.name?r.push(""+i.Library.jade.runtime.escape(null==(t=a.name)?"":t)):r.push(i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_file_name"))?"":t)),r.push("</span>"),a.type){case"image/jpg":case"image/jpeg":case"image/png":case"image/gif":r.push("<a"+i.Library.jade.runtime.attr("href",""+a.url,!0,!1)+i.Library.jade.runtime.attr("data-name",""+a.name,!0,!1)+' class="crisp-225">');var m=_(a.url),y=600,v=600;r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+l.url.crisp_image+"/process/resize/?url="+m+"&width="+y+"&height="+v+"') !important;",!0,!1)+' class="crisp-226"></span></a>');break;default:r.push("<a"+i.Library.jade.runtime.attr("href",""+a.url,!0,!1)+i.Library.jade.runtime.attr("download",""+(a.name||a.url),!0,!1)+' target="_blank"'+i.Library.jade.runtime.cls(["crisp-227","operator"===h?"crisp-2 crisp-13":""],[null,!0])+'><span class="crisp-228">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_file_button"))?"":t)+"</span></a>")}r.push("</span></span>"),o&&r.push('<span class="crisp-212"><span class="crisp-213"><span class="crisp-214"></span><span'+i.Library.jade.runtime.attr("data-date-iso",""+c,!0,!1)+' data-date-watch="true" class="crisp-215 crisp-69">'+i.Library.jade.runtime.escape(null==(t=o)?"":t)+"</span></span></span>"),r.push('<span class="crisp-30"></span></span><span class="crisp-30"></span>'),"visitor"===h&&r.push('<span class="crisp-216"><span class="crisp-217"><span class="crisp-218"></span><span class="crisp-219 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_info_read"))?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-30"></span></span>'),"visitor"===h&&r.push('<a href="#" class="crisp-220"><span class="crisp-221 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_error_retry"))?"":t)+'</span><span class="crisp-222"></span><span class="crisp-30"></span></a>'),r.push('<span class="crisp-30"></span></div>')}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"_n"in n?n._n:"undefined"!=typeof _n?_n:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"date_formatted"in n?n.date_formatted:"undefined"!=typeof date_formatted?date_formatted:void 0,"date_iso"in n?n.date_iso:"undefined"!=typeof date_iso?date_iso:void 0,"encodeURIComponent"in n?n.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"environment"in n?n.environment:"undefined"!=typeof environment?environment:void 0,"fingerprint"in n?n.fingerprint:"undefined"!=typeof fingerprint?fingerprint:void 0,"from"in n?n.from:"undefined"!=typeof from?from:void 0,"user"in n?n.user:"undefined"!=typeof user?user:void 0),r.join("")},s.chat_message_animation=function(e){var t,r=[],n=e||{};return function(e,n,s,a,o,c,_,l,p,h,u){r.push("");var d="animation",f=!0;if(r.push("<div"+i.Library.jade.runtime.attr("data-from",""+h,!0,!1)+i.Library.jade.runtime.attr("data-date-iso",""+c,!0,!1)+i.Library.jade.runtime.attr("data-fingerprint",""+p,!0,!1)+i.Library.jade.runtime.attr("data-type",""+d,!0,!1)+i.Library.jade.runtime.attr("data-is-preview",""+f,!0,!1)+' class="crisp-200">'),"operator"===h){var g=e(96,u.type||h,u.user_id,u.avatar);r.push("<span"+i.Library.jade.runtime.attr("style","background-image: url('"+g+"') !important;",!0,!1)+' class="crisp-201">'),u.nickname&&r.push('<span class="crisp-202"><span class="crisp-203"><span class="crisp-204"></span><span class="crisp-205 crisp-69">'+i.Library.jade.runtime.escape(null==(t=s(u.nickname))?"":t)+"</span></span></span>"),r.push("</span>")}r.push("<span"+i.Library.jade.runtime.cls(["crisp-206","crisp-106","operator"===h?"crisp-11":""],[null,null,!0])+"><span"+i.Library.jade.runtime.cls(["crisp-207","crisp-69","operator"===h?"crisp-2":""],[null,null,!0])+">");var m=a.url.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/)[1],y=_(a.url);r.push("<span"+i.Library.jade.runtime.attr("data-source",m?m:null,!0,!1)+' class="crisp-229"><span'+i.Library.jade.runtime.attr("style","background-image: url('"+l.url.crisp_image+"/process/original/?url="+y+"') !important;",!0,!1)+' class="crisp-230"><span class="crisp-231"><span class="crisp-232"></span></span></span></span></span>'),o&&r.push('<span class="crisp-212"><span class="crisp-213"><span class="crisp-214"></span><span'+i.Library.jade.runtime.attr("data-date-iso",""+c,!0,!1)+' data-date-watch="true" class="crisp-215 crisp-69">'+i.Library.jade.runtime.escape(null==(t=o)?"":t)+"</span></span></span>"),r.push('<span class="crisp-30"></span></span><span class="crisp-30"></span>'),"visitor"===h&&r.push('<span class="crisp-216"><span class="crisp-217"><span class="crisp-218"></span><span class="crisp-219 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_info_read"))?"":t)+'</span><span class="crisp-30"></span></span><span class="crisp-30"></span></span>'),"visitor"===h&&r.push('<a href="#" class="crisp-220"><span class="crisp-221 crisp-69">'+i.Library.jade.runtime.escape(null==(t=n("chat","chat_message_error_retry"))?"":t)+'</span><span class="crisp-222"></span><span class="crisp-30"></span></a>'),r.push('<span class="crisp-30"></span></div>')}.call(this,"_a"in n?n._a:"undefined"!=typeof _a?_a:void 0,"_e"in n?n._e:"undefined"!=typeof _e?_e:void 0,"_n"in n?n._n:"undefined"!=typeof _n?_n:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"date_formatted"in n?n.date_formatted:"undefined"!=typeof date_formatted?date_formatted:void 0,"date_iso"in n?n.date_iso:"undefined"!=typeof date_iso?date_iso:void 0,"encodeURIComponent"in n?n.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"environment"in n?n.environment:"undefined"!=typeof environment?environment:void 0,"fingerprint"in n?n.fingerprint:"undefined"!=typeof fingerprint?fingerprint:void 0,"from"in n?n.from:"undefined"!=typeof from?from:void 0,"user"in n?n.user:"undefined"!=typeof user?user:void 0),r.join("")},s.chat_bubble_composing=function(e){var t=[];return t.push('<div class="crisp-233"><span class="crisp-234 crisp-11"><span class="crisp-235 crisp-10"></span><span class="crisp-235 crisp-10"></span><span class="crisp-235 crisp-10"></span></span><span class="crisp-30"></span></div>'),t.join("")},s.chat_bubble_thread=function(e){var t,r=[],n=e||{};return function(e,n,s,a){r.push("<div"+i.Library.jade.runtime.attr("data-day",""+(e||"none"),!0,!1)+i.Library.jade.runtime.attr("data-month",""+(n||"none"),!0,!1)+i.Library.jade.runtime.attr("data-year",""+(a||"none"),!0,!1)+' class="crisp-236">'),s&&r.push('<div class="crisp-237"><span class="crisp-238 crisp-39">'+i.Library.jade.runtime.escape(null==(t=s)?"":t)+"</span></div>"),r.push('<div class="crisp-239"></div></div>')}.call(this,"day"in n?n.day:"undefined"!=typeof day?day:void 0,"month"in n?n.month:"undefined"!=typeof month?month:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"year"in n?n.year:"undefined"!=typeof year?year:void 0),r.join("")},s.chat_bubble_group=function(e){var t=[],r=e||{};return function(e,r){t.push("<div"+i.Library.jade.runtime.attr("data-from",""+e,!0,!1)+i.Library.jade.runtime.attr("data-user-marker",""+r,!0,!1)+' class="crisp-240"></div>')}.call(this,"from"in r?r.from:"undefined"!=typeof from?from:void 0,"user_marker"in r?r.user_marker:"undefined"!=typeof user_marker?user_marker:void 0),t.join("")},s.chat_picker_gif_item=function(e){var t=[];return t.push('<a href="#" data-removable="true" data-loading="true" class="crisp-101 crisp-13 crisp-20"></a>'),t.join("")},this.logger=r.Console,this.dom=r.cash,this.crisp={web:r.CrispLibraryWeb,client:r.CrispLibraryClient},this.jade={runtime:r.jade,client:s},this.__extends()}catch(t){this.logger.error(this.ns+"."+e,t)}}return e.prototype.__extends=function(){var e="__extends";try{this.__extend_dom()}catch(t){this.logger.error(this.ns+"."+e,t)}},e.prototype.__extend_dom=function(){var e="__extend_dom";try{this.dom.fn.extend({safe_css_text:function(e,t){return e?t?(this.each(function(r){r.style.cssText=e+": "+t+" !important;"}),this):this[0].style.cssText:void this.each(function(e){e.style.cssText=""})}})}catch(t){this.logger.error(this.ns+"."+e,t)}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Utility=new(function(){function e(){var e="constructor";try{this.ns="CrispUtility",this.__page_url_regex=/^(?:https?:[\/]*)?([^\/]+)([^#]*)?(?:[\/]+)?(?:#.*)?$/i}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.is_empty=function(e){var r="is_empty",i=!0;try{this.keys(e).length>0&&(i=!1)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.is_equal=function(e,i){var n="is_equal",s=!0;try{var a=-1,o=void 0,c=void 0;if(("undefined"==typeof e?"undefined":r(e))!==("undefined"==typeof i?"undefined":r(i)))s=!1;else if(e&&"object"===("undefined"==typeof e?"undefined":r(e))&&i&&"object"===("undefined"==typeof i?"undefined":r(i)))for(e instanceof Array||i instanceof Array?(c=this.union(e,i),e.length===c.length&&i.length===c.length||(s=!1)):c=this.union(this.keys(e),this.keys(i));++a<c.length&&s===!0;)o=c[a],s=this.is_equal(e[o],i[o]);else s=e===i&&!0}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e.prototype.keys=function(e){var i="keys",n=[];try{"object"===("undefined"==typeof e?"undefined":r(e))&&e&&(n=Object.keys(e))}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.clone=function(e){var i="clone",n=void 0;try{var s=void 0,a=void 0;n=Array.isArray(e)?[]:{};for(s in e)a=e[s],n[s]="object"===("undefined"==typeof a?"undefined":r(a))?this.clone(a):a}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.intersect=function(e,r){var i="intersect",n=[];try{for(var s=0;s<e.length;s++)r.indexOf(e[s])!==-1&&n.push(e[s])}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.union=function(e,r){var i="union",n=[];try{for(var s=0;s<e.length;s++)n.indexOf(e[s])===-1&&n.push(e[s]);for(var a=0;a<r.length;a++)n.indexOf(r[a])===-1&&n.push(r[a])}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.extract=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s="extract",a=r||i||"";try{var o=(r||"").trim().match(e);a=o&&o[n]?o[n]:i||""}catch(e){t.Library.logger.error(this.ns+"."+s,e)}finally{return a}},e.prototype.compare_rule=function(e,r){
var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n="compare_rule",s=!1;try{s=r.indexOf("*")!==-1?new RegExp("^"+r.split("*").join(i+"*")+"$").test(e)&&!0:e===r&&!0}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e.prototype.compare_rules=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n="compare_rules",s=!1;try{for(var a=0;a<r.length&&s!==!0;)s=this.compare_rule(e,r[a],i),a++}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e.prototype.compare_page_rules=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="compare_page_rules",s=!1;try{if(r.length>0){var a=void 0,o=[];null===i&&(i=t.Base._website_domain);for(var c=0;c<r.length;c++){var _=(r[c]||"").trim();_?(a=_.match(this.__page_url_regex),a?o.push(""+a[1]+(a[2]||"/")):o.push(""+i+_)):t.Library.logger.warn(this.ns+"."+n,"Parsed page URL: "+identifier+" is not valid: "+r[c])}var l=e.match(this.__page_url_regex),p=l?""+l[1]+(l[2]||"/"):null;this.compare_rules(p,o,match_group="[^/]")===!0&&(s=!0)}}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e}()),t.Feature=new(function(){function e(){var e="constructor";try{this.ns="CrispFeature",this.__has_screen_touch=this.__has_window_property("ontouchstart"),this.__has_device_vibrate=this.__has_navigator_property("vibrate"),this.__has_css_animations=this.__has_css_support_for("animation"),this.__html_audio_format=this.__detect_html_audio_support()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.has_screen_touch=function(){var e="has_screen_touch";try{return this.__has_screen_touch}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.has_device_vibrate=function(){var e="has_device_vibrate";try{return this.__has_device_vibrate}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.has_css_animations=function(){var e="has_css_animations";try{return this.__has_css_animations}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.has_html_audio=function(){var e="has_html_audio";try{return null!==this.__html_audio_format&&!0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.html_audio_format=function(){var e="html_audio_format";try{return this.__html_audio_format}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__has_window_property=function(e){var r="__has_window_property",i=!1;try{i=!!(e in window)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__has_navigator_property=function(e){var r="__has_navigator_property",i=!1;try{i=!!(e in window.navigator)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__has_css_support_for=function(e){var r="__has_css_support_for",i=!1;try{var n=document.documentElement.style,s=["Khtml","Ms","O","Moz","Webkit"],a=s.length;if(e in n)i=!0;else for(e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});a--;)if(s[a]+e in n){i=!0;break}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__detect_html_audio_support=function(){var e="__detect_html_audio_support",r=null;try{var i=document.createElement("audio"),n=!(!i.canPlayType||!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")),s=!(!i.canPlayType||!i.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")),a=!(!i.canPlayType||!i.canPlayType("audio/mpeg;").replace(/no/,""));n===!0?r="oga":s===!0?r="m4a":a===!0&&(r="mp3")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Action=new(function(){function e(){var e="constructor";try{this.ns="CrispAction",this._events=["session:loaded","chat:initiated","chat:opened","chat:closed","message:sent","message:received","message:compose:sent","message:compose:received","user:email:changed","website:availability:changed"],this.__session_data_key=/^([A-Za-z0-9_\\-]+)$/,this.__event_register={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.do_chat_open=function(){t.Chat._is_initialized===!0?t.Chat.Interface._maximize():t.Minimized.Interface._pane_open_handler()},e.prototype.do_chat_close=function(){t.Chat._is_initialized===!0&&t.Chat.Interface._minimize()},e.prototype.do_chat_toggle=function(){this.is_chat_closed()===!0?this.do_chat_open():this.do_chat_close()},e.prototype.do_chat_show=function(){this.is_chat_hidden()===!0&&null!==t.Base._container_sel&&(t.Base._container_sel.safe_css_text(null),t.Chat.Interface._apply_dynamic_sizing_properties())},e.prototype.do_chat_hide=function(){this.is_chat_visible()===!0&&null!==t.Base._container_sel&&t.Base._container_sel.safe_css_text("display","none")},e.prototype.do_message_send=function(e,i){var n=!0;switch(e){case"text":if("string"!=typeof i||!i)throw new Error("Invalid text message");t.Library.crisp.client.Message.send_text_message(i);break;case"file":if("object"!==("undefined"==typeof i?"undefined":r(i))||!i.name||!i.url||!i.type)throw new Error("Invalid file message");t.Library.crisp.client.Message.send_file_message(i.name,i.url,i.type);break;case"animation":if("object"!==("undefined"==typeof i?"undefined":r(i))||!i.url||!i.type)throw new Error("Invalid animation message");t.Library.crisp.client.Message.send_animation_message(i.url,i.type);break;default:n=!1}n===!0&&t.Chat.Message._mark_has_exchanged_messages()},e.prototype.do_session_reset=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.Library.crisp.client.Session.clear(),e!==!1&&document.location.reload(!1)},e.prototype.do_trigger_run=function(e){if(t.Trigger._run(e)!==!0)throw new Error("Trigger does not exist")},e.prototype.is_chat_opened=function(){return!(t.Chat.Interface._is_maximized!==!0||t.Chat._is_initialized!==!0)},e.prototype.is_chat_closed=function(){return this.is_chat_opened()===!1&&!0},e.prototype.is_chat_visible=function(){return this.is_chat_hidden()===!1&&!0},e.prototype.is_chat_hidden=function(){return(null===t.Base._container_sel||"none"===t.Base._container_sel.css("display"))&&!0},e.prototype.is_chat_small=function(){return t.Base._is_full_view()===!1&&!0},e.prototype.is_chat_large=function(){return this.is_chat_small()===!1&&!0},e.prototype.is_website_available=function(){return t.Availability._users_available&&!0},e.prototype.get_message_text=function(){return t.Chat.Selector.get("form_textarea_message").val()||""},e.prototype.get_session_identifier=function(){return t.Broker._session_id||null},e.prototype.get_session_data=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t.Library.crisp.client.Session.get_data(e)||null},e.prototype.get_user_email=function(){return t.Library.crisp.client.Session.get_email()||null},e.prototype.get_user_nickname=function(){return t.Library.crisp.client.Session.get_nickname()||null},e.prototype.set_message_text=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("string"!=typeof e)throw new Error("Invalid message text");var r=t.Chat.Selector.get("form_textarea_message");r&&(r.val(e),r.trigger("keypress"))},e.prototype.set_session_data=function(e,r){if("string"!=typeof e||this.__session_data_key.test(e)!==!0)throw new Error("Invalid data key");if("string"!=typeof r&&"boolean"!=typeof r&&"number"!=typeof r)throw new Error("Invalid data value");t.Library.crisp.client.Session.set_data(e,r)},e.prototype.set_user_email=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||!t.Validate.is_email(e))throw new Error("Invalid email");t.Library.crisp.client.Session.set_email(e),t.Chat._is_initialized===!0&&t.Chat.Alert._update({email_form:"lock",wait_reply:"show"}),this._event("user:email:changed",e)},e.prototype.set_user_nickname=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("string"!=typeof e||!e)throw new Error("Invalid nickname");t.Library.crisp.client.Session.set_nickname(e)},e.prototype._on_event=function(e,t){if("function"!=typeof t)throw new Error("Handler must be a function");this.__event_register[e]=t},e.prototype._off_event=function(e){"undefined"!=typeof this.__event_register[e]&&delete this.__event_register[e]},e.prototype._event=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._events.indexOf(e)===-1)throw new Error("Event namespace not recognized: "+e);if("function"==typeof this.__event_register[e])try{this.__event_register[e].apply(window,t instanceof Array?t:"undefined"!=typeof t?[t]:[])}catch(e){}},e.prototype._unstack_pending=function(){var e="_unstack_pending";try{var r=t.Base._dollar_crisp.__spool.pending_actions;if(r&&r.length>0){for(var i=0;i<r.length;i++)try{t.Pipeline.push(r[i])}catch(r){t.Library.logger.error(this.ns+"."+e+":action",r)}t.Library.logger.info(this.ns+"."+e,"Unstacked "+r.length+" pending actions"),delete t.Base._dollar_crisp.__spool.pending_actions}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Pipeline=new(function(){function e(){var e="constructor";try{this.ns="CrispPipeline",this.__safe_mode=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.push=function(e){e[0]&&e[1]&&"function"==typeof this[e[0]]&&this[e[0]](e[1],e[2]||[])},e.prototype.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.__pipe_target("get",e,this.__args(t))},e.prototype.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.__pipe_target("set",e,this.__args(t))},e.prototype.is=function(e){return this.__pipe_target("is",e)},e.prototype.do=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.__pipe_target("do",e,this.__args(t))},e.prototype.on=function(e,t){return this.__pipe_event("on",e,[e,t])},e.prototype.off=function(e){return this.__pipe_event("off",e,[e])},e.prototype.safe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!=typeof e)throw new Error("Safe mode value must be 'true' or 'false'.");this.__safe_mode=e},e.prototype.help=function(){var e=[];for(var r in t.Action)"_"!==r[0]&&"function"==typeof t.Action[r]&&e.push("$crisp."+r.replace("_","('").replace(/_/g,":")+"')");for(var i=["on","off"],n=0;n<i.length;n++)for(var s=0;s<t.Action._events.length;s++)e.push("$crisp."+i[n]+"('"+t.Action._events[s]+"')");return e},e.prototype.__args=function(e){return e?e instanceof Array?e:[e]:[]},e.prototype.__pipe_target=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var n=e+"_"+(r||"").replace(/:/g,"_");if("function"==typeof t.Action[n])return t.Action[n].apply(t.Action,i);this.__namespace_error(r)}catch(e){if(this.__safe_mode!==!0)throw e}},e.prototype.__pipe_event=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var n="_"+e+"_event";if("function"!=typeof t.Action[n])throw new Error("No such event method for action: "+e);if(t.Action._events.indexOf(r)!==-1)return t.Action[n].apply(t.Action,i);this.__namespace_error(r)}catch(e){if(this.__safe_mode!==!0)throw e}},e.prototype.__namespace_error=function(e){throw new Error("No such namespace: "+e+" - Call $crisp.help() for a list of available actions.")},e}()),t.Validate=new(function(){function e(){var e="constructor";try{this.ns="CrispValidate",this.__email_regex=/^((\S+)@(\S+\.\S+))$/}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.is_email=function(e){var r="is_email",i=!1;try{e.match(this.__email_regex)&&(i=!0)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),t.Date=new(function(){function e(){var e="constructor";try{this.ns="CrispDate",this.__watch_interval=15,this.__days_map=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],this.__months_map=["january","february","march","april","may","june","july","august","september","october","november","december"],this.__second_in_milliseconds=1e3,this.__minutes_in_hour=60,this.__hours_in_day=24,this.__seconds_in_minute=60,this.__seconds_in_hour=this.__minutes_in_hour*this.__seconds_in_minute,this.__seconds_in_day=this.__hours_in_day*this.__seconds_in_hour}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.timestamp_to_iso=function(e){var r="timestamp_to_iso";try{return new Date(e).toISOString()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.iso_to_timestamp=function(e){var r="iso_to_timestamp";try{return new Date(e).getTime()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.timestamp_to_properties=function(e){var r="timestamp_to_properties",i={day:null,month:null,year:null,title:null};try{if(e>0){var n=new Date(e),s=t.Locale.text("days",this.__days_map[n.getDay()]),a=t.Locale.text("months",this.__months_map[n.getMonth()]);i.day=""+n.getDate(),i.month=""+(n.getMonth()+1),i.year=""+n.getFullYear(),i.title=s+", "+n.getDate()+" "+a,(new Date).getYear()!==n.getYear()&&(i.title+=" ("+i.year+")")}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.seconds_in_timestamp=function(e){var r="seconds_in_timestamp",i=0;try{if(isNaN(e))throw new Error("Timestamp is not a number");i=Math.floor(parseInt(e,10)/this.__second_in_milliseconds)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.now=function(){var e="now";try{return(new Date).toISOString()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.timestamp=function(){var e="timestamp";try{return(new Date).getTime()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.difference=function(e,r){var i="difference",n=-1;try{var s=this.iso_to_timestamp(e),a=this.iso_to_timestamp(r);n=s-a}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.equal=function(e,r){var i="equal",n=!1;try{n=0===this.difference(e,r)&&!0}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.format_date=function(e){var r="format_date",i=null;try{var n=new Date,s=new Date(e),a=n.getTime()-s.getTime(),o=this.__render_select(a);o.type||(o.type="far_away",o.data={date_full:s.toLocaleDateString()});var c=t.Library.dom(t.Template.render("date_"+o.type,o.data));if(i=c.text(),!i)throw new Error("Empty parsed date for ISO string: "+e)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.format_duration=function(e){var r="format_duration",i=null;try{var n=this.__render_select(e);n.type||(n.type="days");var s=t.Library.dom(t.Template.render("duration_"+n.type,n.data));if(i=s.text(),!i)throw new Error("Empty parsed duration for duration: "+e)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.watch=function(){var e=this,r="watch";try{t.Library.logger.debug(this.ns+"."+r,"Watch trigger scheduled in "+this.__watch_interval+" seconds"),setTimeout(function(){try{null!==t.Base._container_sel&&(t.Base._container_sel.find('[data-date-iso][data-date-watch="true"]').each(function(e,r,i){var n=i.eq(r),s=n.attr("data-date-iso"),a=n.attr("data-date-format"),o=t.Date.format_date(s);a&&(o=t.Library.crisp.web.Parse.replace(a,[o.toLowerCase()])),n.text(o)}),t.Library.logger.debug(e.ns+"."+r,"Updated dates and durations in DOM"),e.watch())}catch(i){t.Library.logger.error(e.ns+"."+r+":timeout",i)}},this.__watch_interval*this.__second_in_milliseconds)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__render_select=function(e){var r="__render_select",i={};try{var n=Math.round(e/this.__second_in_milliseconds);n<10?i.type="now":n<this.__seconds_in_minute?i.type="seconds":n<this.__seconds_in_hour?(i.type="minutes",i.data={minutes:Math.floor(n/this.__seconds_in_minute)}):n<this.__seconds_in_day&&(i.type="hours",i.data={hours:Math.floor(n/this.__seconds_in_hour)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),t.Theme=new(function(){function e(){var e="constructor";try{this.ns="CrispTheme",this.__color_hex_regex=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,this.__color_hex_to_number_base=16,this.__default_color="default",this.__available_colors={default:{10:"#f5f8fb",100:"#bbdefb",200:"#a6c5db",300:"#6193bc",500:"#298ee8",700:"#2e88d3",800:"#288ade",900:"#2271b3",reverse:"#ffffff"},red:{10:"#fafafa",100:"#ffcdd2",200:"#a6c5db",300:"#a46a6a",500:"#f44336",700:"#d32f2f",800:"#e33e32",900:"#b71c1c",reverse:"#ffffff"},pink:{10:"#fafafa",100:"#f8bbd0",200:"#a6c5db",300:"#b66a84",500:"#e91e63",700:"#c2185b",800:"#da1457",900:"#880e4f",reverse:"#ffffff"},purple:{10:"#fafafa",100:"#e1bee7",200:"#a6c5db",300:"#937099",500:"#9c27b0",700:"#7b1fa2",800:"#9121a4",900:"#4a148c",reverse:"#ffffff"},deep_purple:{10:"#fafafa",100:"#d1c4e9",200:"#a6c5db",300:"#786699",500:"#673ab7",700:"#512da8",800:"#6336b3",900:"#311b92",reverse:"#ffffff"},indigo:{10:"#fafafa",100:"#c5cae9",200:"#a6c5db",300:"#697099",500:"#3f51b5",700:"#303f9f",800:"#394aaa",900:"#1a237e",reverse:"#ffffff"},blue:{10:"#f5f8fb",100:"#bbdefb",200:"#a6c5db",300:"#6193bc",500:"#298ee8",700:"#2e88d3",800:"#288ade",900:"#2271b3",reverse:"#ffffff"},light_blue:{10:"#fafafa",100:"#b3e5fc",200:"#a6c5db",300:"#628da1",500:"#07a6ed",700:"#0288d1",800:"#069fe4",900:"#01579b",reverse:"#ffffff"},cyan:{10:"#fafafa",100:"#b2ebf2",200:"#a6c5db",300:"#6ca7ae",500:"#00adc3",700:"#0093a3",800:"#00a1b6",900:"#006064",reverse:"#ffffff"},teal:{10:"#fafafa",100:"#b2dfdb",200:"#a6c5db",300:"#638c88",500:"#009688",700:"#00796b",800:"#018a7d",900:"#004d40",reverse:"#ffffff"},green:{10:"#fafafa",100:"#c8e6c9",200:"#a6c5db",300:"#719873",500:"#4caf50",700:"#388e3c",800:"#47a74b",900:"#1b5e20",reverse:"#ffffff"},light_green:{10:"#fafafa",100:"#dcedc8",200:"#a6c5db",300:"#839a68",500:"#84bc44",700:"#689f38",800:"#80b840",900:"#407f28",reverse:"#ffffff"},amber:{10:"#fafafa",100:"#ffecb3",200:"#a6c5db",300:"#8a7b4e",500:"#e8b10c",700:"#e69308",800:"#e3ad0c",900:"#ed7112",reverse:"#ffffff"},orange:{10:"#fafafa",100:"#ffe0b2",200:"#a6c5db",300:"#bf9b64",500:"#ff9800",700:"#f57c00",800:"#f59302",900:"#e65100",reverse:"#ffffff"},deep_orange:{10:"#fafafa",100:"#ffccbc",200:"#a6c5db",300:"#ad8073",500:"#ff5722",700:"#e64a19",800:"#ec4c1a",900:"#bf360c",reverse:"#ffffff"},brown:{10:"#fafafa",100:"#d7ccc8",200:"#a6c5db",300:"#8a695e",500:"#795548",700:"#5d4037",800:"#6b4a40",900:"#3e2723",reverse:"#ffffff"},grey:{10:"#fafafa",100:"#757575",200:"#a6c5db",300:"#635d5d",500:"#7d7d7d",700:"#616161",800:"#767676",900:"#4d4d4d",reverse:"#ffffff"},blue_grey:{10:"#fafafa",100:"#cfd8dc",200:"#a6c5db",300:"#7f949f",500:"#607d8b",700:"#455a64",800:"#516771",900:"#263238",reverse:"#ffffff"},black:{10:"#fafafa",100:"#757575",200:"#a6c5db",300:"#3c3c3c",500:"#282828",700:"#252525",800:"#202020",900:"#161616",reverse:"#ffffff"}}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.colors=function(){var e="colors",r={};try{var i=void 0,n=void 0;i=t.Plugin.get_customization("color","chatbox"),n=this.__available_colors[t.Base._website_configuration.chat.theme]||this.__available_colors[this.__default_color],this.__filter_colors_map_with_defaults(i,n);for(var s in i)r[s]={hex:i[s],rgba:this.__generate_color_rgba.bind(this,i[s])}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.__filter_colors_map_with_defaults=function(e,r){var i="__filter_colors_map_with_defaults";try{for(var n in r)e[n]||(e[n]=r[n])}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__generate_color_rgba=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="__generate_color_rgba",n="rgba(0, 0, 0, 1)";try{var s=[0,0,0],a=e.match(this.__color_hex_regex);a&&(s[0]=parseInt(a[1],this.__color_hex_to_number_base),s[1]=parseInt(a[2],this.__color_hex_to_number_base),s[2]=parseInt(a[3],this.__color_hex_to_number_base)),n="rgba("+(s[0]+", ")+(s[1]+", ")+(s[2]+", ")+(""+r)+")"}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e}()),t.Plugin=new(function(){function e(){var e="constructor";try{this.ns="CrispPlugin"}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.get_triggers=function(){var e="get_triggers",r={};try{r=(((t.Base._website_configuration.plugins||{})["urn:crisp.im:triggers:0"]||{}).settings||{}).triggers||{}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.get_customization=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="get_customization",s=null;try{s=((((t.Base._website_configuration.plugins||{})["urn:crisp.im:customization:0"]||{}).settings||{})[e]||{})[r]||{},i&&(s=s[i]||null)}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e}()),t.Sound=new(function(){function e(){var e="constructor";try{this.ns="CrispSound",this.__vibration_duration=200,this.__is_playback_allowed=!0,this.__active_subsets={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.allow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r="allow";try{this.__is_playback_allowed=e}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.initialize=function(e){var r=this,i="initialize";try{if(this.__is_playback_allowed===!1)return void t.Library.logger.warn(this.ns+"."+i,"Playback not allowed");if("undefined"==typeof this.__active_subsets[e]){var n=t.Feature.html_audio_format(),s=t.Library.dom(t.Template.render("sounds_"+e,{selected_format:n,url_assets:t.Base._url_assets,client_revision:t.Base._client_revision}));this.__active_subsets[e]={subset:s,names:{}},s.find(".crisp-50").each(function(t,i,n){var s=n.eq(i),a=s.attr("data-name");r.__active_subsets[e].names[a]=s}),t.Base._container_sel.append(s),t.Library.logger.debug(this.ns+"."+i,"Initialized subset "+e)}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.start=function(e,r){var i="start";try{if(this.__is_playback_allowed===!1)return void t.Library.logger.warn(this.ns+"."+i,"Playback not allowed");if(t.Feature.has_device_vibrate()===!0&&window.navigator.vibrate(this.__vibration_duration),t.Feature.has_html_audio()===!0){this.initialize(e);var n=this.__active_subsets[e];if("undefined"==typeof n)throw new Error("Subset does not exist: "+e);var s=n.names[r];if("undefined"==typeof s)throw new Error("Sound does not exist: "+r+" in subset "+e);s[0].paused||s[0].pause(),0!==s[0].currentTime&&(s[0].currentTime=0),s[0].load(),s[0].play(),t.Library.logger.debug(this.ns+"."+i,"Started sound named "+r+" in subset "+e)}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.stop=function(e,r){var i="stop";try{if(this.__is_playback_allowed===!1)return void t.Library.logger.warn(this.ns+"."+i,"Playback not allowed");if(t.Feature.has_html_audio()===!0){var n=this.__active_subsets[e];if("undefined"==typeof n)throw new Error("Subset does not exist: "+e);var s=n.names[r];if("undefined"==typeof s)throw new Error("Sound does not exist: "+r+" in subset "+e);s[0].paused||(s[0].pause(),0!==s[0].currentTime&&(s[0].currentTime=0),t.Library.logger.debug(this.ns+"."+i,"Stopped sound named "+r+" in subset "+e))}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__is_supported=function(){var e="__is_supported";try{return t.Feature.has_html_audio()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Locale=new(function(){function e(){var e="constructor";try{this.ns="CrispLocale",this.__default_locale="en",this.__available_locales=["ar","az","bg","bn","cs","da","de","en","es","fa","fi","fr","he","id","is","it","jp","lt","ms","nl","no","pl","pt-br","pt-pt","ro","ru","sk","sr-cyrl-cs","sr","sv","th","tr","vi","zh-tw","zh"],this.__allowed_locales=this.__available_locales,this.__data=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.detect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r="detect",i=this.__default_locale;try{var n=void 0,s=void 0,a=!1,o=[],c=[];for(e.length&&(this.__allowed_locales=t.Utility.intersect(e,this.__available_locales),this.__allowed_locales.length>0&&this.__allowed_locales.indexOf(i)===-1&&(i=this.__default_locale=this.__allowed_locales[0])),o=navigator.languages?navigator.languages:[navigator.language||navigator.userLanguage],n=0;n<o.length;n++)s=o[n],s&&(c.push(s.toLowerCase()),s.indexOf("-")!==-1&&(s=s.split("-")[0],s&&c.push(s.toLowerCase())));for(n=0;n<c.length;n++)if(this.__allowed_locales.indexOf(c[n])!==-1){i=c[n],a=!0;break}a===!0?t.Library.logger.info(this.ns+"."+r,"Detected user language: "+i):t.Library.logger.warn(this.ns+"."+r,"No user language supported, fallback to default: "+i)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.load=function(e,r){var i=this,n="load";try{(function(){var s=e;i.__allowed_locales.indexOf(e)===-1&&(s=i.__default_locale,t.Library.logger.warn(i.ns+"."+n,"Unsupported locale requested: "+e)),null===i.__data?(t.Library.logger.debug(i.ns+"."+n,"Loading locale: "+s+"..."),t.Base._load_dependency("locale","locales/"+s+".js",function(e){try{i.__handle_locale_injection(s,e,r)}catch(e){t.Library.logger.error(i.ns+"."+n+":load",e)}})):t.Library.logger.warn(i.ns+"."+n,"Locale already loaded")})()}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype.name=function(){var e="name",r=null;try{if(null===this.__data)throw new Error("Cannot get locale name, locale data not loaded");r=this.__data._meta.locale_name}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.code=function(){var e="code",r=null;try{if(null===this.__data)throw new Error("Cannot get locale code, locale data not loaded");r=this.__data._meta.locale_code}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.direction=function(){var e="direction",r=null;try{if(null===this.__data)throw new Error("Cannot get locale direction, locale data not loaded");r=this.__data._meta.locale_direction}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.text=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s="text",a=null;try{var o=void 0,c=void 0;if("object"===("undefined"==typeof i?"undefined":r(i))?(o=i[0],c=i[1]):o=c=i,null===this.__data)throw new Error("Cannot get locale text, locale data not loaded");if("undefined"==typeof this.__data._strings[e])throw new Error("Locale text group not found: "+e);if("undefined"==typeof this.__data._strings[e][c])throw new Error("Locale text namespace not found in group: "+(c+" in "+e));a=t.Plugin.get_customization("text",e,o)||this.__data._strings[e][c],a=t.Library.crisp.web.Parse.replace(a,n),a=this.__convert_to_iso(a)}catch(e){t.Library.logger.error(this.ns+"."+s,e)}finally{return a}},e.prototype.__handle_locale_injection=function(e,i,n){var s="__handle_locale_injection",a=null;try{if(null!==this.__data)throw new Error("Locale has already been loaded (double requested handled?)");if("object"!==("undefined"==typeof i?"undefined":r(i)))throw new Error("Did not receive a proper locale data file");if(i._meta.locale_code!==e)throw new Error("Received a mismatching locale code, expected: "+e);t.Library.logger.debug(this.ns+"."+s,"Done loading locale: "+e),this.__data=i,"function"==typeof n&&n()}catch(e){t.Library.logger.error(this.ns+"."+s,e)}finally{return a}},e.prototype.__convert_to_iso=function(e){var r="__convert_to_iso",i=null;try{try{i=decodeURIComponent(escape(e))}catch(t){i=e}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),t.Avatar=new(function(){function e(){var e="constructor";try{this.ns="CrispAvatar",this.__active_operators_maximum=3}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.url=function(e,r,i,n){var s="url",a="";try{a=n?t.Base._url_image+"/process/thumbnail/?url="+encodeURIComponent(n)+("&width="+e+"&height="+e)+("&"+t.Base._website_configuration.website.avatar_buster):t.Base._url_image+"/avatar/"+r+"/"+((i||"default")+"/"+e+"/")+("?"+t.Base._website_configuration.website.avatar_buster)}catch(e){t.Library.logger.error(this.ns+"."+s,e)}finally{return a}},e.prototype.active_operators=function(e,r){var i="active_operators",n=[];try{var s=r.website.active_operators;if(s.length>0)for(var a=0;a<s.length;a++)a<this.__active_operators_maximum&&n.push({type:"operator",identifier:s[a].user_id,avatar:s[a].avatar,name:t.Library.crisp.web.Name.parse_first_name(s[a].nickname)});else n.push({type:"website",identifier:e,name:r.website.name})}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Template=new(function(){function e(){var e="constructor";try{this.ns="CrispTemplate"}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.render=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="render",s="";try{if("function"!=typeof t.Library.jade.client[e])throw new Error("No such template: "+e);if("object"!==("undefined"==typeof i?"undefined":r(i)))throw new Error("Object argument is not an object");i._e=t.Locale.text.bind(t.Locale),i._f=t.Library.crisp.web.Parse.format.bind(t.Library.crisp.web.Parse),i._n=t.Library.crisp.web.Name.parse_first_name.bind(t.Library.crisp.web.Name),i._a=t.Avatar.url.bind(t.Avatar),s=t.Library.jade.client[e](i).trim(),t.Library.logger.debug(this.ns+"."+n,"Generated template for: "+e)}catch(e){t.Library.logger.error(this.ns+"."+n,e)}finally{return s}},e}()),t.Broker=new(function(){function e(){var e="constructor";try{this.ns="CrispBroker",this.__maximum_session_create_retry=1,this._default_session_configuration={chat:{locale:"en",theme:"default",theme_text:"default",theme_welcome:"default",tile:"default",blocked_pages:[],blocked_locales:[],last_operator_face:!1,activity_metrics:!0,availability_tooltip:!0,hide_on_away:!1,position_reverse:!1,email_visitors:!0,force_identify:!1},website:{name:"",domain:"",avatar_buster:1,active_operators:[]},plugins:[]},this.__domain_regex=/^(?:https?:[\/]*)?([^\/]+)(?:\/.*)?$/i,this._session_id=null,this.__newly_created_session=!1,this.__newly_joined_session=!0,this.__initialization_sequence_step=0,this.__count_session_create_retry=0,this.__response_ids_spool={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(e,r,i,n,s,a,o,c,_,l,p,h){var u="init";try{t.Library.logger.debug(this.ns+"."+u,"Initialize"),t.Library.crisp.client.init({environment:e,url_relay:r,url_go:i,website_domain:n,website_id:s,token_id:a,page_url:o,page_title:c,page_referrer:_,useragent:l,timezone:p,locales:h}),this.__event_session_created(),this.__event_session_joined(),this.__event_session_state(),this.__event_session_error(),this.__event_session_request_initiate(),this.__event_website_users_available(),this.__event_message_received(),this.__event_message_received_local(),this.__event_message_send(),this.__event_message_sent(),this.__event_message_compose_received(),this.__event_message_compose_send(),this.__event_message_acknowledge_pending(),this.__event_message_acknowledge_read_send(),this.__event_message_acknowledge_read_received(),this.__event_history_message_received(),this.__event_history_message_sent(),this.__event_browsing_request_initiate(),this.__event_bucket_url_upload_generate(),this.__event_bucket_url_upload_generated(),this.__event_media_animation_list(),this.__event_media_animation_listed(),this.__event_storage_sync_update(),this.__event_storage_sync_updated(),this.__event_issue_report()}catch(e){t.Library.logger.error(this.ns+"."+u,e)}},e.prototype.__event_session_created=function(){var e=this,r="__event_session_created";try{t.Library.crisp.client.event.subscribe("session:created",function(i,n){
t.Library.logger.info(e.ns+"."+r+":event",n),n.error?(t.Library.logger.warn(e.ns+"."+r+":event","Session could not be created from server"),"invalid_website_id"===n.error&&t.Locale.load(e._default_session_configuration.chat.locale,function(){t.Base.spawn_client(e._default_session_configuration),t.Minimized.init(is_initial=!1,is_unauthorized=!0)})):n.session_id?e.__newly_created_session=!0:t.Library.logger.error(e.ns+"."+r+":event","Unrecognized session creation error")})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_session_joined=function(){var e=this,r="__event_session_joined";try{t.Library.crisp.client.event.subscribe("session:joined",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),n.error?(t.Library.logger.warn(e.ns+"."+r+":event","Session could not be joined from server"),"invalid_session"===n.error&&(++e.__count_session_create_retry<=e.__maximum_session_create_retry?(t.Library.logger.info(e.ns+"."+r+":event","Flushing local session..."),t.Library.crisp.client.Session.clear(function(){t.Library.logger.info(e.ns+"."+r+":event","Flushed local session, trying to create a new one..."),t.Library.crisp.client.Session.create()},function(){t.Library.logger.warn(e.ns+"."+r+":event","Error flushing local session")})):t.Library.logger.warn(e.ns+"."+r+":event","Not flushing local session (retries limit reached)"))):(e._session_id=n.session_id||null,e.__newly_joined_session===!0?function(){e.__newly_joined_session=!1;var r={website:{name:n.website||"",domain:t.Utility.extract(e.__domain_regex,n.domain,t.Base._website_domain,1),avatar_buster:n.avatar_buster||1,active_operators:n.active_operators||[],response_metrics:n.response_metrics||{}},plugins:n.plugins,chat:{locale:t.Locale.detect(n.settings.locale?[n.settings.locale]:[]),theme:n.settings.color_theme||"default",blocked_pages:n.settings.blocked_pages||[],blocked_locales:n.settings.blocked_locales||[],tile:"string"==typeof n.settings.tile?n.settings.tile:"default",last_operator_face:"boolean"==typeof n.settings.last_operator_face&&n.settings.last_operator_face,activity_metrics:"boolean"!=typeof n.settings.activity_metrics||n.settings.activity_metrics,availability_tooltip:"boolean"!=typeof n.settings.availability_tooltip||n.settings.availability_tooltip,hide_on_away:"boolean"==typeof n.settings.hide_on_away&&n.settings.hide_on_away,position_reverse:"boolean"==typeof n.settings.position_reverse&&n.settings.position_reverse,email_visitors:"boolean"!=typeof n.settings.email_visitors||n.settings.email_visitors,force_identify:"boolean"==typeof n.settings.force_identify&&n.settings.force_identify,theme_text:n.settings.text_theme||"default",theme_welcome:n.settings.welcome_message||"default"}};t.Locale.load(r.chat.locale,function(){t.Base.spawn_client(r),t.Library.crisp.client.Website.get_users_available()})}():t.Library.logger.warn(e.ns+"."+r,"Recovered session from network reconnect, not joining it again"))})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_session_state=function(){var e=this,r="__event_session_state";try{t.Library.crisp.client.event.subscribe("session:state",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),1===e.__initialization_sequence_step&&(e.__initialization_sequence_step++,t.Library.logger.info(e.ns+"."+r+":event","Initialization sequence finished")),t.Chat._is_initialized===!1?(t.Utility.is_empty(n)?(t.Minimized.init(is_initial=e.__newly_created_session),t.Library.crisp.client.Session.get_request_initiate()):t.Chat.init(n=n),t.Base._trigger_session_loaded()):t.Chat._is_initialized===!0&&t.Chat.State.receive(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_session_error=function(){var e=this,r="__event_session_error";try{t.Library.crisp.client.event.subscribe("session:error",function(i,n){switch(t.Library.logger.debug(e.ns+"."+r+":event",i,n),n.type){case"email:invalid_format":case"email:domain_not_found":t.Chat.Selector.get("alerts_email_form_input").val(n.value),t.Chat.Selector.get("alerts_email_form").attr("data-error","true"),t.Chat.Alert._update({warn_reply:"hide",wait_reply:"hide",email_invalid:"show"});break;default:t.Library.logger.warn(e.ns+"."+r+":event","Got an unrecognized session error type: "+n.type)}})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_session_request_initiate=function(){var e=this,r="__event_session_request_initiate";try{t.Library.crisp.client.event.subscribe("session:request:initiate",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_website_users_available=function(){var e=this,r="__event_website_users_available";try{t.Library.crisp.client.event.subscribe("website:users:available",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Availability.receive(n),0===e.__initialization_sequence_step?(e.__initialization_sequence_step++,t.Library.crisp.client.Session.get_state()):t.Availability.apply()})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_received=function(){var e=this,r="__event_message_received";try{t.Library.crisp.client.event.subscribe("message:received",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),e.__handle_message_received(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_received_local=function(){var e=this,r="__event_message_received_local";try{t.Library.crisp.client.event.subscribe("message:received:local",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),e.__handle_message_received(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_send=function(){var e=this,r="__event_message_send";try{t.Library.crisp.client.event.subscribe("message:send",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat._is_initialized===!0&&t.Chat.Message.sent(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_sent=function(){var e=this,r="__event_message_sent";try{t.Library.crisp.client.event.subscribe("message:sent",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat._is_initialized===!0&&t.Chat.Message.sent_acknowledgement(n),t.Action._event("message:sent",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_compose_send=function(){var e=this,r="__event_message_compose_send";try{t.Library.crisp.client.event.subscribe("message:compose:send",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Action._event("message:compose:sent",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_acknowledge_pending=function(){var e=this,r="__event_message_acknowledge_pending";try{t.Library.crisp.client.event.subscribe("message:acknowledge:pending",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_acknowledge_read_send=function(){var e=this,r="__event_message_acknowledge_read_send";try{t.Library.crisp.client.event.subscribe("message:acknowledge:read:send",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat.Message._acknowledge_read_send(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_acknowledge_read_received=function(){var e=this,r="__event_message_acknowledge_read_received";try{t.Library.crisp.client.event.subscribe("message:acknowledge:read:received",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_message_compose_received=function(){var e=this,r="__event_message_compose_received";try{t.Library.crisp.client.event.subscribe("message:compose:received",function(i,n){if(t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat._is_initialized===!0)switch(n.type){case"start":t.Chat.Message._show_compose(n.timestamp);break;case"stop":t.Chat.Message._hide_compose()}t.Action._event("message:compose:received",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_history_message_received=function(){var e=this,r="__event_history_message_received";try{t.Library.crisp.client.event.subscribe("history:message:received",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat._is_initialized===!0&&t.Chat.Message.received_from_history(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_history_message_sent=function(){var e=this,r="__event_history_message_sent";try{t.Library.crisp.client.event.subscribe("history:message:sent",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Chat._is_initialized===!0&&t.Chat.Message.sent_from_history(n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_browsing_request_initiate=function(){var e=this,r="__event_browsing_request_initiate";try{t.Library.crisp.client.event.subscribe("browsing:request:initiate",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),t.Base._load_dependency("browsing","browsing.js",function(i){try{t.Library.crisp.client.Browsing.init({resume:n.resume||!1,deps:{tree_mirror:i.TreeMirrorClient}})}catch(i){t.Library.logger.error(e.ns+"."+r+":load",i)}})})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_bucket_url_upload_generate=function(){var e=this,r="__event_bucket_url_upload_generate";try{t.Library.crisp.client.event.subscribe("bucket:url:upload:generate",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),e.__response_ids_spool.bucket_url_upload_generate=n.id})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_bucket_url_upload_generated=function(){var e=this,r="__event_bucket_url_upload_generated";try{t.Library.crisp.client.event.subscribe("bucket:url:upload:generated",function(i,n){if(t.Library.logger.debug(e.ns+"."+r+":event",n),e.__response_ids_spool.bucket_url_upload_generate===n.id){var s=t.Chat.Selector.get("form_button_attach").attr("data-state");"preparing"===s?t.Chat.Selector.get("form_attach").attr("data-action",n.url.signed).attr("data-resource",n.url.resource).attr("data-size-limit",n.policy.size_limit).trigger("event:attach"):t.Library.logger.warn(e.ns+"."+r,"Dropped file upload trigger because state is already: "+s)}else t.Library.logger.warn(e.ns+"."+r,"Dropped file upload trigger because ID does not match with spool: "+n.id)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_media_animation_list=function(){var e=this,r="__event_media_animation_list";try{t.Library.crisp.client.event.subscribe("media:animation:list",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),e.__response_ids_spool.media_animation_list=n.id})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_media_animation_listed=function(){var e=this,r="__event_media_animation_listed";try{t.Library.crisp.client.event.subscribe("media:animation:listed",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n),e.__response_ids_spool.media_animation_list===n.id?t.Chat.Picker._handle_data_gif(n.results):t.Library.logger.warn(e.ns+"."+r,"Dropped media animation list because ID does not match with spool: "+n.id)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_storage_sync_update=function(){var e=this,r="__event_storage_sync_update";try{t.Library.crisp.client.event.subscribe("storage:sync:update",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_storage_sync_updated=function(){var e=this,r="__event_storage_sync_updated";try{t.Library.crisp.client.event.subscribe("storage:sync:updated",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__event_issue_report=function(){var e=this,r="__event_issue_report";try{t.Library.crisp.client.event.subscribe("issue:report",function(i,n){t.Library.logger.debug(e.ns+"."+r+":event",n)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_message_received=function(e){var r="__handle_message_received";try{t.Chat._start_minimized();var i="network"===e.origin&&!0;t.Chat.Message.received(e,with_sounds=i,with_animations=i,with_exchanged=i,with_scroll=!0,is_locally_generated=!1),t.Action._event("message:received",e)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e}()),t.Availability=new(function(){function e(){var e="constructor";try{this.ns="CrispAvailability",this._users_available=!1,this.__was_availability_online=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.receive=function(e){var r="receive";try{this._users_available=e,t.Action._event("website:availability:changed",this._users_available),t.Library.logger.info(this.ns+"."+r,"Received new availability, stored changes: "+e)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.apply=function(){var e="apply";try{var r=this._users_available===!0?"online":"away";null!==t.Base._container_sel&&(t.Base._container_sel.attr("data-availability",r),this.__was_availability_online===!1&&"online"===r&&(this.__was_availability_online=!0,t.Base._container_sel.attr("data-was-availability-online","true"))),t.Library.logger.info(this.ns+"."+e,"Applied availability: "+this._users_available)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Trigger=new(function(){function e(){var e="constructor";try{this.ns="CrispTrigger",this.__second_in_milliseconds=1e3,this._processed=[],this.__triggers=null,this.__readiness_ensured=!1,this.__event_mouse_inside=!1,this.__event_mouse_defer=null,this.__event_mouse_top_margin=10}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(e){var r="init";try{t.Library.logger.debug(this.ns+"."+r,"Initialize"),this.__triggers=e,this.__listen()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._run=function(e){var r="_run",i=!1;try{var n=(this.__triggers||{})[e];n&&n.enabled===!0&&(this.__actions(e,n),i=!0)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__listen=function(){var e="__listen";try{var r=void 0,i=void 0,n=void 0,s=void 0;for(var a in this.__triggers)if(r=this.__triggers[a],r.enabled===!0){if(i=r.events)for(var o in i)n=i[o],n.enabled===!0?(s=this["__event_"+o],"function"==typeof s?(s.bind(this)(a,r,n.settings||{}),t.Library.logger.info(this.ns+"."+e,"Attached "+o+" event listener for trigger: "+a)):t.Library.logger.error(this.ns+"."+e,"Did not attach "+o+" event listener for trigger: "+(a+" because: no such event listener"))):t.Library.logger.debug(this.ns+"."+e,"Did not attach "+o+" event listener for trigger: "+(a+" because: not enabled"));t.Library.logger.debug(this.ns+"."+e,"Processed trigger: "+a+" ("+r.name+")")}else t.Library.logger.debug(this.ns+"."+e,"Ignored trigger: "+a+" ("+r.name+") because: not enabled")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__actions=function(e,r){var i=this,n="__actions";try{if(this.__satisfy_preconditions()===!0){if(this._processed.indexOf(e)===-1){var s=t.Utility.clone(this._processed);s.push(e),this.__ensure_ready(),t.Chat.State.propagate("trigger",s,force=!1,function(s){if(s===!0&&i.__satisfy_preconditions()===!0){if(r.actions){var a=void 0,o=void 0;for(var c in r.actions)a=r.actions[c],a.enabled===!0?(o=i["__action_"+c],"function"==typeof o?(o.bind(i)(e,a.settings||{}),t.Library.logger.info(i.ns+"."+n,"Executed "+c+" action for trigger: "+e)):t.Library.logger.error(i.ns+"."+n,"Did not execute "+c+" action for trigger: "+(e+" because: no such action processor"))):t.Library.logger.debug(i.ns+"."+n,"Did not execute "+c+" action for trigger: "+(e+" because: not enabled"))}t.Library.logger.debug(i.ns+"."+n,"Processed all actions for trigger: "+e+" "+("("+r.name+")"))}})}}else t.Library.logger.debug(this.ns+"."+n,"Did not process actions for trigger: "+e+" "+("("+r.name+") because: trigger actions bypassed"))}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype.__ensure_ready=function(){var e="__ensure_ready";try{this.__readiness_ensured!==!0&&(this.__readiness_ensured=!0,t.Chat._start_minimized())}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__satisfy_preconditions=function(){var e="__satisfy_preconditions",r=!1;try{r=t.Action.is_website_available()===!0&&t.Base._is_blocked_page!==!0&&t.Base._is_blocked_locale!==!0&&t.Chat.Message._has_messages!==!0&&!0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.__generate_settings_after=function(e){var r="__generate_settings_after",i=100;try{e&&e.after&&e.after>0&&(i=e.after*this.__second_in_milliseconds)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__event_delay=function(e,r,i){var n=this,s="__event_delay";try{i.after&&i.after>0&&setTimeout(function(){n.__actions(e,r)},this.__generate_settings_after(i))}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__event_leave=function(e,r,i){var n=this,s="__event_leave";try{window.addEventListener("mouseout",function(a){try{n.__event_mouse_inside===!0&&!a.relatedTarget&&!a.toElement&&a.clientY<=n.__event_mouse_top_margin&&(n.__event_mouse_inside=!1,null===n.__event_mouse_defer&&(n.__event_mouse_defer=setTimeout(function(){n.__actions(e,r)},n.__generate_settings_after(i))))}catch(e){t.Library.logger.error(n.ns+"."+s+":mouseout",e)}}),window.addEventListener("mouseover",function(){try{n.__event_mouse_inside!==!0&&(n.__event_mouse_inside=!0,null!==n.__event_mouse_defer&&(clearTimeout(n.__event_mouse_defer),n.__event_mouse_defer=null))}catch(e){t.Library.logger.error(n.ns+"."+s+":mouseover",e)}})}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__event_link=function(e,r,i){var n=this,s="__event_link";try{i.ids&&i.ids.length>0&&document.addEventListener("click",function(a){try{a&&a.target&&"a"===(a.target.nodeName||"").toLowerCase()&&i.ids.indexOf(a.target.id)!==-1&&setTimeout(function(){n.__actions(e,r)},n.__generate_settings_after(i))}catch(e){t.Library.logger.error(n.ns+"."+s+":click",e)}})}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__event_page=function(e,r,i){var n=this,s="__event_page";try{if(i.urls&&i.urls.length>0){var a=t.Utility.compare_page_rules(t.Base._page_url,i.urls);a===!0&&setTimeout(function(){n.__actions(e,r)},this.__generate_settings_after(i))}}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__action_message=function(e,r){var i="__action_message";try{if(r){var n=(r[t.Locale.code()]||r.default||"").trim();if(n){var s=t.Base._website_configuration.website.active_operators||[],a={source:"trigger"};s[0]?(a.user_id=s[0].user_id,a.nickname=s[0].nickname,s[0].avatar&&(a.avatar=s[0].avatar)):(a.type="website",a.user_id=t.Base._website_id,a.nickname=t.Base._website_configuration.website.name),t.Library.crisp.client.Message.receive_message_local("text",n,a)}}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__action_open=function(e,r){var i="__action_open";try{t.Action.do_chat_open()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__action_sound=function(e,r){var i="__action_sound";try{t.Sound.start("events","chat-message-receive")}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e}()),t.Base=new(function(){function e(){var e="constructor";try{this.ns="CrispBase",this._client_sel=null,this._container_sel=null,this.__full_view_width_threshold=560,this.__small_view_height_threshold=640,this.__large_view_height_threshold=780,this.__insert_check_every=1e3,this.__issue_report_interval_limit=1e4,this.__website_context_protocol="http:",this._is_initialized=!1,this._website_configuration={},this._dollar_crisp=null,this._project_name=null,this._url_relay=null,this._url_website=null,this._url_go=null,this._url_image=null,this._url_assets=null,this._client_environment=null,this._client_revision=null,this._website_domain=null,this._website_id=null,this._token_id=null,this._page_url=null,this._page_title=null,this._page_referrer=null,this._browser_useragent=null,this._browser_timezone=null,this._browser_locales=null,this._is_blocked_page=!1,this._is_blocked_locale=!1,this._ready_trigger=null,this._runtime_configuration={},this.__issue_report_last_date=0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(e){var r="init";try{this._is_initialized===!1?(t.Library.logger.debug(this.ns+"."+r,"Initialize"),this._dollar_crisp=e.dollar_crisp||null,this._project_name=e.project_name||null,this._url_relay=e.url_relay||null,this._url_website=e.url_website||null,this._url_go=e.url_go||null,this._url_image=e.url_image||null,this._url_assets=e.url_assets||null,this._client_environment=e.client_environment||null,this._client_revision=e.client_revision||null,this._website_domain=e.website_domain||null,this._website_id=e.website_id||null,this._token_id=e.token_id||null,this._page_url=e.page_url||null,this._page_title=e.page_title||null,this._page_referrer=e.page_referrer||null,this._browser_useragent=e.browser_useragent||null,this._browser_timezone=e.browser_timezone||null,this._browser_locales=e.browser_locales||null,this._ready_trigger=e.ready_trigger||null,this._runtime_configuration=e.runtime_configuration||{},t.Broker.init(this._client_environment,this._url_relay,this._url_go,this._website_domain,this._website_id,this._token_id,this._page_url,this._page_title,this._page_referrer,this._browser_useragent,this._browser_timezone,this._browser_locales),this.__configure_console_sink(),this.__bind_event_window_resize(),this._is_initialized=!0):t.Library.logger.warn(this.ns+"."+r,"Already initialized, not re-initializing")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.spawn_client=function(e){var r="spawn_client";try{if(null!==this._client_sel)throw new Error("Base client already spawned");var i=t.Locale.code();this._website_configuration=e,t.Library.crisp.web.init({template:t.Template,config:{url:{crisp_web:this._url_website,crisp_image:this._url_image},context:{name:this._website_configuration.website.name,domain:this._website_configuration.website.domain,protocol:this.__website_context_protocol},runtime:this._runtime_configuration}}),t.Trigger.init(t.Plugin.get_triggers()),this._is_blocked_page=t.Utility.compare_page_rules(this._page_url,this._website_configuration.chat.blocked_pages)&&!0,this._is_blocked_locale=this._website_configuration.chat.blocked_locales.indexOf(i)!==-1&&!0||!1,this._client_sel=t.Library.dom(t.Template.render("client",{lang:i,direction:t.Locale.direction(),colors:t.Theme.colors(),position:t.Plugin.get_customization("position","chatbox"),blocked_page:this._is_blocked_page,blocked_locale:this._is_blocked_locale,lock_maximized:this._runtime_configuration.lock_maximized||!1,last_operator_face:this._website_configuration.chat.last_operator_face===!0&&this._website_configuration.website.active_operators.length>0,availability_tooltip:this._website_configuration.chat.availability_tooltip,hide_on_away:this._website_configuration.chat.hide_on_away,position_reverse:this._website_configuration.chat.position_reverse,force_identify:this._website_configuration.chat.force_identify})),this._container_sel=this._client_sel.find(".crisp-1"),this.__insert_client(),this._apply_sizing(),t.Library.logger.info(this.ns+"."+r,"Base client spawned")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._apply_sizing=function(){var e="_apply_sizing";try{null!==this._container_sel&&(this._container_sel.attr("data-full-view",this._is_full_view()===!0?"true":"false"),this._container_sel.attr("data-small-view",this._is_small_view()===!0?"true":"false"),this._container_sel.attr("data-large-view",this._is_large_view()===!0?"true":"false"))}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._is_full_view=function(){var e="_is_full_view";try{return this._runtime_configuration.lock_full_view===!0||(window.innerHeight<window.innerWidth&&window.innerHeight<this.__full_view_width_threshold||window.innerWidth<this.__full_view_width_threshold)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._is_large_view=function(){var e="_is_large_view";try{return window.innerHeight<window.innerWidth&&window.innerHeight>=this.__large_view_height_threshold||window.innerWidth<window.innerHeight&&window.innerWidth>=this.__large_view_height_threshold}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._is_small_view=function(){var e="_is_small_view";try{return window.innerHeight<window.innerWidth&&window.innerHeight<this.__small_view_height_threshold||window.innerWidth<window.innerHeight&&window.innerWidth<this.__small_view_height_threshold}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._trigger_session_loaded=function(){var e="_trigger_session_loaded";try{if("function"==typeof this._ready_trigger)try{this._ready_trigger(),this._ready_trigger=null}catch(e){}t.Action._unstack_pending(),t.Action._event("session:loaded",t.Broker._session_id)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._load_dependency=function(e,r,i){var n="_load_dependency";try{(function(){var n=e+"_handler",s=document.createElement("script");s.type="text/javascript",s.async=1,s.src=[t.Base._url_assets+"/static/javascripts/"+r,"?"+t.Base._client_revision].join(""),t.Base._dollar_crisp.__spool[n]=function(e){document.head.removeChild(s),delete t.Base._dollar_crisp.__spool[n],"function"==typeof i&&i(e)};var a=document.getElementsByTagName("head");a&&a[0]&&a[0].appendChild(s)})()}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype.__configure_console_sink=function(){var e=this,r="__configure_console_sink";try{"production"===this._client_environment?(t.Library.crisp.client.Issue.configure({project:this._project_name,revision:this._client_revision,environment:this._client_environment,useragent:this._browser_useragent,page:this._page_url}),t.Library.logger.set_log_sink(function(r,i,n){if("error"===r){var s=Date.now();s-e.__issue_report_last_date>=e.__issue_report_interval_limit&&(e.__issue_report_last_date=s,t.Library.crisp.client.Issue.report(r,i,n))}})):t.Library.logger.warn(this.ns+"."+r,"Console sink is disabled in "+("'"+this._client_environment+"' environment"))}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__bind_event_window_resize=function(){var e=this,r="__bind_event_window_resize";try{(function(){var i=window.onresize||function(){};window.onresize=function(){try{t.Chat._is_initialized===!0?t.Chat.Interface._apply_dynamic_sizing_properties():e._apply_sizing()}catch(i){t.Library.logger.error(e.ns+"."+r+":resize:self",i)}"function"==typeof i&&i()}})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__insert_client=function(){var e=this,r="__insert_client";try{this.__append_client(),setInterval(function(){0===t.Library.dom(".crisp-client").length&&(e.__append_client(),t.Library.logger.info(e.ns+"."+r,"Re-inserted client because body mutated"))},this.__insert_check_every)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__append_client=function(){var e="__append_client";try{var r=t.Library.dom("body")||[];r.length>0&&r.append(this._client_sel)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Minimized=new(function(){function e(){var e="constructor";try{this.ns="CrispMinimized",this._is_initialized=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="init";try{t.Library.logger.debug(this.ns+"."+i,"Initialize"),this.__initialize_children(),this.__launch(e=e,r=r),this._is_initialized=!0}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__initialize_children=function(){var e="__initialize_children";try{var r=void 0,i=[t.Minimized.Interface,t.Minimized.Selector,t.Minimized.Event];for(r=0;r<i.length;r++)i[r].init()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__launch=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="__launch";try{r!==!0?t.Minimized.Interface._pane_authorized(e=e):t.Minimized.Interface._pane_unauthorized(e=e),t.Base._runtime_configuration.lock_maximized===!0&&(t.Library.logger.info(this.ns+"."+i,"Applied locked maximized state from runtime configuration"),t.Minimized.Interface._pane_open_handler())}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e}()),t.Minimized.Event=new(function(){function e(){var e="constructor";try{this.ns="CrispMinimizedEvent"}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._pane_click=function(e){var r=this,i="_pane_click";try{t.Minimized.Selector._minimized_sel.on("click",function(e){try{var n=e.target?t.Library.dom(e.target):null,s=".crisp-173";n&&n.is(s)?t.Chat._start_minimized():t.Minimized.Interface._pane_open_handler()}catch(e){t.Library.logger.error(r.ns+"."+i,e)}finally{return!1}}),t.Minimized.Selector._minimized_sel[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e}()),t.Minimized.Interface=new(function(){function e(){var e="constructor";this.__second_in_milliseconds=1e3,this.__tooltip_short_show_delay=.25,this.__tooltip_full_show_delay=2,this.__animate_initial_pane_timeout=1e3,this.__animate_general_entice_tooltip_timeout=500,this._pane_open_handler=function(){};try{this.ns="CrispMinimizedInterface"}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize"),this.__launch()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._pane_authorized=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r="_pane_authorized";try{this.__spawn_pane("minimized_authorized",is_clickable=!0,e=e),this._pane_open_handler=function(){t.Chat.init()},t.Availability.apply(),t.Minimized.Event._pane_click()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._pane_unauthorized=function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i="_pane_unauthorized";try{this.__spawn_pane("minimized_unauthorized",is_clickable=!1,r=r),this._pane_open_handler=function(){t.Library.logger.warn(e.ns+"."+i,"Cannot open a non-configured chatbox")},t.Minimized.Event._pane_click()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__spawn_pane=function(e){var r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="__spawn_pane";try{t.Minimized.Selector._excerpt_sel=t.Library.dom(t.Template.render(e,{configuration:t.Base._website_configuration,methods:{active_operators:t.Avatar.active_operators.bind(t.Avatar)},website:{id:t.Base._website_id}})),t.Base._container_sel.empty(),t.Base._container_sel.append(t.Minimized.Selector._excerpt_sel),t.Minimized.Selector._bind(),i===!0&&function(){var e=t.Minimized.Selector._tooltips_sel.find([".crisp-29",'[data-id="general_entice"]'].join(""));t.Feature.has_css_animations()?(n===!0&&function(){var e="crisp-241";t.Minimized.Selector._minimized_sel.addClass(e),setTimeout(function(){t.Minimized.Selector._minimized_sel.removeClass(e)},r.__animate_initial_pane_timeout)}(),t.Base._is_full_view()!==!0&&function(){var t=n===!0?"full":"short";setTimeout(function(){e.safe_css_text("display","block");var i="full"===t?"crisp-242":"crisp-243";e.addClass(i),setTimeout(function(){e.removeClass(i)},r.__animate_general_entice_tooltip_timeout)},r["__tooltip_"+t+"_show_delay"]*r.__second_in_milliseconds)}()):t.Base._is_full_view()!==!0&&e.safe_css_text("display","block")}()}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__launch=function(){
var e="__launch";try{t.Library.crisp.client.Message.get_message_history()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}())(t),t.Minimized.Selector=new(function(){function e(){var e="constructor";try{this.ns="CrispMinimizedSelector",this._excerpt_sel=null,this._minimized_sel=null,this._tooltips_sel=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._bind=function(){var e="_bind";try{this.__bind_main(),this.__bind_tooltips()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__bind_main=function(){var e="__bind_main";try{this._minimized_sel=this._excerpt_sel.find(".crisp-26")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__bind_tooltips=function(){var e="__bind_tooltips";try{this._tooltips_sel=this._minimized_sel.find(".crisp-28")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Chat=new(function(){function e(){var e="constructor";try{this.ns="CrispChat",this._is_initialized=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r="init";try{t.Library.logger.debug(this.ns+"."+r,"Initialize"),this.__initialize_children(),null!==e&&t.Chat.State._restore(e),null===e&&t.Action._event("chat:initiated"),this.__launch(),this._is_initialized=!0}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._start_minimized=function(){this._is_initialized!==!0&&(this.init({maximized:!1}),t.Chat.State.propagate("maximized",!1,force=!0))},e.prototype.__initialize_children=function(){var e="__initialize_children";try{var r=void 0,i=[t.Chat.Alert,t.Chat.Field,t.Chat.Interface,t.Chat.Message,t.Chat.Misc,t.Chat.Notification,t.Chat.Scroll,t.Chat.State,t.Chat.Selector,t.Chat.Event,t.Chat.Viewport];for(r=0;r<i.length;r++)i[r].init()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__launch=function(){var e="__launch";try{t.Chat.Interface._pane(),t.Chat.Field._focus_on_foreground(),t.Availability.apply(),t.Sound.initialize("events"),t.Chat.Message._show_welcome(),t.Library.crisp.client.Message.get_message_compose(),t.Library.crisp.client.Message.get_message_history(),t.Library.crisp.client.Message.get_unread_messages(),t.Date.watch()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Chat.Alert=new(function(){function e(){var e="constructor";try{this.ns="CrispChatAlert",this._states={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._update=function(e,i){var n="_update";try{var s=void 0,a=void 0,o=void 0,c=void 0;"object"===("undefined"==typeof e?"undefined":r(e))?s=e:(s={},s[e]=i);var _=t.Utility.clone(this._states);for(a in s)s.hasOwnProperty(a)&&(o=s[a],c=!1,"undefined"!=typeof this._states[a]&&this._states[a]===o&&(c=!0),"lock"===this._states[a]&&"unlock"!==o&&(c=!0),c===!1&&(_[a]=o));t.Chat.State.propagate("alert",_)}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype._is_visible=function(e){var r="_is_visible",i=!1;try{i=("show"===this._states[e]||"unlock"===this._states[e])&&!0}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),t.Chat.Picker=new(function(){function e(){var e="constructor";try{this.ns="CrispChatPicker",this.__items_gif_maximum=10,this.__visible=null,this.__last_search_query=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._is_open=function(){var e="_is_open",r=!1;try{r=null!==this.__visible&&!0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype._toggle=function(e){var r="_toggle";try{var i=t.Chat.Selector.get("pickers").find([".crisp-99",'[data-type="'+e+'"]'].join(""));if(i.length>0){var n=this._is_open();this._reset(),t.Chat.Selector.get("pickers").attr("data-has-animation",n===!1?"true":"false"),this.__show(e,i),t.Chat.Field._focus_on_foreground()}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._reset=function(){var e="_reset";try{this.__last_search_query=null,null!==this.__visible&&(t.Chat.Selector.get("pickers_inner_one").safe_css_text("display","none"),t.Chat.Selector.get("content").removeAttr("data-has-picker-"+this.__visible),t.Library.dom([".crisp-101",'[data-removable="true"]'].join("")).remove(),t.Library.logger.debug(this.ns+"."+e,'Picker "'+this.__visible+'" hidden'),this.__visible=null)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._load_data_gif=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r="_load_data_gif";try{if(null!==t.Chat.Event._search_defer_timeout&&(clearTimeout(t.Chat.Event._search_defer_timeout),t.Chat.Event._search_defer_timeout=null),this.__last_search_query!==e){this.__last_search_query=e;var i=t.Chat.Selector.get("pickers_gif").find(".crisp-100"),n=t.Chat.Selector.get("pickers_gif").find(".crisp-107"),s=t.Template.render("chat_picker_gif_item");i.empty(),n.safe_css_text("display","none"),i.safe_css_text("display","block"),t.Chat.Selector.get("pickers_gif").attr("data-has-search",e?"true":"false"),t.Chat.Selector.get("pickers_search_input").val()!==e&&t.Chat.Selector.get("pickers_search_input").val(e||"");for(var a=0;a<this.__items_gif_maximum;a++)i.append(s);t.Chat.Event._picker_actions_gif_items(i),t.Library.crisp.client.Media.get_animation_list(e)}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._handle_data_gif=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r="_handle_data_gif";try{(function(){var r=t.Chat.Selector.get("pickers_gif").find(".crisp-101"),i=0;r&&r.length>0&&(r.each(function(r,n,s){var a=s.eq(n);e[n]&&e[n].type&&e[n].url?(a.attr("data-type",e[n].type),a.attr("data-url",e[n].url),a.safe_css_text("background-image","url('"+t.Base._url_image+"/process/original/"+("?url="+encodeURIComponent(e[n].url)+"')")),a.removeAttr("data-loading"),i++):a.remove()}),0===i&&(t.Chat.Selector.get("pickers_gif").find(".crisp-100").safe_css_text("display","none"),t.Chat.Selector.get("pickers_gif").find(".crisp-107").safe_css_text("display","block")))})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__show=function(e,r){var i="__show";try{r.safe_css_text("display","block"),t.Chat.Selector.get("content").attr("data-has-picker-"+e,"true"),this.__visible=e;var n=this["__trigger_show_"+e];"function"==typeof n&&n.bind(this)(),t.Library.logger.debug(this.ns+"."+i,'Picker "'+e+'" shown')}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__trigger_show_gif=function(){var e="__trigger_show_gif";try{this._load_data_gif()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}());var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(t.Chat.Event=new(function(){function e(){var e="constructor";try{this.ns="CrispChatEvent",this.__textarea_height_safety_margin=120,this.__scroll_propagate_defer_wait=500,this.__search_defer_wait=500,this.__textarea_propagate_defer_wait=1e3,this.__textarea_change_multiplier_gap=.2,this.__file_change_stack=[],this._search_defer_timeout=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._bind=function(){var e="_bind";try{this.__chat_click_fuzzy(),this.__chat_pane_minimize(),this.__chat_pane_toggle(),this.__chat_flow_scroll(),this.__pickers_click(),this.__picker_smiley(),this.__picker_gif(),this.__alert_warn_reply(),this.__alert_email_invalid(),this.__alert_email_form(),this.__textarea_submit(),this.__textarea_change(),this.__file_drop(),this.__file_submit(),this.__file_change(),this.__page_scroll(),this.__page_change()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._message_actions_text=function(e){var r=this,i="_message_actions_file";try{(function(){var n=e.find('.crisp-209[data-type="embed"]')||[];n.length>0&&(n.on("click",function(){try{t.Chat.Interface._magnify("embed",n.attr("href"))}catch(e){t.Library.logger.error(r.ns+"."+i+":click",e)}finally{return!1}}),r.__touch_as_click(n),n[0].onclick=function(){return!1})})()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype._message_actions_file=function(e){var r=this,i="_message_actions_file";try{(function(){var n=e.find(".crisp-225")||[];n.length>0&&(n.on("click",function(){try{t.Chat.Interface._magnify("file",n.attr("href"),n.attr("data-name"))}catch(e){t.Library.logger.error(r.ns+"."+i+":click",e)}finally{return!1}}),r.__touch_as_click(n),n[0].onclick=function(){return!1})})()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype._message_actions_sent=function(e,r){var i=this,n="_message_actions_sent";try{var s=e.find(".crisp-220");s.on("click",function(){try{e.remove(),t.Action.do_message_send(r.type,r.content)}catch(e){t.Library.logger.error(i.ns+"."+n+":click",e)}finally{return!1}}),this.__touch_as_click(s),s[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype._magnify_actions=function(e){var r=this,i="_magnify_actions";try{(function(){var n=function(){e.remove(),t.Chat.Field._focus_on_foreground()};e.on("keydown",function(e){try{27===e.keyCode&&n()}catch(e){t.Library.logger.error(r.ns+"."+i+":keydown",e)}}),e.find(".crisp-54").on("load",function(){e.attr("data-state","loaded")}),e[0].onclick=function(e){var s=!1;try{var a=null,o=e.target?t.Library.dom(e.target):null;switch(o&&o.is(".crisp-56")&&(a=o.attr("data-action")),a){case"download":s=!0;break;default:n()}}catch(e){t.Library.logger.error(r.ns+"."+i+":click",e)}finally{return s}},r.__touch_as_click(e)})()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype._picker_actions_gif_items=function(e){var r=this,i="_picker_actions_gif_items";try{var n=e.find(".crisp-101")||[];if(n.length>0){n.on("click",function(e){try{var n=e.target?t.Library.dom(e.target):null;if(n){var s=n.attr("data-type"),a=n.attr("data-url");a&&s&&(t.Action.do_message_send("animation",{type:s,url:a}),t.Chat.Picker._reset())}}catch(e){t.Library.logger.error(r.ns+"."+i+":click",e)}finally{return!1}}),this.__touch_as_click(n);for(var s=0;s<n.length;s++)n[s].onclick=function(){return!1}}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__chat_click_fuzzy=function(){var e=this,r="__chat_click_fuzzy";try{var i=t.Chat.Selector._chat_sel.find(".crisp-81");i.on("click",function(i){try{var n=i.target?t.Library.dom(i.target):null;n&&!n.is(".crisp-106")&&0===n.parents(".crisp-106").length&&t.Chat.Field._focus_on_foreground()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__chat_pane_minimize=function(){var e=this,r="__chat_pane_minimize";try{t.Chat.Selector._chat_sel.on("keydown",function(i){try{27===i.keyCode&&t.Action.do_chat_close()}catch(i){t.Library.logger.error(e.ns+"."+r+":keydown",i)}}),t.Chat.Selector.get("header").on("click",function(){try{t.Action.do_chat_close()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(t.Chat.Selector.get("header")),t.Chat.Selector.get("header")[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__chat_pane_toggle=function(){var e=this,r="__chat_pane_toggle";try{t.Chat.Selector._minimized_sel.on("click",function(){try{t.Action.do_chat_toggle()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(t.Chat.Selector._minimized_sel),t.Chat.Selector._minimized_sel[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__chat_flow_scroll=function(){var e=this,r="__chat_flow_scroll";try{(function(){var i=null,n=function(r){null!==i&&clearTimeout(i),i=setTimeout(function(){t.Chat.State.propagate("scroll",r)},e.__scroll_propagate_defer_wait)};t.Chat.Selector.get("flow").on("scroll",function(){try{t.Chat.Scroll._position=t.Chat.Selector.get("flow")[0].scrollTop,t.Chat.Notification._check_clearance(),n(t.Chat.Scroll._position)}catch(i){t.Library.logger.error(e.ns+"."+r+":scroll",i)}}),t.Chat.Selector.get("alerts_new_messages").on("click",function(){try{t.Chat.Scroll._to()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),e.__touch_as_click(t.Chat.Selector.get("alerts_new_messages")),t.Chat.Selector.get("alerts_new_messages")[0].onclick=function(){return!1},t.Chat.Selector.get("flow")[0].onscroll=function(e){e.preventDefault()}})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__pickers_click=function(){var e=this,r="__pickers_click";try{var i=t.Chat.Selector.get("pickers_selector_one");t.Chat.Selector.get("pickers").on("click",function(i){try{var n=i.target?t.Library.dom(i.target):null;n&&0===n.parents(".crisp-93").length&&t.Chat.Picker._reset()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}}),i.on("click",function(i){try{var n=i.target?t.Library.dom(i.target):null;if(n){var s=n.attr("data-type");s?t.Chat.Picker._toggle(s):t.Chat.Picker._reset()}}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(i);for(var n=0;n<i.length;n++)i[n].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__picker_smiley=function(){var e=this,r="__picker_smiley";try{var i=t.Chat.Selector.get("pickers_smiley").find(".crisp-101");t.Chat.Selector.get("form_button_smiley").on("click",function(){try{t.Chat.Picker._is_open()===!1?t.Chat.Picker._toggle("smiley"):t.Chat.Picker._reset()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}}),i.on("click",function(i){try{(function(){var e=i.target?t.Library.dom(i.target):null,r=e?e.attr("data-value"):null;r&&function(){var e=void 0,i=void 0,n=t.Chat.Selector.get("form_textarea_message"),s=n[0].selectionStart;e=i=t.Action.get_message_text(),e&&(s>0&&" "!==e[s-1]&&(r=" "+r),s<e.length&&" "!==e[s]&&(r+=" ")),i=e.substr(0,s)+r+e.substr(s),t.Action.set_message_text(i),n.trigger("keyup"),setTimeout(function(){s+=r.length,n[0].selectionStart=n[0].selectionEnd=s},0)}(),t.Chat.Picker._reset(),t.Chat.Field._focus_on_foreground()})()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(i);for(var n=0;n<i.length;n++)i[n].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__picker_gif=function(){var e=this,r="__picker_gif";try{var i=t.Chat.Selector.get("pickers_gif").find(".crisp-104")||[];t.Chat.Selector.get("pickers_search_input").on("keyup",function(){try{null!==e._search_defer_timeout&&clearTimeout(e._search_defer_timeout),e._search_defer_timeout=setTimeout(function(){var e=t.Chat.Selector.get("pickers_search_input").val().trim();t.Chat.Picker._load_data_gif(e)},e.__search_defer_wait)}catch(i){t.Library.logger.error(e.ns+"."+r+":keyup",i)}}),i.length>0&&(i.on("click",function(){try{t.Chat.Picker._load_data_gif()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(i),i[0].onclick=function(){return!1})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__alert_warn_reply=function(){var e=this,r="__alert_warn_reply";try{t.Chat.Selector.get("alerts_warn_reply").on("click",function(){try{t.Chat.Alert._update({warn_reply:"hide",email_form:"unlock"})}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(t.Chat.Selector.get("alerts_warn_reply")),t.Chat.Selector.get("alerts_warn_reply")[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__alert_email_invalid=function(){var e=this,r="__alert_email_invalid";try{t.Chat.Selector.get("alerts_email_invalid").on("click",function(){try{t.Chat.Alert._update({email_invalid:"hide",email_form:"unlock"})}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),this.__touch_as_click(t.Chat.Selector.get("alerts_email_invalid")),t.Chat.Selector.get("alerts_email_invalid")[0].onclick=function(){return!1}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__alert_email_form=function(){var e=this,r="__alert_email_form";try{(function(){var i=function(){t.Chat.Scroll._to_last_message()},n=function(){var e=t.Chat.Selector.get("alerts_email_form_input").val().trim();try{t.Action.set_user_email(e)}catch(e){}i()},s=function(){if(t.Base._website_configuration.chat.force_identify!==!0){var e=t.Chat.Selector.get("alerts_email_form").attr("data-error");"true"===e?t.Chat.Alert._update({email_form:"lock",email_invalid:"show"}):t.Chat.Alert._update({email_form:"lock",warn_reply:"show"}),i()}};t.Chat.Selector.get("alerts_email_form_form").on("submit",function(){try{n()}catch(i){t.Library.logger.error(e.ns+"."+r+":submit",i)}finally{return!1}}),t.Chat.Selector.get("alerts_email_form").on("click",function(i){try{var n=i.target?t.Library.dom(i.target):null;n&&0===n.parents(".crisp-110").length&&s()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),t.Chat.Selector.get("alerts_email_form_validate").on("click",function(){try{n()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),t.Chat.Selector.get("alerts_email_form_cancel").on("click",function(){try{s()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),e.__touch_as_click(t.Chat.Selector.get("alerts_email_form_validate")),e.__touch_as_click(t.Chat.Selector.get("alerts_email_form_cancel")),t.Chat.Selector.get("alerts_email_form_form")[0].onsubmit=function(){return!1},t.Chat.Selector.get("alerts_email_form_validate")[0].onclick=function(){return!1},t.Chat.Selector.get("alerts_email_form_cancel")[0].onclick=function(){return!1}})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__textarea_submit=function(){var e=this,r="__textarea_submit";try{(function(){var i=function(){t.Chat.Message.send()};t.Chat.Selector.get("form_textarea_message").on("keyup",function(n){try{if(13===n.keyCode&&!n.shiftKey)return i(),!1}catch(i){t.Library.logger.error(e.ns+"."+r+":keyup",i)}}),t.Chat.Selector.get("form_message").on("submit",function(){try{i()}catch(i){t.Library.logger.error(e.ns+"."+r+":submit",i)}finally{return!1}}),t.Chat.Selector.get("form_button_send").on("click",function(){try{t.Chat.Message.send()}catch(i){t.Library.logger.error(e.ns+"."+r+":click",i)}finally{return!1}}),e.__touch_as_click(t.Chat.Selector.get("form_button_send")),t.Chat.Selector.get("form_textarea_message")[0].onkeydown=function(e){if(13===e.keyCode&&!e.shiftKey)return!1},t.Chat.Selector.get("form_message")[0].onsubmit=function(){return!1},t.Chat.Selector.get("form_button_send")[0].onclick=function(){return!1}})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__textarea_change=function(){var e=this,r="__textarea_change";try{(function(){var i=1,n=null,s=parseInt(t.Chat.Selector.get("form_textarea_message").attr("rows"),10),a=function(r){null!==n&&clearTimeout(n),n=setTimeout(function(){t.Chat.State.propagate("textarea",r)},e.__textarea_propagate_defer_wait)},o=function(n){try{if(_textarea_val="",13!==n.keyCode||n.shiftKey)if(_textarea_val=t.Action.get_message_text(),a(_textarea_val),_textarea_val){var o=8.5*_textarea_val.length,c=o/t.Chat.Interface._textarea_base_width;c+=(_textarea_val.match(/\n/g)||[]).length;var _=Math.ceil(c);if(_-c<e.__textarea_change_multiplier_gap||_!==i){c=_,i=c;var l=t.Chat.Interface._form_container_height-t.Chat.Interface._textarea_base_line_height+t.Chat.Interface._textarea_base_line_height*c,p=t.Chat.Interface._textarea_base_line_height*(c-1);t.Chat.Selector.get("form_textarea_message").attr("rows",s+(c-1)),l<t.Chat.Interface._flow_height+t.Chat.Interface._form_container_height-e.__textarea_height_safety_margin?(t.Chat.Field._update_textarea_overlapping(p),t.Chat.Selector.get("form_container").safe_css_text("height",l+"px"),t.Library.logger.info(e.ns+"."+r+":fn","New height set to: "+l)):t.Library.logger.warn(e.ns+"."+r+":fn","Max height reached for new height: "+l)}t.Chat.Selector.get("form_container").attr("data-has-value","true")}else t.Chat.Selector.get("form_container").safe_css_text(null),t.Chat.Selector.get("form_container").attr("data-has-value","false"),t.Chat.Selector.get("form_textarea_message").attr("rows",s),t.Chat.Field._update_textarea_overlapping(0),t.Library.logger.info(e.ns+"."+r+":fn","Restored base properties");t.Library.crisp.client.Message.send_message_compose(_textarea_val?"start":"stop",_textarea_val||null)}catch(i){t.Library.logger.error(e.ns+"."+r+":fn",i)}};t.Chat.Selector.get("form_textarea_message").on("keypress",function(i){try{o(i)}catch(i){t.Library.logger.error(e.ns+"."+r+":keypress",i)}}),t.Chat.Selector.get("form_textarea_message").on("keyup",function(i){try{o(i)}catch(i){t.Library.logger.error(e.ns+"."+r+":keyup",i)}})})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__file_drop=function(){var e=this,r="__file_drop";try{(function(){var r=function(e){e.preventDefault(),e.stopPropagation()};t.Chat.Selector.get("content").on("dragover",function(e){r(e),t.Chat.Selector.get("content").attr("data-has-drop-zone","true")}),t.Chat.Selector.get("drop_over").on("dragleave",function(e){r(e),t.Chat.Selector.get("content").removeAttr("data-has-drop-zone")}),t.Chat.Selector.get("drop_over").on("drop",function(i){return r(i),t.Chat.Selector.get("content").removeAttr("data-has-drop-zone"),i.dataTransfer&&i.dataTransfer.files&&i.dataTransfer.files.length>0&&e.__handle_file_change(i.dataTransfer.files),!1})})()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__file_submit=function(){var e=this,i="__file_submit";try{t.Chat.Selector.get("form_attach").on("event:attach",function(){try{var n=function(){var r=void 0,n=void 0,s=void 0,a=void 0,o=function(){r&&(r.removeEventListener("progress",l,!1),r.removeEventListener("error",_,!1),r.removeEventListener("abort",_,!1),r.removeEventListener("load",c,!1)),t.Chat.Selector.get("form_input_attach")[0].value=null,t.Chat.Selector.get("form_button_attach").attr("data-state","none"),e.__file_change_stack.shift(),e.__file_change_stack.length>0&&e.__handle_file_change(e.__file_change_stack)},c=function(){e.__file_change_stack.length>0&&s&&(t.Library.logger.info(e.ns+"."+i,"Succeeded uploading file"),t.Action.do_message_send("file",{url:s,name:e.__file_change_stack[0].name||"File",type:e.__file_change_stack[0].type||"application/octet-stream"})),o()},_=function(){e.__file_change_stack.length>0&&(t.Library.logger.info(e.ns+"."+i,"Failed uploading file"),alert(t.Locale.text("chat","chat_form_attach_alert_error"))),o()},l=function(e){t.Chat.Selector.get("form_button_attach").attr("data-state","uploading")};if(n=t.Chat.Selector.get("form_attach").attr("data-action"),s=t.Chat.Selector.get("form_attach").attr("data-resource"),a=parseInt(t.Chat.Selector.get("form_attach").attr("data-size-limit"),10),!e.__file_change_stack[0])throw o(),new Error("Empty file data read from attach input");if(!n||!s)throw o(),new Error(["Either empty bucket upload action or resource value ","received from backend"].join(""));return e.__file_change_stack[0].size>=a?(alert(t.Locale.text("chat","chat_form_attach_alert_size")),o(),{v:void 0}):(r=new XMLHttpRequest,r.file=e.__file_change_stack[0],r.addEventListener("progress",l,!1),r.addEventListener("error",_,!1),r.addEventListener("abort",_,!1),r.addEventListener("load",c,!1),r.open("PUT",n,!0),r.setRequestHeader("Content-Disposition","attachment"),void r.send(e.__file_change_stack[0]))}();if("object"===("undefined"==typeof n?"undefined":r(n)))return n.v}catch(r){t.Library.logger.error(e.ns+"."+i+":submit",r)}finally{return!1}})}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__file_change=function(){var e=this,r="__file_change";try{t.Chat.Selector.get("form_input_attach").on("change",function(t){return!!(t.target.files&&t.target.files.length>0)&&e.__handle_file_change(t.target.files)})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__page_scroll=function(){var e=this,r="__page_scroll";try{document.addEventListener("wheel",function(i){try{var n=i.target?t.Library.dom(i.target):null;if(n&&"number"==typeof i.wheelDelta&&t.Action.is_chat_opened()===!0&&(n.parents(".crisp-client").length>0||n.is(".crisp-client"))){var s=t.Chat.Selector.get("flow"),a=".crisp-84";if(s&&s[0]&&(n.parents(a).length>0||n.is(a))){var o=s[0].scrollTop-i.wheelDelta;s[0].scrollTop=o>=0?o:0}i.stopPropagation(),i.preventDefault(),i.returnValue=!1}}catch(i){t.Library.logger.error(e.ns+"."+r+":wheel",i)}})}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__page_change=function(){var e="__page_change";try{window.addEventListener("beforeunload",function(e){var r=null;t.Library.crisp.client.Message.is_sending_messages()===!0&&(r=t.Locale.text("chat","chat_message_send_abort_warn"));var i=t.Chat.Selector.get("form_button_attach").attr("data-state");if(["preparing","uploading"].indexOf(i)!==-1&&(r=t.Locale.text("chat","chat_form_attach_abort_warn")),r)return e.returnValue=r})}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__touch_as_click=function(e){var r=this,i="__touch_as_click";try{e.on("touchstart",function(e){try{e.preventDefault()}catch(e){t.Library.logger.error(r.ns+"."+i+":touchstart",e)}}),e.on("touchend",function(e){try{e.preventDefault(),e.target&&"function"==typeof e.target.click&&e.target.click()}catch(e){t.Library.logger.error(r.ns+"."+i+":touchend",e)}})}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__handle_file_change=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r="__handle_file_change";try{var i=t.Chat.Selector.get("form_button_attach").attr("data-state");if(e.length>0&&"none"===i){this.__file_change_stack=[];for(var n=0;n<e.length;n++)this.__file_change_stack.push(e[n]);t.Chat.Selector.get("form_button_attach").attr("data-state","preparing"),t.Library.crisp.client.Bucket.get_url_upload(e[0].name,e[0].type)}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return!1}},e}()),t.Chat.Field=new(function(){function e(){var e="constructor";try{this.ns="CrispChatField",this._textarea_val=""}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._focus_on_foreground=function(){var e="_focus_on_foreground";try{if(!t.Feature.has_screen_touch()&&t.Chat.Interface._chat_is_visible()){var r=null;r=t.Chat.Picker._is_open()===!0?t.Chat.Selector.get("pickers_search_input"):t.Chat.Alert._is_visible("email_form")===!0?t.Chat.Selector.get("alerts_email_form_input"):t.Chat.Selector.get("form_textarea_message"),r&&r.length>0&&r[0].focus()}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._blur_from_foreground=function(){var e="_blur_from_foreground";try{t.Chat.Selector.get("form_textarea_message")[0].blur(),t.Chat.Selector.get("alerts_email_form_input")[0].blur()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._update_textarea_overlapping=function(e){var r="_update_textarea_overlapping";try{var i=t.Chat.Selector._chat_sel.find([".crisp-111",".crisp-93"].join(", "));i.safe_css_text("margin-bottom",e+"px")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e}()),t.Chat.Interface=new(function(){function e(){var e="constructor";try{this.ns="CrispChatInterface",this.__desktop_small_chat_width=320,this.__desktop_small_chat_height=380,this.__desktop_regular_chat_width=360,this.__desktop_regular_chat_height=460,this.__desktop_large_chat_width=400,this.__desktop_large_chat_height=560,this.__textarea_width_sefety=8,this.__toggle_clean_timeout=500,this.__inactivity_timeout=18e5,this.__magnify_focus_timeout=250,this.__metric_reply_min=3e4,this.__metric_reply_max=216e5,this.__smileys={angry:":@",blushing:":$",confused:"x)",cool:"8)",crying:":'(",embarrased:":/",heart:"<3",laughing:":'D",sad:":(",sick:":S","small-smile":":)","big-smile":":D","thumbs-up":"+1",surprised:":o",tongue:":P",winking:";)"},this._visibility_animate_classes={minimized:{minimize:"crisp-244",maximize:"crisp-245"},shade:{minimize:"crisp-246",maximize:"crisp-247"},chat:{minimize:"crisp-248",maximize:"crisp-249"}},this._is_maximized=!0,this.__toggle_clean_timeout_wait=null,this.__inactivity_timeout_wait=null,this._flow_height=0,this._form_container_height=0,this._textarea_base_width=0,this._textarea_base_line_height=0,this._last_message_height=40,this.__effective_chat_width=0,this.__effective_chat_height=0,this.__has_window_focus=!0,this.__is_inactive=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{this.__watch_focus(),this.__watch_activity(),t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._toggle_visibility=function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pane",i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="_toggle_visibility";try{(function(){var n="chat"===r?"true":"false",s=function(r){var i="close"===r?"maximize":"minimize",n="close"===r?"minimize":"maximize";null!==e.__toggle_clean_timeout_wait&&clearTimeout(e.__toggle_clean_timeout_wait),t.Chat.Selector._minimized_sel&&(t.Chat.Selector._minimized_sel.removeClass(e._visibility_animate_classes.minimized[i]),t.Chat.Selector._minimized_sel.addClass(e._visibility_animate_classes.minimized[n])),t.Chat.Selector._shade_sel&&(t.Chat.Selector._shade_sel.removeClass(e._visibility_animate_classes.shade[i]),t.Chat.Selector._shade_sel.addClass(e._visibility_animate_classes.shade[n])),t.Chat.Selector._chat_sel&&(t.Chat.Selector._chat_sel.removeClass(e._visibility_animate_classes.chat[i]),t.Chat.Selector._chat_sel.addClass(e._visibility_animate_classes.chat[n])),e.__toggle_clean_timeout_wait=setTimeout(function(){a(r)},e.__toggle_clean_timeout)},a=function(r){var i=!(r&&"open"!==r),n=!(r&&"close"!==r);i===!0&&(t.Chat.Selector._minimized_sel&&(t.Chat.Selector._minimized_sel.attr("data-maximized","true"),t.Chat.Selector._minimized_sel.removeClass(e._visibility_animate_classes.minimized.maximize)),t.Chat.Selector._shade_sel&&t.Chat.Selector._shade_sel.removeClass(e._visibility_animate_classes.shade.maximize),t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.removeClass(e._visibility_animate_classes.chat.maximize)),n===!0&&(t.Chat.Selector._shade_sel&&t.Chat.Selector._shade_sel.attr("data-visible","false"),t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.attr("data-visible","false"),t.Chat.Selector._minimized_sel&&t.Chat.Selector._minimized_sel.removeClass(e._visibility_animate_classes.minimized.minimize),t.Chat.Selector._shade_sel&&t.Chat.Selector._shade_sel.removeClass(e._visibility_animate_classes.shade.minimize),t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.removeClass(e._visibility_animate_classes.chat.minimize))};"pane"===r?e._is_maximized=!1:e._is_maximized=!0,e.__apply_focus(),i===!0&&t.Feature.has_css_animations()?"pane"===r?(t.Chat.Selector._minimized_sel&&t.Chat.Selector._minimized_sel.attr("data-maximized",n),s("close")):(t.Chat.Selector._shade_sel&&t.Chat.Selector._shade_sel.attr("data-visible",n),t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.attr("data-visible",n),s("open")):(a(),t.Chat.Selector._shade_sel&&t.Chat.Selector._shade_sel.attr("data-visible",n),
t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.attr("data-visible",n),t.Chat.Selector._minimized_sel&&t.Chat.Selector._minimized_sel.attr("data-maximized",n))})()}catch(e){t.Library.logger.error(this.ns+"."+n,e)}},e.prototype._minimize=function(){var e="_minimize";try{t.Base._runtime_configuration.lock_maximized!==!0?(t.Chat.State.propagate("maximized",!1),t.Library.logger.debug(this.ns+"."+e,"Minimizing chat...")):t.Library.logger.debug(this.ns+"."+e,"Cannot minimize chat, maximized mode is locked")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._maximize=function(){var e="_maximize";try{t.Chat.State.propagate("maximized",!0,force=!1,function(){t.Chat.Scroll._to()}),t.Library.logger.debug(this.ns+"."+e,"Maximizing chat...")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._chat_is_visible=function(){var e="_chat_is_visible",r=!0;try{r=this._is_maximized}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype._pane=function(){var e="_pane";try{var r=t.Base._website_configuration||{},i=r.website||{};t.Chat.Selector._excerpt_sel=t.Library.dom(t.Template.render("chat",{activity:{metrics:i.response_metrics&&i.response_metrics.mean&&i.response_metrics.mean>=this.__metric_reply_min&&i.response_metrics.mean<this.__metric_reply_max?{format:t.Date.format_duration(i.response_metrics.mean).toLowerCase(),raw:i.response_metrics.mean}:null,last:i.active_operators&&i.active_operators[0]&&i.active_operators[0].timestamp?{format:t.Date.format_date(t.Date.timestamp_to_iso(i.active_operators[0].timestamp)).toLowerCase(),raw:t.Date.timestamp_to_iso(i.active_operators[0].timestamp)}:null},configuration:r,environment:{smileys:this.__smileys,url:{crisp_web:t.Base._url_website}},methods:{active_operators:t.Avatar.active_operators.bind(t.Avatar)},website:{id:t.Base._website_id,domain:t.Base._website_configuration.website.domain}})),t.Base._container_sel.empty(),t.Base._container_sel.append(t.Chat.Selector._excerpt_sel),t.Chat.Selector._bind(),t.Chat.Event._bind(),this._apply_dynamic_sizing_properties(),this.__force_chat_hide(),t.Chat.State._trigger_default_all()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._apply_dynamic_sizing_properties=function(){var e="_apply_dynamic_sizing_properties";try{if(t.Action.is_chat_visible()===!0){var r=window.innerWidth,i=window.innerHeight;t.Base._is_large_view()===!0?(this.__effective_chat_height=this.__desktop_large_chat_height,this.__effective_chat_width=this.__desktop_large_chat_width):t.Base._is_small_view()===!0?(this.__effective_chat_height=this.__desktop_small_chat_height,this.__effective_chat_width=this.__desktop_small_chat_width):(this.__effective_chat_height=this.__desktop_regular_chat_height,this.__effective_chat_width=this.__desktop_regular_chat_width),t.Base._apply_sizing(),t.Base._is_full_view()===!0&&(this.__effective_chat_height=i,this.__effective_chat_width=r,this.__effective_chat_height-=t.Chat.Selector.get("header").height());var n="rtl"===t.Locale.direction()?"right":"left",s="rtl"===t.Locale.direction()?"left":"right",a=parseInt(t.Chat.Selector.get("form_textarea_message").css(n).replace("px",""),10),o=parseInt(t.Chat.Selector.get("form_act").css(s).replace("px",""),10),c=this.__effective_chat_width-this.__textarea_width_sefety-a-o-t.Chat.Selector.get("form_act")[0].offsetWidth;t.Chat.Selector._chat_sel.safe_css_text("width",this.__effective_chat_width+"px"),t.Chat.Selector.get("content").safe_css_text("height",this.__effective_chat_height+"px"),t.Chat.Selector.get("form_textarea_message").safe_css_text("width",c+"px"),this._flow_height=t.Chat.Selector.get("flow").height(),this._textarea_base_width=t.Chat.Selector.get("form_textarea_message").width(),0===this._form_container_height&&(this._form_container_height=t.Chat.Selector.get("form_container").height()),0===this._textarea_base_line_height&&(this._textarea_base_line_height=parseInt(t.Chat.Selector.get("form_textarea_message").css("line-height").replace("px",""),10)),t.Chat.Scroll._margin=this._flow_height,t.Base._is_full_view()&&this._chat_is_visible()===!0?t.Chat.Viewport._adapt():t.Chat.Viewport._unadapt(),t.Sound.allow(!t.Base._is_full_view()&&!0),t.Chat.Selector.get("form_textarea_message").trigger("keyup"),t.Library.logger.debug(this.ns+"."+e,"Applied dynamic sizing properties matching current window properties")}else t.Library.logger.warn(this.ns+"."+e,"Did not apply dynamic sizing properties because chat is not visible")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._has_focus=function(){var e="_has_focus";try{return this.__has_window_focus&&this._chat_is_visible()&&!0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._magnify=function(e,r){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s="_magnify";try{(function(){t.Library.logger.debug(i.ns+"."+s,"Magnifying media of type: "+e+"...");var a=t.Base._container_sel.find(".crisp-52");0===a.length?(a=t.Library.dom(t.Template.render("magnify",{type:e,source:r,name:n})),t.Chat.Event._magnify_actions(a),t.Base._container_sel.append(a),setTimeout(function(){a[0].focus()},i.__magnify_focus_timeout),t.Library.logger.info(i.ns+"."+s,"Magnified media of type: "+e)):t.Library.logger.warn(i.ns+"."+s,"Could not magnify media of type: "+e+" because: magnify container is missing")})()}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype.__apply_focus=function(){var e="__apply_focus";try{var r=this._has_focus();t.Library.crisp.client.Message.set_messages_in_view(r),t.Library.logger.info(this.ns+"."+e,"Toggled interface focus to state: "+r)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__watch_focus=function(){var e=this,r="__watch_focus";try{this.__has_window_focus=(!window.hasFocus||window.hasFocus())&&!0,window.addEventListener("focus",function(){e.__has_window_focus=!0,e.__apply_focus()},!1),window.addEventListener("blur",function(){e.__has_window_focus=!1,e.__apply_focus()},!1)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__watch_activity=function(){var e="__watch_activity";try{this.__become_active(),window.addEventListener("click",this.__become_active.bind(this),!1),window.addEventListener("mousemove",this.__become_active.bind(this),!1),window.addEventListener("keydown",this.__become_active.bind(this),!1),window.addEventListener("focus",this.__become_active.bind(this),!1),window.addEventListener("blur",this.__become_active.bind(this),!1)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__become_active=function(){var e=this,r="__become_active";try{null!==this.__inactivity_timeout_wait&&clearTimeout(this.__inactivity_timeout_wait),this.__inactivity_timeout_wait=setTimeout(function(){e.__become_inactive()},this.__inactivity_timeout),this.__is_inactive===!0&&(t.Library.crisp.client.socket.connect(),t.Library.logger.warn(this.ns+"."+r,"Client became active, socket will connect again (resume network)")),this.__is_inactive=!1,t.Library.crisp.client.Session.mark_active()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__become_inactive=function(){var e="__become_inactive";try{this.__is_inactive=!0,t.Library.crisp.client.socket.disconnect(),t.Library.logger.warn(this.ns+"."+e,"Client became inactive, socket will disconnect (pause network)")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__force_chat_hide=function(){var e="__force_chat_hide";try{this._is_maximized=!1,t.Chat.Selector._shade_sel.attr("data-visible","false"),t.Chat.Selector._chat_sel.attr("data-visible","false")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Chat.Message=new(function(){function e(){var e="constructor";try{this.ns="CrispChatMessage",this.__acknowledgement_timeout=3e4,this.__animate_entrance_timeout=400,this.__compose_expire_interval=5e3,this.__compose_expire_max_age=12e4,this._has_messages=!1,this.__has_exchanged_messages=!1,this.__has_trigger_messages=!1,this.__acknowledgement_queue=[],this.__sent_read_fingerprints=[],this.__show_email_form_after=1e3,this.__show_email_form_timeout=null,this.__message_compose_timestamp=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{this.__register_unread_handler(),t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.send=function(){var e="send";try{var r=t.Action.get_message_text();r=r.trim(),r&&(t.Action.do_message_send("text",r),t.Action.set_message_text(""),t.Chat.Selector.get("form_textarea_message").trigger("keyup"))}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.received=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o="received";try{var c=this.__show("from",e);r===!0&&t.Chat.Interface._has_focus()===!1&&t.Sound.start("events","chat-message-receive"),s===!0&&t.Chat.Scroll._to_last_message(direction="from"),i===!0&&this.__animate_entrance(c),n===!0&&this._mark_has_exchanged_messages(),e.user&&"welcome"!==e.user.source&&t.Chat.Misc._update_operator_details(e.user),a===!1&&t.Chat.Alert._update("wait_reply","lock"),this.__message_compose_timestamp&&e.timestamp>0&&this.__message_compose_timestamp<e.timestamp&&t.Chat.Message._hide_compose()}catch(e){t.Library.logger.error(this.ns+"."+o,e)}},e.prototype.sent=function(e){var r=this,i="sent";try{var n=this.__show("to",e);if(t.Chat.Scroll._to_last_message(direction="to"),this.__animate_entrance(n),this.__schedule_acknowledgement_check(e.fingerprint),t.Chat.Event._message_actions_sent(n,e),"lock"!==t.Chat.Alert._states.email_form){var s=t.Action.get_user_email();s||(t.Base._website_configuration.chat.email_visitors===!0?(null!==this.__show_email_form_timeout&&clearTimeout(this.__show_email_form_timeout),this.__show_email_form_timeout=setTimeout(function(){r.__show_email_form_timeout=null,t.Chat.Alert._update("email_form","show")},this.__show_email_form_after)):t.Chat.Alert._update("wait_reply","show"))}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.sent_acknowledgement=function(e){var r="sent_acknowledgement";try{var i=this.__acknowledgement_queue.indexOf(e.fingerprint);i!==-1&&(this.__acknowledgement_queue.splice(i,1),t.Library.logger.info(this.ns+"."+r,"Acknowledged sent message with fingerprint: "+e.fingerprint)),this.__show("to",e),t.Chat.Scroll._to_last_message(direction="to")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.received_from_history=function(e){var r="received_from_history";try{this.__show("from",e),e.index.current===e.index.total&&this.__history_restore_done()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.sent_from_history=function(e){var r="sent_from_history";try{this.__show("to",e),e.read===!0&&this.__sent_read_fingerprints.push(e.fingerprint),e.index.current===e.index.total&&this.__history_restore_done()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._show_welcome=function(){var e="_show_welcome";try{var r=t.Chat.State._is_restored!==!0&&!0,i=t.Locale.text("theme_welcome",["default_chat",t.Base._website_configuration.chat.theme_welcome+"_chat"],[t.Base._website_configuration.website.name]);this.received({type:"text",timestamp:0,content:i,fingerprint:"1",user:{source:"welcome",type:"website",user_id:t.Base._website_id}},with_sounds=!1,with_animations=r,with_exchanged=r,with_scroll=r,is_locally_generated=!0)}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._show_compose=function(e){var r="_show_compose";try{var i=(t.Chat.Selector._chat_sel?t.Chat.Selector._chat_sel.find(".crisp-233"):null)||[];this.__message_compose_timestamp=e,0===i.length&&(i=t.Library.dom(t.Template.render("chat_bubble_composing")),t.Chat.Selector.get("flow_events").append(i),t.Chat.Scroll._to_last_message(direction=null),this.__check_compose_expire())}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._hide_compose=function(){var e="_hide_compose";try{var r=t.Chat.Selector._chat_sel?t.Chat.Selector._chat_sel.find(".crisp-233"):null;this.__message_compose_timestamp=null,r&&r.length>0&&r.remove()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._acknowledge_read_send=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="_acknowledge_read_send";try{var n=null;if(e.length>0)for(var s=t.Chat.Selector.get("flow_messages").find(".crisp-200"),a=s.length-1;a>=0;a--){var o=s[a].getAttribute("data-fingerprint");if(o&&(isNaN(o)||(o=parseInt(o,10)),e.indexOf(o)!==-1)){n=o;break}}else{var c=t.Chat.Selector.get("flow_messages").find('.crisp-200[data-from="visitor"]');c.length>0&&(n=c.last().attr("data-fingerprint")||null)}null!==n&&(t.Chat.Selector.get("flow_messages").find(".crisp-217").safe_css_text("display","none"),t.Chat.Selector.get("flow_messages").find([".crisp-200",'[data-fingerprint="'+n+'"]'].join("")).find(".crisp-217").safe_css_text("display","inline-block"),r===!1&&t.Library.logger.debug(this.ns+"."+i,["Acknowledged send message read ","for fingerprint: "+n].join("")))}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype._mark_has_exchanged_messages=function(){var e="_mark_has_exchanged_messages";try{this.__has_exchanged_messages===!1&&(this.__has_exchanged_messages=!0,t.Base._container_sel.attr("data-has-exchanged-messages","true"),t.Chat.Interface._apply_dynamic_sizing_properties())}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__check_compose_expire=function(){var e=this,r="__check_compose_expire";try{t.Library.logger.debug(this.ns+"."+r,"Checking for remote message compose state expiration"),this.__message_compose_timestamp&&(Date.now()-this.__message_compose_timestamp>=this.__compose_expire_max_age?(t.Library.logger.warn(this.ns+"."+r,"Remote message compose state has expired"),this._hide_compose()):setTimeout(function(){e.__check_compose_expire()},this.__compose_expire_interval))}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__display=function(e,r,i,n,s,a,o){var c="__display",_=null;try{var l="from"===r?"operator":"visitor",p="operator"===l?i.avatar||i.user_id:"session",h="",u="";s>0&&(h=t.Date.timestamp_to_iso(s),u=t.Date.format_date(h)),_=t.Library.dom(t.Template.render("chat_message_"+e,{from:l,user:i,content:n,date_iso:h,date_formatted:u,fingerprint:a,metas:o,configuration:t.Base._website_configuration,environment:{url:{crisp_image:t.Base._url_image}}}));var d=t.Chat.Selector.get("flow_messages").find([".crisp-200",'[data-fingerprint="'+a+'"]'].join(""));if(0===d.length){var f=t.Date.timestamp_to_properties(s),g=t.Chat.Selector.get("flow_messages").children().last(),m=g.filter(".crisp-236").length>0&&!0;m&&g.attr("data-day")===f.day&&g.attr("data-month")===f.month&&g.attr("data-year")===f.year||(g=t.Library.dom(t.Template.render("chat_bubble_thread",f)),t.Chat.Selector.get("flow_messages").append(g));var y=g.find(".crisp-239"),v=y.children().last(),b=v.filter(".crisp-240").length>0&&!0;!b||b&&(v.attr("data-from")!==l||v.attr("data-user-marker")!==p)?(v=t.Library.dom(t.Template.render("chat_bubble_group",{from:l,user_marker:p})),y.append(v)):(v.find(".crisp-201").remove(),v.find(".crisp-216").remove()),v.append(_),v.append(t.Template.render("clear")),t.Chat.Selector._last_message_height=_.height(),"operator"===l&&this.__message_compose_timestamp&&s>0&&s>this.__message_compose_timestamp&&this._hide_compose()}else{var w=".crisp-207",k=d.find(w),L=_.find(w);k[0].parentNode.replaceChild(L[0],k[0]),_=d}s>0&&(this._has_messages=!0),this.__has_trigger_messages===!1&&"trigger"===i.source&&(this.__has_trigger_messages=!0,t.Base._container_sel.attr("data-has-trigger-messages","true"))}catch(e){t.Library.logger.error(this.ns+"."+c,e)}finally{return _}},e.prototype.__animate_entrance=function(e){var r=this,i="__animate_entrance";try{t.Feature.has_css_animations()&&function(){var t="crisp-250";e.addClass(t),setTimeout(function(){e.removeClass(t)},r.__animate_entrance_timeout)}()}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__show=function(e,r){var i="__show",n=null;try{switch(r.type){case"text":if(!r.content)throw new Error("Got an empty text message, dropping it");n=this.__display("text",e,r.user||{},r.content,r.timestamp,r.fingerprint,{preview:r.preview}),t.Chat.Event._message_actions_text(n);break;case"file":if(!r.content||!r.content.url)throw new Error("Got an invalid file message, dropping it");n=this.__display("file",e,r.user||{},r.content,r.timestamp,r.fingerprint),t.Chat.Event._message_actions_file(n);break;case"animation":if(!r.content||!r.content.url)throw new Error("Got an invalid animation message, dropping it");n=this.__display("animation",e,r.user||{},r.content,r.timestamp,r.fingerprint);break;default:throw new Error("Got an unsupported message (with type: "+r.type+")")}}catch(e){t.Library.logger.error(this.ns+"."+i,e)}finally{return n}},e.prototype.__history_restore_done=function(){var e="__history_restore_done";try{this.__sent_read_fingerprints.length>0&&(this._acknowledge_read_send(this.__sent_read_fingerprints,!0),this.__sent_read_fingerprints=[]),t.Chat.State._retrigger("scroll")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__register_unread_handler=function(){var e="__register_unread_handler";try{t.Library.crisp.client.Message.set_unread_messages_callback(function(e,r,i){t.Chat.Notification._update_unread(e,r,i)})}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__schedule_acknowledgement_check=function(e){var r=this,i="__schedule_acknowledgement_check";try{this.__acknowledgement_queue.push(e),setTimeout(function(){try{var n=r.__acknowledgement_queue.indexOf(e);if(n===-1)t.Library.logger.debug(r.ns+"."+i+":timeout","Message was delivered (fingerprint: "+e+")");else{var s=t.Chat.Selector.get("flow_messages").find([".crisp-200",'[data-fingerprint="'+e+'"]'].join(""));s.find(".crisp-216").safe_css_text("display","none"),s.find(".crisp-220").safe_css_text("display","block"),t.Library.logger.warn(r.ns+"."+i+":timeout","Message was not delivered (fingerprint: "+e+")")}r.__acknowledgement_queue.splice(n,1)}catch(e){t.Library.logger.error(r.ns+"."+i+":timeout",e)}},this.__acknowledgement_timeout),t.Library.logger.debug(this.ns+"."+i,["Scheduled a message acknowledgement check ","for fingerprint: "+e].join(""))}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e}()),t.Chat.Misc=new(function(){function e(){var e="constructor";try{this.ns="CrispChatMisc",this._operator_details={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._update_operator_details=function(e){var r="_update_operator_details";try{t.Utility.is_equal(e,this._operator_details)||(t.Chat.State.propagate("operator",e),t.Library.logger.debug(this.ns+"."+r,"Updated operator details"))}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e}()),t.Chat.Notification=new(function(){function e(){var e="constructor";try{this.ns="CrispChatNotification",this.__preview_stack_maximum=5,this.__second_in_milliseconds=1e3,this.__tooltip_show_delay=.1,this.__tooltip_show_delay_timeout_wait=null,this.__preview_stack_last_fingerprint=null,this.__page_title_current=null,this.__animate_new_messages_tooltip_timeout=500,this.__animate_extended_preview_timeout=1e3}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._update_unread=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s="_update_unread";try{(function(){var a="crisp-242";e>0?function(){var o=1===e?"singular":"plural";t.Chat.Selector.get("pane_unread").text(e),t.Chat.Selector.get("tooltips_new_messages_text").safe_css_text("display","none"),t.Chat.Selector.get("tooltips_new_messages").find([".crisp-159",'[data-variant="'+o+'"]'].join("")).safe_css_text("display","block");var c="none"===t.Chat.Selector.get("tooltips_new_messages").css("display")&&!0,_=r.__show_unread_preview(e,i,n,c);null===r.__page_title_current&&(r.__page_title_current=document.title),r.__page_title_current&&(document.title=""+e+" - "+r.__page_title_current),c===!0&&(t.Feature.has_css_animations()?(null!==r.__tooltip_show_delay_timeout_wait&&clearTimeout(r.__tooltip_show_delay_timeout_wait),r.__tooltip_show_delay_timeout_wait=setTimeout(function(){r.__tooltip_show_delay_timeout_wait=null,t.Chat.Selector.get("tooltips_new_messages").safe_css_text("display","block"),t.Chat.Selector.get("tooltips_new_messages").addClass(a),_.length>0&&(t.Chat.Selector._shade_sel.attr("data-visible-subtle","true"),t.Action.is_chat_closed()===!0&&t.Chat.Selector._shade_sel.addClass(t.Chat.Interface._visibility_animate_classes.shade.maximize)),setTimeout(function(){t.Chat.Selector._shade_sel.removeClass(t.Chat.Interface._visibility_animate_classes.shade.maximize),t.Chat.Selector.get("tooltips_new_messages").removeClass(a)},r.__animate_new_messages_tooltip_timeout)},r.__tooltip_show_delay*r.__second_in_milliseconds)):(t.Chat.Selector.get("tooltips_new_messages").safe_css_text("display","block"),_.length>0&&t.Chat.Selector._shade_sel.attr("data-visible-subtle","true")),t.Chat.Selector.get("pane_unread").safe_css_text("display","block")),t.Chat.Message._mark_has_exchanged_messages(),t.Library.logger.info(r.ns+"."+s,"Pending notifications count now: "+e)}():(null!==r.__tooltip_show_delay_timeout_wait&&clearTimeout(r.__tooltip_show_delay_timeout_wait),t.Chat.Selector.get("tooltips_new_messages").removeClass(a),t.Chat.Selector.get("tooltips_new_messages").safe_css_text("display","none"),t.Chat.Selector.get("pane_unread").safe_css_text("display","none"),t.Chat.Selector._shade_sel.attr("data-visible-subtle","false"),t.Chat.Selector.get("tooltips_extended_preview").empty(),r.__page_title_current&&(document.title=r.__page_title_current),t.Library.logger.info(r.ns+"."+s,"Cleared pending notifications"))})()}catch(e){t.Library.logger.error(this.ns+"."+s,e)}},e.prototype._check_clearance=function(){var e="_check_clearance";try{var r=t.Chat.Selector.get("flow")[0].scrollTop,i=t.Chat.Selector.get("flow")[0].scrollHeight,n=t.Chat.Selector.get("flow")[0].clientHeight;n+r>=i-t.Chat.Interface._last_message_height&&t.Chat.Alert._update("new_messages","hide")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__show_unread_preview=function(e,r,i,n){var s=this,a="__show_unread_preview",o=[];try{(function(){var e=null,a=[];t.Chat.Selector.get("tooltips_extended_preview").empty();for(var c=i.length-1;c>=0&&!(r.indexOf(i[c].fingerprint)!==-1&&(o.unshift(i[c]),o.length>=s.__preview_stack_maximum));c--);for(var _=0;_<o.length;_++){var l=t.Library.dom(t.Template.render("chat_preview_message",{type:o[_].type,from:o[_].from,content:o[_].content,user:o[_].user||{},environment:{url:{crisp_image:t.Base._url_image}}}));l&&(l.appendTo(t.Chat.Selector.get("tooltips_extended_preview")),_===o.length-1&&null===e&&(e=o[_].fingerprint),null===e&&null!==s.__preview_stack_last_fingerprint||a.push(l))}null!==e&&(s.__preview_stack_last_fingerprint=e),t.Feature.has_css_animations()&&a.length>0&&function(){for(var e="crisp-251",t=0;t<a.length;t++)a[t].addClass(e);setTimeout(function(){for(var t=0;t<a.length;t++)a[t].removeClass(e)},(n===!0?s.__tooltip_show_delay*s.__second_in_milliseconds:0)+s.__animate_extended_preview_timeout)}()})()}catch(e){t.Library.logger.error(this.ns+"."+a,e)}finally{return o}},e}()),t.Chat.Scroll=new(function(){function e(){var e="constructor";try{this.ns="CrispChatScroll",this._margin=0,this._position=0}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r="_to";try{null===e&&(e=t.Chat.Selector.get("flow")[0].scrollHeight),t.Chat.State.propagate("scroll",e),t.Chat.Notification._check_clearance()}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._to_last_message=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"to",r="_to_last_message",i=!1;try{if(t.Chat.Interface._chat_is_visible()===!0){var n=t.Chat.Selector.get("flow")[0].scrollTop,s=t.Chat.Selector.get("flow")[0].scrollHeight,a=t.Chat.Selector.get("flow")[0].clientHeight;(!n||a+n>=s-this._margin/2)&&(i=!0,this._to(),t.Library.logger.debug(this.ns+"."+r,"Scrolled down to last message")),i===!1&&"from"===e&&t.Chat.Alert._is_visible("warn_reply")===!1&&t.Chat.Alert._is_visible("email_invalid")===!1&&t.Chat.Alert._is_visible("wait_reply")===!1&&t.Chat.Alert._update("new_messages","show")}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),t.Chat.Selector=new(function(){function e(){var e="constructor";try{this.ns="CrispChatSelector",this.__namespaced_class_names={pane_icon:"crisp-166",pane_avatar:"crisp-167",pane_unread:"crisp-169",header:"crisp-61",header_avatar:"crisp-64",header_operator:"crisp-74",drop_over:"crisp-88",content:"crisp-81",flow:"crisp-84",flow_messages:"crisp-85",flow_events:"crisp-86",pickers:"crisp-93",pickers_selector_one:"crisp-96",pickers_inner_one:"crisp-99",pickers_search_input:"crisp-105",pickers_smiley:["crisp-99",'[data-type="smiley"]'].join(""),pickers_gif:["crisp-99",'[data-type="gif"]'].join(""),alerts:"crisp-109",alerts_one:"crisp-110",alerts_new_messages:'crisp-110[data-type="new_messages"]',alerts_email_form:'crisp-110[data-type="email_form"]',alerts_warn_reply:'crisp-110[data-type="warn_reply"]',alerts_email_invalid:'crisp-110[data-type="email_invalid"]',alerts_email_form_form:"crisp-119",alerts_email_form_input:"crisp-122",alerts_email_form_validate:["crisp-123",'[data-for="email_validate"]'].join(""),alerts_email_form_cancel:["crisp-126",'[data-for="email_validate"]'].join(""),form_container:"crisp-127",form_message:"crisp-128",form_attach:"crisp-128",form_act:"crisp-130",form_button_send:"crisp-147",form_button_smiley:'crisp-132[data-type="smiley"]',form_button_attach:'crisp-132[data-type="file"]',form_textarea_message:"crisp-129",form_input_attach:"crisp-143",tooltips_new_messages:["crisp-29",'[data-id="new_messages"]'].join(""),tooltips_new_messages_text:["crisp-159",'[data-for-id="new_messages"]'].join(""),tooltips_extended_preview:"crisp-156"},this._viewport_sel=null,this._excerpt_sel=null,this._shade_sel=null,this._chat_sel=null,this._minimized_sel=null,this.__cache={}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.get=function(e){var r="get",i=null;try{if("undefined"!=typeof this.__cache[e])i=this.__cache[e];else{if("undefined"==typeof this.__namespaced_class_names[e])throw new Error("Selector with namespace "+e+" not found");if(i=this._excerpt_sel.find("."+this.__namespaced_class_names[e]),0===i.length)throw new Error("Could not select the element with namespace: "+e);this.__cache[e]=i}}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype._bind=function(){var e="_bind";try{this.__bind_page(),this.__bind_main()}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__bind_page=function(){var e="__bind_page";try{this._viewport_sel=t.Library.dom('head meta[name="viewport"]')}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__bind_main=function(){var e="__bind_main";try{this._shade_sel=this._excerpt_sel.find(".crisp-170"),this._chat_sel=this._excerpt_sel.find(".crisp-27"),this._minimized_sel=this._excerpt_sel.find(".crisp-26")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e}()),t.Chat.State=new(function(){function e(){var e="constructor";try{this.ns="CrispChatState",this.__propagate_wait=50,this.__avatar_size=240,this.__register={trigger:this.__handle_trigger,alert:this.__handle_alert,operator:this.__handle_operator,scroll:this.__handle_scroll,maximized:this.__handle_maximized,textarea:this.__handle_textarea},this._is_restored=!1,this._session={},this.__pending={},this.__restored_state=[],this.__pending_timeout=null,this.__default={trigger:t.Trigger._processed,alert:t.Chat.Alert._states,operator:t.Chat.Misc._operator_details,scroll:t.Chat.Scroll._position,maximized:t.Chat.Interface._is_maximized,textarea:t.Chat.Field._textarea_val}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.receive=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="receive";try{var n=void 0,s=void 0,a=0,o=[];for(n in e)e.hasOwnProperty(n)&&(t.Utility.is_equal(e[n],this._session[n])||(o.push(n),this._session[n]=e[n],r===!1&&"undefined"!=typeof this.__pending[n]&&(delete this.__pending[n],t.Library.logger.warn(this.ns+"."+i,"Received network state corrupted pending local state with namespace: "+n))));for(s=0;s<o.length;s++)n=o[s],t.Chat.State.__register[n].bind(this)(this._session[n]),a++;t.Library.logger.info(this.ns+"."+i,"Received new state, applied changes: "+a)}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.propagate=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o="propagate";try{if(i!==!0&&t.Utility.is_equal(this._session[e],r))t.Library.logger.debug(this.ns+"."+o,"Ignored propagation of remote state with namespace: "+e+" because: value already propagated"),"function"==typeof s&&s(!1);else{this.__pending[e]=r,null!==this.__pending_timeout&&(clearTimeout(this.__pending_timeout),this.__pending_timeout=null,t.Library.logger.info(this.ns+"."+o,"Grouped multiple changes in a single propagation (scheduled)"));var c=t.Utility.clone(this._session);c[e]=r,this.receive(c,!0),this.__pending_timeout=setTimeout(function(){if(t.Utility.is_empty(n.__pending))t.Library.logger.warn(n.ns+"."+o+":timeout","Did not propagate remote state with namespace: "+e+" because: pending state corrupted by incoming concurrent state"),"function"==typeof s&&s(!1);else{var r=t.Utility.clone(n.__pending);n.__pending={},n.__pending_timeout=null,t.Library.crisp.client.Session.set_state(r,function(e){e?"function"==typeof a&&a():"function"==typeof s&&s(!0)}),t.Library.logger.info(n.ns+"."+o+":timeout","Propagated remote state with namespace: "+e)}},this.__propagate_wait)}}catch(e){t.Library.logger.error(this.ns+"."+o,e)}},e.prototype._restore=function(e){var r="_restore";try{t.Base._is_full_view()===!0&&(e.maximized=!1);for(var i in this.__default)"undefined"==typeof e[i]&&(e[i]=this.__default[i]);this._is_restored=!0,this._session=e,this.__restored_state=t.Utility.keys(this._session)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._retrigger=function(e){var r="_retrigger";try{this._trigger_default(e,this.__default[e]),t.Library.logger.info(this.ns+"."+r,"Retriggered stored state with namespace: "+e)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype._trigger_default_all=function(){var e="_trigger_default_all";try{var r=void 0;for(r in this.__default)this.__default.hasOwnProperty(r)&&this._trigger_default(r,this.__default[r])}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._trigger_default=function(e,r){var i="_trigger_default";try{if("function"!=typeof this.__register[e])throw new Error("No such state handler: "+e);
"undefined"==typeof this._session[e]&&(this._session[e]=r),this.__register[e].bind(this)(this._session[e])}catch(e){t.Library.logger.error(this.ns+"."+i,e)}},e.prototype.__is_popped_restored_state=function(e){var r="__is_popped_restored_state",i=!1;try{var n=this.__restored_state.indexOf(e);n!==-1&&(this.__restored_state.splice(n,1),i=!0)}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e.prototype.__handle_trigger=function(e){var r="__handle_trigger";try{this.__is_popped_restored_state("trigger");if(e&&e.length>0)for(var i=0;i<e.length;i++)t.Trigger._processed.indexOf(e[i])===-1&&t.Trigger._processed.push(e[i]);t.Library.logger.debug(this.ns+"."+r,"Handled")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_alert=function(e){var r="__handle_alert";try{var i=(this.__is_popped_restored_state("alert"),void 0),n=void 0,s=void 0,a=void 0,o=void 0,c=void 0,_=void 0,l=[["show","unlock"],["unlock","show"],["hide","lock"],["lock","hide"],["lock","show"]];for(n in e)if(e.hasOwnProperty(n)){if(s=e[n],o=t.Chat.Alert._states[n],a=t.Chat.Selector.get("alerts").find([".crisp-110",'[data-type="'+n+'"]'].join("")),i=!1,o===s)i=!0;else if("unlock"!==s&&"lock"===o)i=!0;else for(c=0;c<l.length;c++)_=l[c],o===_[0]&&s===_[1]&&(i=!0);if(a.length>0&&i===!1){if("show"===s||"unlock"===s)t.Chat.Selector.get("alerts_one").safe_css_text("display","none"),a.safe_css_text("display","inline-block"),t.Chat.Selector.get("content").attr("data-has-alert-"+n,"true"),t.Library.logger.debug(this.ns+"."+r,'Alert "'+n+'" shown');else{if("hide"!==s&&"lock"!==s)throw new Error("Unknown action: "+s);a.safe_css_text("display","none"),t.Chat.Selector.get("content").removeAttr("data-has-alert-"+n),t.Library.logger.debug(this.ns+"."+r,'Alert "'+n+'" hidden')}t.Chat.Alert._states[n]=s,t.Chat.Field._focus_on_foreground()}else t.Chat.Alert._states[n]=s}t.Library.logger.debug(this.ns+"."+r,"Handled")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_operator=function(e){var r="__handle_operator";try{var i=(this.__is_popped_restored_state("operator"),void 0),n=void 0,s=void 0,a=void 0,o=void 0,c=void 0;if(t.Chat.Misc._operator_details=e||{},t.Utility.is_empty(t.Chat.Misc._operator_details)?(i="initial",s="website",a=t.Base._website_id):(i="ongoing",s=e.type||"operator",a=e.user_id,o=e.avatar,n=t.Library.crisp.web.Name.parse_first_name(e.nickname)),(o||a)&&(c=t.Avatar.url(this.__avatar_size,s,a,o)),c){if("ongoing"===i){for(var _=t.Chat.Selector.get("header_avatar").first().siblings()||[],l=t.Chat.Selector.get("header_avatar").find(".crisp-65"),p=0;p<_.length;p++)t.Library.dom(_[p]).remove();l&&(l.attr("data-has-name",n?"true":"false"),l.find(".crisp-68").text(n||"")),t.Chat.Selector.get("header_operator").text(n||""),t.Chat.Selector.get("header_avatar").safe_css_text("background-image","url('"+c+"')"),t.Chat.Selector.get("pane_avatar").safe_css_text("background-image","url('"+c+"')"),t.Chat.Selector.get("pane_icon").attr("data-is-ongoing","true")}t.Chat.Selector._chat_sel&&t.Chat.Selector._chat_sel.attr("data-chat-status",i)}t.Library.logger.debug(this.ns+"."+r,"Handled")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_scroll=function(e){var r="__handle_scroll";try{var i=this.__is_popped_restored_state("scroll");i===!1&&(t.Chat.Scroll._position=e,t.Chat.Selector.get("flow")[0].scrollTop=t.Chat.Scroll._position,t.Library.logger.debug(this.ns+"."+r,"Handled"))}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_maximized=function(e){var r="__handle_maximized";try{var i=this.__is_popped_restored_state("maximized"),n=i!==!0&&!0;t.Base._runtime_configuration.lock_maximized===!0&&(e=!0),e===!1?(t.Chat.Interface._toggle_visibility(visible_target="pane",width_animations=n),t.Chat.Field._blur_from_foreground(),t.Chat.Viewport._unadapt(),t.Chat.Picker._reset(),t.Action._event("chat:closed"),t.Library.logger.info(this.ns+"."+r,"Chat minimized")):(t.Chat.Interface._toggle_visibility(visible_target="chat",width_animations=n),t.Chat.Field._focus_on_foreground(),t.Chat.Viewport._adapt(),t.Chat.Notification._check_clearance(),t.Action._event("chat:opened"),t.Library.logger.info(this.ns+"."+r,"Chat maximized")),t.Library.logger.debug(this.ns+"."+r,"Handled")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e.prototype.__handle_textarea=function(e){var r="__handle_textarea";try{this.__is_popped_restored_state("textarea");t.Action.set_message_text(e),t.Library.logger.debug(this.ns+"."+r,"Handled")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}},e}()),t.Chat.Viewport=new(function(){function e(){var e="constructor";try{this.ns="CrispChatViewport",this.__content_regex=/;/g,this.__is_adapted=!1,this.__page_meta_values=null}catch(r){t.Library.logger.error(this.ns+"."+e,r)}}return e.prototype.init=function(){var e="init";try{t.Library.logger.debug(this.ns+"."+e,"Initialize")}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._adapt=function(){var e="_adapt";try{if(t.Base._is_full_view()===!0){if(this.__is_adapted===!1){null===this.__page_meta_values&&(this.__page_meta_values=this.__parse());var r=t.Utility.clone(this.__page_meta_values);r.width="device-width",r["initial-scale"]="1",r["maximum-scale"]="1",r["user-scalable"]="0";var i=this.__generate_content_value(r);null!==t.Chat.Selector._viewport_sel&&t.Chat.Selector._viewport_sel.length>0?t.Chat.Selector._viewport_sel.attr("content",i):(t.Chat.Selector._viewport_sel=t.Library.dom(t.Template.render("viewport",{content:i})),t.Library.dom("head").append(t.Chat.Selector._viewport_sel))}this.__is_adapted=!0,t.Library.logger.debug(this.ns+"."+e,"Adapted viewport")}else this.__is_adapted=!1}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype._unadapt=function(){var e="_unadapt";try{if(this.__is_adapted===!0){if(null!==t.Chat.Selector._viewport_sel&&t.Chat.Selector._viewport_sel.length>0){var r=this.__generate_content_value(this.__page_meta_values);r?t.Chat.Selector._viewport_sel.attr("content",r):(t.Chat.Selector._viewport_sel.remove(),t.Chat.Selector._viewport_sel=null)}this.__is_adapted=!1,t.Library.logger.debug(this.ns+"."+e,"Un-adapted viewport")}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}},e.prototype.__parse=function(){var e="__parse",r={};try{if(r={},t.Chat.Selector._viewport_sel.length>0){var i=t.Chat.Selector._viewport_sel.attr("content");if(i=i.trim(),i=i.replace(this.__content_regex,",")){var n=void 0,s=void 0,a=void 0,o=void 0,c=void 0,_=void 0;for(_=i.indexOf(",")!==-1?i.split(","):[i],n=0;n<_.length;n++)s=_[n],s.indexOf("=")!==-1&&(a=s.split("="),o=a[0].trim(),c=a[1].trim(),o&&c&&(r[o]=c))}}}catch(r){t.Library.logger.error(this.ns+"."+e,r)}finally{return r}},e.prototype.__generate_content_value=function(e){var r="__generate_content_value",i="";try{var n=void 0,s=[];for(n in e)e.hasOwnProperty(n)&&s.push([n,e[n]].join("="));i=s.join(", ")}catch(e){t.Library.logger.error(this.ns+"."+r,e)}finally{return i}},e}()),_dollar_crisp={__init:t.Base.init.bind(t.Base),__spool:{},push:t.Pipeline.push.bind(t.Pipeline),get:t.Pipeline.get.bind(t.Pipeline),set:t.Pipeline.set.bind(t.Pipeline),is:t.Pipeline.is.bind(t.Pipeline),on:t.Pipeline.on.bind(t.Pipeline),off:t.Pipeline.off.bind(t.Pipeline),do:t.Pipeline.do.bind(t.Pipeline),safe:t.Pipeline.safe.bind(t.Pipeline),help:t.Pipeline.help.bind(t.Pipeline)},e===!0&&(_dollar_crisp.debug=t),"object"==typeof window.$crisp&&window.$crisp.length>0){_dollar_crisp.__spool.pending_actions=[];for(var i=0;i<window.$crisp.length;i++)_dollar_crisp.__spool.pending_actions.push(window.$crisp[i])}window.$crisp=_dollar_crisp}catch(t){if(e===!0)throw t}})();